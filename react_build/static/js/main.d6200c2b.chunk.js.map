{"version":3,"sources":["../../../SlideShowGL/src/StaticFunctions.js","info.txt","main/info.txt","MrSoir_grass.png","Ballin/info.txt","Kubu/Kubu_icon.png","ReferenceManager/MainImage.png","ReferenceManager/SecondImage.png","Notes/info.txt","SlideShow/info.txt","../../../SlideShowGL/index.js","../../../SlideShowGL/src/SlideShowGL.js","../../../SlideShowGL/src/glFunctions.js","../../../SlideShowGL/src/TriangleSplitter.js","../../../SlideShowGL/src/WaveAnimation.js","../../../SlideShowGL/src/FlipAnimation.js","../../../SlideShowGL/src/ScaleAnimation.js","../../../SlideShowGL/src/FreakAnimation.js","../../../SlideShowGL/src/CycloneAnimation.js","../../../SlideShowGL/src/GravityAnimation.js","../../../SlideShowGL/src/TileAnimation.js","../../../SlideShowGL/src/DelayedTileAnimation.js","../../../SlideShowGL/src/ZoomTileAnimation.js","ArduinoFullstack/info.txt","TabBar.js","StaticFunctions.js","WaveWaitingBar/WaveWaitingBar.js","WaitingBar/WaitingBar.js","LoadingImage.js","MainImagePreview.js","main/MainPreviewTextLoader.js","main/Main.js","SlideShow.js","CarouselDiaShow/Carousel.js","CurtainButton.js","Ballin/Ballin.js","AnimatedGif.js","AnimatedVideo.js","Kubu/Kubu.js","ReferenceManager/ReferenceManager.js","ImagedPreviews/ImagedPreviews.js","Notes/Notes.js","SlideShow/SlideShow.js","ArduinoFullstack/ArduinoFullstack.js","LineAnimation/LineAnimation.js","SpinningWheel.js","IndicatorBar.js","DiaSelector/DiaSelector.js","FlipSelector.js","ReactShowCase/FlipSelectorRSC.js","SlideBar.js","ReactShowCase/SlideBarRSC.js","ReactShowCase/SpinningWheelRSC.js","CheckBox.js","ReactShowCase/WaitingBarRSC.js","ReactShowCase/WaveWaitingBarRSC.js","Plot3D/PipeThree.js","Plot3D/GridThree.js","Plot3D/Plot3DThree.js","Plot3D/Plot3D.js","ReactShowCase/DataVisualizationRSC.js","ReactShowCase/CarrouselDiaShowRSC.js","ReactShowCase/ReactShowCase.js","FragmentImage/EasingFunctions.js","FragmentImage/FragmentImage.js","FragmentImage/FragmentImagePreview.js","LandingPage/LandingPage.js","App.js","serviceWorker.js","index.js"],"names":["StaticFunctions","replaceString","s","args","ids","arguments","length","undefined","i","lastS","replId","replace","shuffle","a","j","Math","floor","random","_ref","sort","xs","valueGetter","v","v0","v1","val0","val1","arraysEqual","a0","a1","map","every","module","exports","SlideShowGL","_toConsumableArray","_classCallCheck","_createClass","GlFunctionsInstantiator","TriangleSplitter","WaveAnimation","FlipAnimation","ScaleAnimation","FreakAnimation","CycloneAnimation","GravityAnimation","TileAnimation","DelayedTileAnimation","ZoomTileAnimation","flattenArr","arr","flat","reduce","b","concat","window","mobilecheck","check","navigator","userAgent","vendor","opera","test","substr","console","log","ANIMATIONS","Map","set","vertexShaderSource","fragmentShaderSource","canvasID","this","saveToImage","saveToImageID","pictureData","progress","vertices","normals","textureCoords","splitDepth","imgPaths","curImgID0","curImgID1","images","imgCount","imgsLoading","animationMeta","animationDuration","delayDuration","inAnimationDelay","stopAnimation","animationIsRunning","animationID","glMeta","backgroundColor","imgRatio","instancing","instanceCount","cameraPos","canvas","document","getElementById","gl","getContext","antialias","glFunctions","key","value","min","setSplitDepth","interpolF","vertices2D","splitRect","verticesArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","push","apply","err","return","useProgram","createVAO","polygonAverages","randoms","slice","v2","avgx","avgy","avgz","r0","r1","r2","genRandom","rs","rc","evalLayoutLocations","layoutLocations","genAndBindVectorVBO","setUniformVector3fv","setUniform1f","setUniformVector2fv","setAnimationBuffers","unbindVAO","_this","setTextureImages","frstID","getFirstImageID","scndID","getSecondImageID","imgIDsToLoad","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","id","loadImage","_this2","image","Image","src","addEventListener","evnt","startAnimationLoop","bindVAO","img0","img1","setTextureImage","imgs","Array","from","imgsToLoad","loadAllImages","primitiveType","TRIANGLES","count","drawArraysInstanced","drawArrays","animTypeStr","AnimConstr","get","animationType","setGL","forEach","anim","animID","animMeta","setAnimationType","splitImageIntoPolygons","setImages","setImagePaths","resizeCanvasToDisplaySize","frgmntShrdSrc","vertexShader","createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","viewport","width","height","setModelView","setPerspective","createPane","callback","_this3","bind","pths","mgsToLoad","imgLoadingFinished","onImagesLoaded","pth","onStoppingAnimation","paintPicture","_this$gl","clearColor","clear","COLOR_BUFFER_BIT","updateAnimationBuffers","paintPane","_this4","duration","lastTime","curAnimID","cntr","innerGameLoop","curTime","dt","idStr","padStart","saveImgName","toBlob","blob","setTimeout","requestAnimationFrame","incrementImageIDs","nextAnimation","performance","now","initBufferData","updateBufferData","multiplier","realToCSSPixels","devicePixelRatio","clientWidth","clientHeight","max","keys","glMatrix","programs","shaderMeta","curShaderProgram","uniforms","vboMeta","VAOs","textures","type","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","name","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","data","shaderLoc","getUniformLocation","glFunc","uniform","evalUniformLayoutLocation","_setUniform","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","uniformMatrix2iv","_this5","uniformMatrix3iv","_this6","uniformMatrix4iv","_this7","_this7$gl","uniform1f","_this8","_this8$gl","uniform1fv","_this9","_this9$gl","uniform2fv","_this10","_this10$gl","uniform3fv","_this11","_this11$gl","uniform4fv","_this12","_this12$gl","uniform1i","_this13","_this13$gl","uniform1iv","_this14","_this14$gl","uniform2iv","_this15","_this15$gl","uniform3iv","_this16","_this16$gl","uniform4iv","fieldOfView","PI","aspect","projectionMatrix","mat4","create","perspective","perspMatrix","genPerspective","setUniformMatrix4fv","modelViewMatrix","translate","genModelView","vbo","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","size","vboName","stride","offset","createVBO","layoutLoc","vertexAttribPointer","FLOAT","enableVertexAttribArray","shaderData","dataSizes","format","total","val","vboNames","shaderProgram","getAttribLocation","imgFilePath","glslName","textureID","onImageLoaded","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","Uint8Array","textLoc","activeTexture","TEXTURE0","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","generateMipmap","img","vao","createVertexArray","bindVertexArray","_slicedToArray","squareDist","dx","dy","getTriangleSplitPoints","spltV0","spltV1","centrV","d0","d1","d2","splitTriangleRec","vs","curSplitDepth","retArr","_vs","_this$getTriangleSpli","_this$getTriangleSpli2","splitV","newVS0","newVS1","splitTriangleIter","_vs2","curArr","nxtArr","curDepth","_this$getTriangleSpli3","_this$getTriangleSpli4","splitTriangle","splitRectGrid","rowCnt","xStart","yStart","xEnd","rngX","polys","xOffs","yOffs","r","c","cOffs","rOffs","_v","_v2","v3","upperTringl","lowerTringl","upperTrngls","lowerTrngls","_waveMeta","transformID","animationCount","_gl","setUniform1i","_animMeta","rotationAroundAxis","ax","rad","q","radHalf","rhs","sin","cos","getQuaternion","m","qw","qx","qy","qz","qxx","qyy","qzz","gravityCentersCount","gravCentrs","ceil","cent","gravCenters","genGravityCenters","prog","rotm0","tileCentersPerRow","genTileCenters","pow","tileCenters","offs","rotationCount","setRotationUniforms","tileAnimID","tileAnimIDCount","randomIDs","dists","tileCentersCount","genPolygons","x","y","d","dist","_r","_c","colID","distId","_id3","genAndSetTileCenters","randomDestinationCenters","randomXOffsets","_i","setUniform1iv","setUniform1fv","MenuButton","showButton","onMenuEntered","onMenuClicked","genShowBarsStyle","style","top","left","opacity","transform","genHideBarsStyle","btnStyls","className","onMouseOver","onClick","MinimizedTabBar","tabs","tabClicked","mainRef","useRef","menuItemsDiv","useState","showMenuItems","setShowMenuItems","_tabClicked","useEffect","mid","current","border","showMenuItemsDiv","hideMenuItemsDiv","ref","onMouseLeave","tab","TabElement","isLast","tabid","selected","minimized","indicator","React","createRef","tabMouseEnter","ind","classList","add","tabMouseOut","remove","tabLinkClass","tabElementClass","indctrComp","onMouseEnter","onMouseOut","withRouter","tabCallback","shouldMinimize","minimize","setMinimize","innerWidth","innerHeight","onResize","removeEventListener","readTextFile","file","rawFile","XMLHttpRequest","open","txt","onreadystatechange","readyState","status","responseText","send","cw","ch","cw2","ch2","rgbToHex","g","trunc","toString","Bounce","CNT","maxHeight","lifetime","lived","rndm0","rndm1","rndm2","genColor","rv","genColorVal","gv","bv","color","colorHex","dead","WaveWaitingBar","props","labelStyle","Date","getTime","lastRenderTime","setLastRenderTime","bounces","setBounces","updateCanvasState","setUpdateCanvasState","elementCount","addBounce","initializeBounces","evaldt","update","bounce","indexOf","splice","killBounce","updateBounces","stop","updateTime","curCanvas","clearRect","ctx","fillStyle","prctg","cwh2m","rndmradstrt","angl","rr2","radhght","x0i","x1i","y0i","y1i","x0o","y0o","x1o","y1o","beginPath","moveTo","lineTo","roundedEdges","ed2","sqrt","xedgo","yedgo","quadraticCurveTo","closePath","fill","renderBounce","renderCanvas","toTwoDigitHexString","Color","mixed","clone","sub","multiplyScalar","mixedCol","z","THREE","WaitingBar","nextFrame","unmounted","strokeStyle","initRotation","rotation","rotationSpeed","curRotationSpeedIncrmnt","rotationSpeedIncrmnt","maxRotationSpeed","minScale","maxScale","scale","curScaleIncrmnt","selectedId","selectedIdProgress","setCanvasSize","selectedFillColor","strokeColor","evalSelectedFillColor","fillColor","evalFillColor","fragmentCount","fragmentPadding","scaleSpeed","progressSpeed","loop","drawWaitingBar","incrementProgress","evalProgressSpeed","evalFragmentCount","evalScaleSpeed","clearCanvas","drawCircleFragments","frgmnts","padding","evalFragmentPadding","angleRange","angle0","angle1","setFragmentColor","drawCirleFragment","fragmentId","fading","selProgrCol","mixColor","toHexString","selStrkCol","evalStrokeColor","evalSelectedStrokeColor","c0","c1","validateVal","outerRad","outerRadius","innerRad","innerRadius","center","p0","p1","p2","p3","avgAngl","innerCurved","outerCurved","stroke","Component","LoadingImage","imgRef","waitingBarRef","waitingBarStopped","stopWaitingBar","randomId","setWaitingBarDims","mdc","offsetWidth","offsetHeight","evalMainDivSize","mdw","mdh","mwh","wb","pixelmwh","ir","onload","display","hideWaitingBar","waitingBarElmnt","WAITINGBAR","MainImagePreview","onPreviewClicked","genIndicator","heading","description","prevImgInctrDivClass","focusPreview","imgClass","meta","image_path","getIndicators","p","progrm","lines","split","filter","tn","join","f","loadPreviews","meta_info","splt","trim","url","prev_programs","pi","prev_text","text","indicators","MainPage","loadGIFs","updatePreviewsToState","onScroll","updateFocusedPreview","state","previews","focusedPreviews","loadPreviews_hlpr","scrollTo","lastYScroll","newstate","setState","gifImgPath","filePath","dotID","lastIndexOf","getBaseFilePath","imgPath","onLoaded","relURL","hist","body","scrollTop","documentElement","getElementsByClassName","prev","br","getBoundingClientRect","bottom","btm","viewPortHeight","e","logo","alt","some","separator","SlideShow","imgRef0","imgRef1","curFadingImgId","setCurrentImagePath","onImageClick","onPrevClicked","onNextClicked","nextImage","prevImage","startImageTimer","stopImageTimer","curId","lastId","w","maxWidth","h","imageTimer","setInterval","clearInterval","lastImgPath","img_paths","curImgPath","newFocusedImg","img_path","updateImage","CANVAS_WIDTH","CANVAS_HEIGHT","ImageSelector","onClicked","cls","CarouselCanvas","onSelectedImgIdChanged","delay","animDur","curImgId","setCurImgId","curImgIdFlt","canvasRef","imgRefs","imgsLoaded","curAnimId","prvImgRect","curImgRect","nxtImgRect","inUserInitiatedAnim","inAutoAnim","killAnimation","posClicked","pos","tag","ys","xe","ye","onCanvasClicked","getCanvas","onJumpToNextImageClicked","onJumpToPrevImageClicked","checkIfImageWasClicked","offsetX","offsetY","genRect","cnvs","drawCenteredImage","error","getImage","cnvsWdth","cnvsHght","drawImage","startRotationAnimation","_startRotationAnimationHlpr","jumpToNextImage","getPrevId","prevId","getNextId","evalLinearTarPos","pStart","pEnd","prgrs","evalQuadBezTarPos","brnst","t","t_","quadraticBezier","validateImgId","_drawImgs","curIdFlt","nxtId","nxtNxtId","prvId","p5","imgAndPoss","curPos","nxtPos","nxtNxtPos","prvPos","ip0","ip1","w0","w1","ip","jumpToImage","animFromCurTo","jumpToPrevImage","endImgId","Promise","resolve","reject","animId","startImgId","stepsInOrder","stepsRev","abs","steps","st","execAnim","setCurImgIdRef","curImgIdFlr","jumpToUserSelectionImage","jumpToFunc","all","then","catch","onImageSelectorClicked","Carousel","loaded","setLoaded","carouselRef","onWindowResized","crsl","hght","waitingBar","crslDivCls","DownloadButton","onClickActionContinue","leftRect","rightRect","leftClickedRect","rightClickedRect","curtainsClosed","clickedCurtainsClosed","startOnClickAnimation","isExecutingClickAnimation","openForegroundCurtains","openClickedCurtains","closeClickedCurtains","closeForegroundCurtains","closeCurtains_hlpr","openCurtains_hlpr","right","buttonText","Ballin","launchBallinGL","downloadBallinOriginal","BallinMainRef","BallinOrigCarrouselDiv","BallinGLCarrouselDiv","evalBallinImages","ballin_gl_pics","ballin_orig_pics","glCarrouselAspectRatio","origCarrouselAspectRatio","location","href","info_lines","ballinGL_imgCount","parseInt","ballinOrig_imgCount","infoText_GL","infoText_Orig","pathObj","AnimatedGif","START_ANIM_ON_VIEWPORT_PRCTG","AnimatedVideo","videoPaths","videoRef","imgLoaded","setImgLoaded","videoLoaded","setVideoLoaded","waitinBarFadedOut","setWaitinBarFadedOut","videoPlaying","onVideoDataLoaded","video","showVideo","md","screen","playVideo","rg","play","sttcImg","path","setImageSrcPath","waitingBrCls","vp","snapURL","appImageURL","debURL","kubuImageGnrtr","fileType","kubuVideoPathGnrtr","kubuVideoGnrtr","ResizingVideo","VideodDescription","descrOnLeft","descrComps","headingDiv","descr","mainCls","VideoDescr","even","setImgPaths","getImagePaths","genIconDescrArg","iconPath","argTxtBold","argTxtPlain","genCheckedDescrArg","genDescrHeading","hdng","genDownloadButton","button","openInNewTabOrWindow","elapsingDescrHdng","elapsingDescr","dscr","genElapsingDescr","fileManipHdng","fileManipDescr","dscr0","dscr1","dscr2","dscr3","dscr4","dscr5","genFileManipDescr","deepSearchHdng","deepSearchDescr","genDeepSearchDescr","mltiWndwHdng","mltiWndwDescr","genMultiWindowingDescr","appImgBtn","debBtn","KubuIcon","ReferenceManager","downloadReferendeManager","programInfo","mainImageInfo","installationInfo","MainImage","SecondImage","itm","ImagedPreviews","meta_info_path","fileBaseName","baseName","info_text_path","info_text","parseData","paragraphs","composedTxt","dangerouslySetInnerHTML","__html","da","Preview","sep","Notes","downloadNotes","require","startAnim","stopAnim","setAnimationID","compDidMnt","loadImages","imagesLoaded","onErrorOccured","onWebGL_InitError","downloadCode","loadingDiv","loadingMsg","selctdAnimID","onImgLded","sldShw","supportsWebGL2","animationIDs","getAnimationIdentifiers","fastAnimation","smallPolygonSplit","slMeta","startAnimation","querySelectorAll","innerHTML","animationPlayState","info","clsNme","target","ArduinoFullstack","goToArduinoHomepage","arduinosDesrcp","arduinoCornerstones","disadvantages","advantages","infoText","playing","MATERIAL_COLOR","USE_PHONG","POINT_COUNT","WebGLRenderer","Scene","PerspectiveCamera","Mesh","genRandomFloat","mi","mx","windowWidth","windowHeight","Webgl","meshListeners","renderer","alpha","setPixelRatio","scene","camera","position","light","dom","domElement","resize","mesh","circles","idx","render","updateProjectionMatrix","setSize","genMaterial","materialOptions","metalness","roughness","PipeCurve","points","getPoint","pid","evalPointId","lid","uid","lp","dst","Pipe","tubularSegments","radius","radialSegments","closed","geometry","material","RotatedDiv","lblRot","labelRotation","rotRad","rotationRad","lblTranslX","flipRotatinStartRad","flipRotatinEndRad","lblStyle","fontSize","lblClass","div","onLabelClicked","xOffset","yOffset","translateX","translateY","rot","transitionDuration","SpinningWheel","spinningWheelDivRef","focusedId","spinningWheelDivSize","initTagAlreadySet","rotateElementsAtOnce","rotateElementsIncremental","setSpinningWheelFontSize","setSpinningWheelSize","elmntId","rotateToElementId","onTagClicked","tags","clockwise","counterclock","tagsCount","curFocusedId","initSelTag","initSelection","ResizeObserver","resizeObserver","entries","entry","observe","focuseInitTagIfNotAlreadyDone","unobserve","idOffs","newFocusedId","totalDuration","tagCount","rotIncrmnt","incrmntRot","finalId","round","tagsSize","sw","mn","spinningWheelFontSize","spinninWheelSize","rotRadPerTag","getRotRadPerTag","rotRadOffs","isFocused","elementClicked","DiaSelector","previewBarDSRef","previewBarShowBtnLblRef","mainWindowRef","onOverPreviewBarShowBtn","onClickedPreviewBarShowBtn","closePrevBar","activatePrevBar","executingPrevBarAnimation","prevBarActive","showPreviewBar","previewImagePaths","minWidth","previewSelected","mainContent","FlipSelector","dropDownContentRef","incrementIndex","decrementIndex","setIndex","value0Ref","value1Ref","val0Active","ANIM_DUR_NORMAL","increment","nextValue","callbackAfterAnim","setHiddenValue","genAnimDurCssStr","fadeOutDiv","fadeInDiv","inUpdateTimeout","nextId","values","switchValuesAnimation","onIndexSelected","onValueSelected","startIncrDecr_hlpr","tarFunction","execute","incrmnt","endTouchEvent","useTouch","startIncrement","startDecrement","initTouchEvent","tarVal","onMouseDown","startMouseIncrement","onTouchStart","startTouchIncrement","onMouseUp","stopIncrement","onTouchEnd","onTouchCancel","startMouseDecrement","startTouchDecrement","FlipSelectorRSC","setHour","setMin","setSec","hour","sec","hourValues","minValues","secValues","indicatorString","ensureTowDigitString","SlideBar","slideBar","showIndicator","indicatorValue","rf","label","sliderVal","onChange","SlideBarRSC","setSlideBarValue","slideBarValue","oldVal","sign","selectedValue","numberToShortString","refValue","SpinningWheelRSC","selectedTag","n","genTagsCaller","getNTags","tagId","genTags","resultsString","CheckBox","checked","String","fromCharCode","WaitingBarRSC","updateValue","changeFadingState","stateObj","evalRangeValue","updatePercentageValue","stageObj","evalRangePercentage","genPercentageSetter","WaveWaitingBarRSC","mobile","red","setRed","green","setGreen","blue","setBlue","setElementCount","setStopAnimation","setRoundedEdges","MAX_ELEMENT_COUNT","MIN_ELEMENT_COUNT","evalQuaternion","vref","vtar","normalize","cross","angle","angleTo","setFromAxisAngle","PipeGeometry","StraightPipeGeometry","pipepnts","StraightPipeMesh","updatePoints","quat","scl","relOffs","setFromQuaternion","PipeArrow","coneWidth","coneHeight","lineMesh","coneGeometry","coneMesh","lineV1","coneV1","PIPE","Grid","dims","stepsx","stepsy","labels","labelGenerator","axisLabelFontSize","xlines","ylines","xlabels","ylabels","stepx","xstart","labelPos","labelMesh","rotateZ","bndngSze","evalMeshBoundingBox","getSize","stepy","ystart","computeBoundingBox","boundingBox","WEBGL","isWebGL2Available","Plot3DThree","updateCamera","setLight","createCustomShaderMaterial","genLabel","DATA_COLORS","DATA_Z_PADDING","DATA_STROKE_WIDTH","AXIS_LABEL_FONT_SIZE_IF_NOT_SET","FONT_SIZE_SETTING_SCALE_FACTOR","resetData","DATA_WIDTH","DATA_HEIGHT","fontLoader","threeFont","cameraZ","context","dataGroup","axisGroup","load","font","setCanvasResolution","genAxis","orthographic","addDataPoints","alignAxis","originalData","dataMeshes","dataLabelMeshes","clearThreeContainer","clearDataGroup","children","labelData","col","textGeo","curveSegments","textMaterial","axisLabels","updateAxis","clearAxis","evalMaxZOffs","genAxisMesh","axis","xAxisMesh","yAxisMesh","gridDims","gridMaterial","transparent","evalGridStepsX","evalGridStepsY","evalAxisLabels","grid","evalAxisLabelFontSize","generateDataMesh","evalDataColor","evalDataLabelFontSize","addLabel","alignDataLabels","dataLabelFontSize","yoffs","prcsdPoints","processDataPoints","copyPoints","prcsdStrokePoints","processStrokeDataPoints","datacolor","dataMesh","genCustomShapeMesh","strokeDataMesh","zoffs","ymin","ymax","processDataPoints_hlpr","stroked","interpolDataPoints","finalizeStrokePoints","finalizePoints","intrpolPnts","xstep","yintrpl","interpolatedPoints","dwh","unshift","strokeWidth","pnts","generateRandomValues","generateSineValues","cv","ups","shp","genCustomShape","minY","maxY","blending","side","genOrthographicCamera","genPerspectiveCamera","cameraPrctg","cameraYPrctg","cameraAngle","lookAt","moveCamera","Plot3D","props3D","minHeight","formatDateToStr","date","toISOString","addSecondsToDate","seconds","dcpy","setTime","DataVisualizationRSC","onDataVisualizationReady","changeCamera","xLabelsCount","yLabelsCount","dataCount","plot3DThree","generateRandomDataPoints","generateAxisLabels","generateRandomPoints","clearData","addData","curDate","dstr","setAxisLabels","newState","setOrthographicCamera","setPerspectiveCamera","evalRangePercentageInt","lastVal","setter","updatePlotDataCount","uptick","CarrouselDiaShowRSC","generateImagePaths","ReactShowCase","getPreviewImagePaths","setFullScreen","onFullScreenChange","showcase","addFullScreenChangeListener","selectedPreviewId","fullScreen","basePath","genCarrouselDiaShow","genWaitingBar","genWaveWaitingBar","genDataVisualization","genSpinningWheel","genFlipSelector","genSlideBar","previewId","dontChangeStateOnFullScreenChangeEvent","oldState","elem","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","exitFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","requestFullscreen","genMainComponent","EasingFunctions","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","FRAGMENT_ANIMATION","HORIZONTAL_EASE_IN","HORIZONTAL_EASE_OUT","VERTICAL_EASE_IN","VERTICAL_EASE_OUT","FragmentImage","paddingColor","fragmentDuration","fragmentDelay","onAnimationFinished","fragmentAnimation","startAnimations","stopAnimations","initOffsets","genArr","cnt","imgWidth","imgHeight","cnvsWidth","cnvsHeight","frgmntXOffsts","frgmntWidths","frgmntYOffsts","frgmntHeights","ANIM_FRAGMENT_DELAY","ANIM_FRAGMENT_DUR","DURATION","elapsed","lt","paintPadding","tx","eval_fragmentWidth","fillRect","evalAndDrawFragment","sdx","fragmentWidth","tdx","sdy","tdy","sx","sy","ty","drawFragment","eval_tx","paintImage","paintPaddings","easeIn_hlpr","tarArr","startTime","totalFragmentDur","relFrgmntElpsd","easeOut_hlpr","incrementAnimation","ct","eval_dt","nextAnimationFrame","setImagePathAndRunAnimation","resetParameters","FragmentAnmiator","onImageStartsEasingIn","onImageEasedIn","onImageStartsEasingOut","onImageEasedOut","imageTimeoutDuration","interAnimDelay","indiatorFadeOutDuration","pathCntr","setPathCntr","getNextPath","setImgPath","fadeInToggle","setFadeInToggle","setFragmentAnimation","initialized","setInitialized","indicatorRef","evalTotalImageDisplayTime","toggleFadeIn","fadeIndiatorOut","elpsd","indctr","runFadeOutAnim","fadeOut","startInidatorAnimation","runIndicatorProgressAnim","nextIndicatorAnim","setNextFragmentAnimation","LabelComp","styl","textAlign","textAlignCenter","clsName","genLabelComp","genFadingComponent","component","xpx","ypx","vertFadeIn","fadeInOffsX","fadeInOffsY","centralizeX","centralizeY","AnimatedLabel","fadeInDelay","fadeOutDelay","fadeIn","labelRef","validNumb","FADE_IN_OFFS_X","FADE_IN_OFFS_Y","FADE_OUT_OFFS_X","FADE_OUT_OFFS_Y","animatePosition","sxprct","syprct","exprct","eyprct","sop","eop","lbl","runAnimPos","animPos","easedPrgrs","lftstl","topstl","trnsfrm","PositionedPreviewLabels","imgLabels","cumulFadeInDelay","cumulFadeOutDelay","labelDivs","FragmentImagePreview","setPreviewId","labelFadeInOut","setLabelFadeInOut","firstPrevIdIncrmntIntercepted","setFirstPrevIdIncrmntIntercepted","loadedImages","newImageLoaded","setNewImageLoaded","setWaitingBarStopped","nxtPrevId","incrementPreviewId","LandingPage","previewComponents","setPreviewComponents","setPreviews","loadPreviewTexts","previewData","prgrm","prevProgrm","offsets","evalOffsets","x0prct","y0prct","x0px","y0px","x1prct","y1prct","x1px","y1px","fontSizeHdng","fontSizeDescr","genPreviewComponentFromPrevProgram","previewCount","genImgPaths","App","initTabs","updateTabSelection","history","tabs_info","ti","prevProps","curRelPath","getCurrentRelPath","selectionChanged","slctd","startsWith","pathname","exact","Kubu","Boolean","hostname","match","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d6200c2b.chunk.js","sourcesContent":["var StaticFunctions = {\n  replaceString: function replaceString(s, args) {\n    var ids = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n    for (var i = 0; i < args.length; ++i) {\n      var lastS = null;\n\n      while (s && s != lastS) {\n        lastS = s;\n        var replId = ids ? ids[i] : i;\n        s = s.replace('$!{' + replId + '}!$', args[i]);\n      }\n    }\n\n    return s;\n  },\n  shuffle: function shuffle(a) {\n    for (var i = a.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var _ref = [a[j], a[i]];\n      a[i] = _ref[0];\n      a[j] = _ref[1];\n    }\n\n    return a;\n  },\n  sort: function sort(xs) {\n    var valueGetter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (v) {\n      return v;\n    };\n    return xs.sort(function (v0, v1) {\n      var val0 = valueGetter(v0);\n      var val1 = valueGetter(v1);\n\n      if (val0 > val1) {\n        return 1;\n      } else if (val0 < val1) {\n        return -1;\n      }\n\n      return 0;\n    });\n  },\n  arraysEqual: function arraysEqual(a0, a1) {\n    if (a0 === a1) {\n      return true;\n    }\n\n    if (a0 === null || a1 === null) {\n      return false;\n    }\n\n    if (a0.length !== a1.length) {\n      return false;\n    } // 1. zip both arrays -> 2. check if every pair of elements are equal:\n\n\n    return a0.map(function (v, i) {\n      return [v, a1[i]];\n    }).every(function (v) {\n      return v[0] === v[1];\n    });\n  }\n};\nmodule.exports = StaticFunctions;","module.exports = __webpack_public_path__ + \"static/media/info.7ea3ce05.txt\";","module.exports = __webpack_public_path__ + \"static/media/info.a4b0d696.txt\";","module.exports = __webpack_public_path__ + \"static/media/MrSoir_grass.d3c2d43e.png\";","module.exports = __webpack_public_path__ + \"static/media/info.ad0678a1.txt\";","module.exports = __webpack_public_path__ + \"static/media/Kubu_icon.07ba16bc.png\";","module.exports = __webpack_public_path__ + \"static/media/MainImage.74d3289e.png\";","module.exports = __webpack_public_path__ + \"static/media/SecondImage.cdb41e67.png\";","module.exports = __webpack_public_path__ + \"static/media/info.904929ee.txt\";","module.exports = __webpack_public_path__ + \"static/media/info.d3c75c4e.txt\";","var SlideShowGL = require('./src/SlideShowGL');\n\nmodule.exports = SlideShowGL;","var _toConsumableArray = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix');\n\nvar GlFunctionsInstantiator = require('./glFunctions');\n\nvar TriangleSplitter = require('./TriangleSplitter');\n\nvar WaveAnimation = require('./WaveAnimation');\n\nvar FlipAnimation = require('./FlipAnimation'); //const ShiftAnimation = require('./ShiftAnimation');\n\n\nvar ScaleAnimation = require('./ScaleAnimation');\n\nvar FreakAnimation = require('./FreakAnimation');\n\nvar CycloneAnimation = require('./CycloneAnimation'); //const RandomAnimation = require('./RandomAnimation');\n\n\nvar GravityAnimation = require('./GravityAnimation');\n\nvar TileAnimation = require('./TileAnimation');\n\nvar DelayedTileAnimation = require('./DelayedTileAnimation');\n\nvar ZoomTileAnimation = require('./ZoomTileAnimation'); // const MirrorAnimation = require('./MirrorAnimation');\n// const CenterSplitAnimation = require('./CenterSplitAnimation');\n//const CubeAnimation = require('./CubeAnimation');\n//---------------------------CONSTANTS-----------------------------\n\n\nvar MAX_MOBILE_SPLIT_DEPTH = 12;\nvar MAX_DESKTOP_SPLIT_DEPTH = 18;\nvar INIT_SPLIT_DEPTH = 15; //-----------------------------------------------------------------\n\nfunction flattenArr(arr) {\n  // Array.prototype.flat still experimental technology!!!\n  if (!!arr.flat) {\n    return arr.flat();\n  }\n\n  return arr.reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n}\n\nwindow.mobilecheck = function () {\n  var check = false;\n\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n\n  if (check) {\n    console.log('running on MOBILE DEVICE!!!');\n  }\n\n  return check;\n}; //-----------------------------------------------------------------\n//var planeOBJ = parseOBJ(planeOBJstr);\n\n\nvar ANIMATIONS = new Map();\n\nfunction _fillAnims() {\n  ANIMATIONS.set('Wave', WaveAnimation);\n  ANIMATIONS.set('Flip', FlipAnimation);\n  ANIMATIONS.set('Scale', ScaleAnimation);\n  ANIMATIONS.set('Wave2', FreakAnimation);\n  ANIMATIONS.set('Cyclone', CycloneAnimation);\n  ANIMATIONS.set('Gravity', GravityAnimation);\n  ANIMATIONS.set('Tile', TileAnimation);\n  ANIMATIONS.set('TileDelayed', DelayedTileAnimation);\n  ANIMATIONS.set('TileRandom', ZoomTileAnimation); // ANIMATIONS.set('Mirror',\t\t\tMirrorAnimation);\n  // ANIMATIONS.set('CenterSplit', \tCenterSplitAnimation);\n  //\tANIMATIONS.set('Cube', \t\t\t\tCubeAnimation);\n}\n\n_fillAnims(); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"#version 300 es\\n\\tprecision mediump float;\\n\\t\\n\\t//-------constants-----------\\n\\t\\n\\tconst float PI  = 3.1415926535897932384626433832795;\\n\\tconst float TAU = 6.2831853071795864769252867665590;\\n\\t\\n\\t//-------attributes-----------\\n\\t\\n\\tlayout (location = 0) in vec3 pos;\\n\\tlayout (location = 1) in vec2 texcoord;\\n\\t\\n\\tlayout (location = 5) in vec3 polygonXYZAverage;\\n\\tlayout (location = 6) in vec3 randoms;\\n\\t\\n\\t//-------uniforms-----------\\n\\t\\n\\tuniform vec3 cameraPos;\\n\\t\\n\\tuniform mat4 modelView;\\n\\tuniform mat4 perspective;\\n\\t\\n\\tuniform float progress;\\n\\t\\n\\tuniform vec2 imgRatio;\\n\\t\\n\\t//-------out-variables-------\\n\\t\\n\\tout vec2 f_texcoord;\\n\\tout float f_trnsfrmPrgrs;\\n\\t\\n\\t//-------some useful functions-------\\n\\t\\n\\t// rotateX, rotateY, rotateZ: OpenGL/WebGL uses columns-first vectors\\n\\t// -> results in transposed matrices in contrast to the usual row-first notation:\\n\\t\\n\\tmat4 scaleMat4(vec3 scaleVec){\\n\\t\\tmat4 m = mat4(1.0);\\n\\t\\tm[0][0] = scaleVec.x;\\n\\t\\tm[1][1] = scaleVec.y;\\n\\t\\tm[2][2] = scaleVec.z;\\n\\t\\treturn m;\\n\\t}\\n\\tmat4 translateMat4(vec3 translVec){\\n\\t\\tmat4 m = mat4(1.0);\\n\\t\\tm[3][0] = translVec.x;\\n\\t\\tm[3][1] = translVec.y;\\n\\t\\tm[3][2] = translVec.z;\\n\\t\\treturn m;\\n\\t}\\n\\t\\t\\n\\tmat4 rotateX(float rad){\\n\\t\\tmat4 m = mat4(1.0);\\n\\t\\tfloat c = cos(rad);\\n\\t\\tfloat s = sin(rad);\\n\\t\\tm[1][1] =  c;\\n\\t\\tm[2][1] = -s;\\n\\t\\tm[1][2] =  s;\\n\\t\\tm[2][2] =  c;\\n\\t\\treturn m;\\n\\t}\\n\\tmat4 rotateY(float rad){\\n\\t\\tmat4 m = mat4(1.0);\\n\\t\\tfloat c = cos(rad);\\n\\t\\tfloat s = sin(rad);\\t\\t\\n\\t\\tm[0][0] =  c;\\n\\t\\tm[2][0] =  s;\\n\\t\\tm[0][2] = -s;\\n\\t\\tm[2][2] =  c;\\n\\t\\treturn m;\\n\\t}\\n\\tmat4 rotateZ(float rad){\\n\\t\\tmat4 m = mat4(1.0);\\n\\t\\tfloat c = cos(rad);\\n\\t\\tfloat s = sin(rad);\\n\\t\\tm[0][0] =  c;\\n\\t\\tm[1][0] = -s;\\n\\t\\tm[0][1] =  s;\\n\\t\\tm[1][1] =  c;\\n\\t\\treturn m;\\n\\t}\\n\\t\\n\\tvec4 getQuaternion(vec3 ax, float rad){\\n\\t\\tfloat radHalf = rad * 0.5;\\n\\t\\tfloat rhs = sin(radHalf);\\n\\t\\tfloat rhc = cos(radHalf);\\n\\t\\tvec4 q = vec4(rhc, ax.x * rhs, ax.y * rhs, ax.z * rhs);\\n\\t\\treturn q;\\n\\t}\\n\\tmat4 rotationAroundAxis(vec3 ax, float rad){\\n\\t\\t// rotationAroundAxis using qaternions: http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToMatrix/index.htm (great website!!!)\\n\\t\\t// m[i][j] is already transposed (OpenGL/WebGL: column-first notation!)\\n\\t\\tvec4 q = getQuaternion(ax, rad);\\n\\t\\tmat4 m = mat4(1.0);\\n\\t\\tfloat qw = q[0];\\n\\t\\tfloat qx = q[1];\\n\\t\\tfloat qy = q[2];\\n\\t\\tfloat qz = q[3];\\n\\t\\tfloat qxx = qx*qx;\\n\\t\\tfloat qyy = qy*qy;\\n\\t\\tfloat qzz = qz*qz;\\n\\t\\tm[0][0] = 1.0 - 2.0 * qyy - 2.0 * qzz;\\n\\t\\tm[1][0] = 2.0 * qx * qy - 2.0 * qz * qw;\\n\\t\\tm[2][0] = 2.0 * qx * qz + 2.0 * qy * qw;\\n\\t\\tm[0][1] = 2.0 * qx * qy + 2.0 * qz * qw;\\n\\t\\tm[1][1] = 1.0 - 2.0 * qxx - 2.0 * qzz;\\n\\t\\tm[2][1] = 2.0 * qy * qz - 2.0 * qx * qw;\\n\\t\\tm[0][2] = 2.0 * qx * qz - 2.0 * qy * qw;\\n\\t\\tm[1][2] = 2.0 * qy * qz + 2.0 * qx * qw;\\n\\t\\tm[2][2] = 1.0 - 2.0 * qxx - 2.0 * qyy;\\n\\t\\treturn m;\\n\\t}\\n\";\nvar fragmentShaderSource = \"#version 300 es\\n\\tprecision mediump float;\\n\\t\\n\\tin vec2 f_texcoord;\\n\\tin float f_trnsfrmPrgrs;\\n\\t\\n\\tuniform sampler2D u_texture0;\\n\\tuniform sampler2D u_texture1;\\n\\t\\n\\tout vec4 outColor;\\n\\t\\n\\tvoid main() {\\n\\t\\tvec4 txt0 = texture(u_texture0, f_texcoord);\\n\\t\\tvec4 txt1 = texture(u_texture1, f_texcoord);\\n\\t\\t\\n\\t\\tvec4 txt;\\n\\t\\tif(f_trnsfrmPrgrs >= 1.0){\\n\\t\\t\\ttxt = txt1;\\n\\t\\t}else if(f_trnsfrmPrgrs <= 0.0){\\n\\t\\t\\ttxt = txt0;\\n\\t\\t}else{\\n\\t\\t\\ttxt = txt1 * f_trnsfrmPrgrs + txt0 * (1.0 - f_trnsfrmPrgrs);\\n\\t\\t}\\n\\n\\t\\toutColor = txt;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar SlideShowGL =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function SlideShowGL(canvasID) {\n    var splitDepth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INIT_SPLIT_DEPTH;\n\n    _classCallCheck(this, SlideShowGL);\n\n    this.saveToImage = false;\n    this.saveToImageID = 0;\n    this.pictureData = {\n      progress: 0.0,\n      vertices: [],\n      //planeOBJ.vertices,\n      normals: [],\n      //planeOBJ.normals,\n      textureCoords: [],\n      //planeOBJ.textureCoords,\n      splitDepth: 2,\n      imgPaths: [],\n      curImgID0: 0,\n      curImgID1: 0,\n      images: [],\n      imgCount: 0,\n      imgsLoading: 0\n    }; // wird hier noch gar nicht benoetigt - wird dann beim startAnimation gesplittet\n    // -> so kann dynamisch fuer jede neue animation die splitDepth neu gesetzt werden!\n    //\t\tthis.splitImageIntoPolygons(splitDepth);\n\n    this.animationMeta = {\n      animationDuration: 4000,\n      delayDuration: 2000,\n      inAnimationDelay: false,\n      stopAnimation: false,\n      animationIsRunning: false,\n      animationID: 0\n    };\n    this.glMeta = {\n      backgroundColor: [1.0, 1.0, 1.0, 1.0],\n      imgRatio: [1, 1],\n      instancing: false,\n      instanceCount: 2,\n      cameraPos: [0, 0, -20]\n    };\n\n    if (!canvasID) {\n      canvasID = 'canvas';\n    }\n\n    var canvas = document.getElementById(canvasID);\n    this.gl = canvas.getContext('webgl2', {\n      antialias: true\n    });\n\n    if (!this.gl) {\n      console.log('no gl-context!');\n      return;\n    }\n\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this.glFunctions = new GlFunctionsInstantiator(this.gl);\n  }\n\n  _createClass(SlideShowGL, [{\n    key: \"setSplitDepth\",\n    value: function setSplitDepth(splitDepth) {\n      if (splitDepth > MAX_DESKTOP_SPLIT_DEPTH) {\n        console.log(\"trying to set splitDepth \".concat(splitDepth, \" -> MAX_DESKTOP_SPLIT_DEPTH: \").concat(splitDepth, \"!!!\"));\n      }\n\n      splitDepth = Math.min(splitDepth, MAX_DESKTOP_SPLIT_DEPTH);\n\n      if (splitDepth != this.pictureData.splitDepth) {\n        this.pictureData.splitDepth = window.mobilecheck() ? MAX_MOBILE_SPLIT_DEPTH : splitDepth;\n      }\n    }\n  }, {\n    key: \"splitImageIntoPolygons\",\n    value: function splitImageIntoPolygons(splitDepth) {\n      this.setSplitDepth(splitDepth);\n\n      var interpolF = function interpolF(v) {\n        return [(v[0] + 1.0) * 0.5, 1.0 - (v[1] + 1.0) * 0.5];\n      };\n\n      var vertices2D = TriangleSplitter.splitRect([-1, -1], [1, 1], this.pictureData.splitDepth);\n      console.log('vertices2D: ', vertices2D.length);\n      var verticesVec3 = vertices2D.map(function (v) {\n        return [[].concat(_toConsumableArray(v[0]), [0]), [].concat(_toConsumableArray(v[1]), [0]), [].concat(_toConsumableArray(v[2]), [0])];\n      }); //\t\tconsole.log('verticesVec3 dones');\n\n      var verticesArr = flattenArr(verticesVec3); //\t\tconsole.log('verticesArr dones');\n\n      var vertices = flattenArr(verticesArr); //\t\tconsole.log('vertices dones');\n\n      var textureCoords = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = verticesArr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var v = _step.value;\n          textureCoords.push.apply(textureCoords, _toConsumableArray(interpolF(v)));\n        } //\t\tconsole.log('verticesArr dones');\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var normals = vertices.map(function (v, i) {\n        return (i - 2) % 3 === 0 ? -1 : 0;\n      }); //\t\tconsole.log('normals dones');\n\n      this.pictureData.vertices = vertices;\n      this.pictureData.normals = normals;\n      this.pictureData.textureCoords = textureCoords;\n    }\n  }, {\n    key: \"supportsWebGL2\",\n    value: function supportsWebGL2() {\n      return !!this.gl;\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"createPane\",\n    value: function createPane() {\n      this.glFunctions.useProgram('picture');\n      this.glFunctions.createVAO('picture');\n      var vertices = this.pictureData.vertices;\n      var textureCoords = this.pictureData.textureCoords;\n      this.pictureData.progress = 1.0;\n      var polygonAverages = [];\n      var randoms = [];\n\n      for (var i = 0; i < Math.floor(vertices.length / 9.0); ++i) {\n        // polygonAverages:\n        var v0 = vertices.slice(i * 9 + 0, i * 9 + 0 + 0 + 3);\n        var v1 = vertices.slice(i * 9 + 3, i * 9 + 3 + 3);\n        var v2 = vertices.slice(i * 9 + 6, i * 9 + 6 + 3);\n        var avgx = (v0[0] + v1[0] + v2[0]) / 3.0;\n        var avgy = (v0[1] + v1[1] + v2[1]) / 3.0;\n        var avgz = (v0[2] + v1[2] + v2[2]) / 3.0;\n        polygonAverages.push(avgx, avgy, avgz);\n        polygonAverages.push(avgx, avgy, avgz);\n        polygonAverages.push(avgx, avgy, avgz);\n\n        var genRandom = function genRandom() {\n          var rndms = 3;\n          var rs = 0;\n\n          for (var rc = 0; rc < rndms; ++rc) {\n            rs += Math.random();\n          }\n\n          return rs / rndms;\n        }; // randoms:\n\n\n        var r0 = void 0,\n            r1 = void 0,\n            r2 = void 0;\n        var _ref = [genRandom(), genRandom(), genRandom()];\n        r0 = _ref[0];\n        r1 = _ref[1];\n        r2 = _ref[2];\n        randoms.push(r0, r1, r2, r0, r1, r2, r0, r1, r2);\n      }\n\n      this.glFunctions.evalLayoutLocations(['pos', 'texcoord', 'polygonXYZAverage', 'randoms']);\n      console.log('layoutLocations: ', this.glFunctions.layoutLocations);\n      this.glFunctions.genAndBindVectorVBO(vertices, 3, 'pos');\n      this.glFunctions.genAndBindVectorVBO(textureCoords, 2, 'texcoord');\n      this.glFunctions.genAndBindVectorVBO(polygonAverages, 3, 'polygonXYZAverage');\n      this.glFunctions.genAndBindVectorVBO(randoms, 3, 'randoms');\n      this.glFunctions.useProgram('picture');\n      this.glFunctions.setUniformVector3fv('cameraPos', this.glMeta.cameraPos);\n      this.glFunctions.setUniform1f('progress', this.pictureData.progress);\n      this.glFunctions.setUniformVector2fv('imgRatio', this.glMeta.imgRatio);\n      this.setAnimationBuffers(); //\t always unbind VAO:\n\n      this.glFunctions.unbindVAO(null);\n    }\n  }, {\n    key: \"getFirstImageID\",\n    value: function getFirstImageID() {\n      return this.pictureData.curImgID0;\n    }\n  }, {\n    key: \"getSecondImageID\",\n    value: function getSecondImageID() {\n      return this.pictureData.curImgID1;\n    }\n  }, {\n    key: \"incrementImageIDs\",\n    value: function incrementImageIDs() {\n      var _this = this;\n\n      var incrmtId = function incrmtId(id) {\n        return (id + 1) % _this.pictureData.imgCount;\n      };\n\n      this.pictureData.curImgID0 = this.pictureData.curImgID1;\n      this.pictureData.curImgID1 = incrmtId(this.pictureData.curImgID1);\n      this.setTextureImages(); //\t\tthis.loadCurrentImageIDs();\n    }\n  }, {\n    key: \"loadCurrentImageIDs\",\n    value: function loadCurrentImageIDs() {\n      this.pictureData.imgsLoading = 0;\n      var frstID = this.getFirstImageID();\n      var scndID = this.getSecondImageID();\n      var imgIDsToLoad = [];\n\n      if (!this.pictureData.images[frstID]) {\n        imgIDsToLoad.push(frstID);\n      }\n\n      if (scndID != frstID && !this.pictureData.images[scndID]) {\n        imgIDsToLoad.push(scndID);\n      }\n\n      this.pictureData.imgsLoading = imgIDsToLoad.length;\n\n      if (imgIDsToLoad.length > 0) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = imgIDsToLoad[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var id = _step2.value;\n            this.loadImage(id);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      } else {\n        this.setTextureImages();\n      }\n    }\n  }, {\n    key: \"loadImage\",\n    value: function loadImage(id) {\n      var _this2 = this;\n\n      var image = new Image();\n      image.src = this.pictureData.imgPaths[id];\n      image.addEventListener('load', function (evnt) {\n        _this2.pictureData.images[id] = image;\n        _this2.pictureData.imgsLoading -= 1;\n\n        if (_this2.pictureData.imgsLoading === 0) {\n          _this2.setTextureImages();\n\n          if (!_this2.animationMeta.inAnimationDelay) {\n            _this2.startAnimationLoop();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"setTextureImages\",\n    value: function setTextureImages() {\n      this.glFunctions.bindVAO('picture');\n      var img0 = this.pictureData.images[this.getFirstImageID()];\n      var img1 = this.pictureData.images[this.getSecondImageID()];\n      this.glFunctions.setTextureImage('img0', img0, 'u_texture0', 0);\n      this.glFunctions.setTextureImage('img1', img1, 'u_texture1', 1);\n      this.glFunctions.unbindVAO(null);\n    }\n  }, {\n    key: \"setImages\",\n    value: function setImages(imgs) {\n      this.pictureData.images = Array.from(imgs);\n      this.pictureData.imgCount = this.pictureData.images.length;\n      this.pictureData.curImgID0 = 0;\n      this.pictureData.curImgID1 = this.pictureData.images.length > 1 ? 1 : 0;\n      this.pictureData.imgsToLoad = 0;\n    }\n  }, {\n    key: \"setImagePaths\",\n    value: function setImagePaths(imgPaths) {\n      this.pictureData.curImgID0 = 0;\n      this.pictureData.curImgID1 = imgPaths.length > 1 ? 1 : 0;\n      this.pictureData.imgPaths = imgPaths;\n      this.pictureData.imgsToLoad = imgPaths.length;\n      this.pictureData.imgCount = imgPaths.length;\n      this.loadAllImages(this.startAnimationLoop); //\t\tthis.loadCurrentImageIDs();\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"paintPane\",\n    value: function paintPane() {\n      var vertices = this.pictureData.vertices;\n      var primitiveType = this.gl.TRIANGLES;\n      var offset = 0;\n      var count = Math.floor(vertices.length / 3);\n\n      if (this.glMeta.instancing) {\n        this.gl.drawArraysInstanced(primitiveType, offset, count, this.glMeta.instanceCount);\n      } else {\n        this.gl.drawArrays(primitiveType, offset, count);\n      }\n    }\n  }, {\n    key: \"setAnimationType\",\n    value: function setAnimationType(animTypeStr) {\n      var AnimConstr = ANIMATIONS.get(animTypeStr);\n\n      if (!AnimConstr) {\n        console.log(\"animation \".concat(animTypeStr, \" unknown!!! you can choose between the following animations:\"));\n        ANIMATIONS.forEach(function (anim, animID) {\n          console.log(animID);\n        });\n        return false;\n      }\n\n      this.animationType = new AnimConstr(this.glFunctions);\n      this.animationType.setGL(this.gl);\n\n      if (this.animationType.instancing) {\n        this.glMeta.instancing = true;\n        this.glMeta.instanceCount = this.animationType.instanceCount;\n      }\n\n      return true;\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"startAnimation\",\n    value: function startAnimation(animMeta) {\n      /*\t\tanimMeta = {\n      \t\t\timgPaths: imgPaths,\t\t\t\t\t\t\tmandatory!\n      \t\t\tanimationDuration: animationDuration,\toptional\n      \t\t\tdelayDuration: delayDuration,\t\t\t\toptional\n      \t\t\tbackgroundColor: [0,0,0, 0.0],\t\t\toptional\n      \t\t\tanimationType: 'Wave'\t\t\t\t\t\toptional\n      \t\t}*/\n      if (!this.gl) {\n        return false;\n      }\n\n      var animationSuccessfullySet;\n\n      if (!!animMeta.animationType) {\n        animationSuccessfullySet = this.setAnimationType(animMeta.animationType);\n      } else {\n        animationSuccessfullySet = this.setAnimationType('Wave');\n      }\n\n      if (!animationSuccessfullySet) {\n        return false;\n      }\n\n      if (!animMeta.images && animMeta.imgPaths.length === 0) {\n        console.log('no image paths to load!!!');\n      }\n\n      if (!!animMeta.backgroundColor) {\n        this.glMeta.backgroundColor = animMeta.backgroundColor;\n      }\n\n      if (!!animMeta.animationDuration) {\n        this.animationMeta.animationDuration = animMeta.animationDuration;\n      }\n\n      if (!!animMeta.delayDuration) {\n        this.animationMeta.delayDuration = animMeta.delayDuration;\n      }\n\n      if (animMeta.splitDepth && animMeta.splitDepth != this.pictureData.splitDepth) {\n        this.splitImageIntoPolygons(animMeta.splitDepth);\n      }\n\n      if (animMeta.images) {\n        this.setImages(animMeta.images);\n      } else if (animMeta.imgPaths) {\n        this.setImagePaths(animMeta.imgPaths);\n      }\n\n      this.resizeCanvasToDisplaySize();\n      var frgmntShrdSrc = !!this.animationType.fragmentShaderSource ? this.animationType.fragmentShaderSource : this.fragmentShaderSource;\n      var vertexShader = this.glFunctions.createShader(this.gl.VERTEX_SHADER, vertexShaderSource + this.animationType.vertexShaderSource);\n      var fragmentShader = this.glFunctions.createShader(this.gl.FRAGMENT_SHADER, frgmntShrdSrc);\n      /*\t\tconsole.log('vertexShader:');\n      \t\tconsole.log( vertexShaderSource + this.animationType.vertexShaderSource );*/\n\n      var program = this.glFunctions.createProgram('picture', vertexShader, fragmentShader);\n      this.glFunctions.useProgram('picture');\n      this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n      this.glFunctions.setModelView(this.glMeta.cameraPos);\n      this.glFunctions.setPerspective();\n      this.createPane();\n\n      if (animMeta.images) {\n        this.startAnimationLoop();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"loadAllImages\",\n    value: function loadAllImages(callback) {\n      var _this3 = this;\n\n      callback = callback.bind(this);\n      var pths = this.pictureData.imgPaths;\n      var mgsToLoad = pths.length - 1;\n      var imgs = pths.map(function (v) {\n        return new Image();\n      });\n\n      var imgLoadingFinished = function imgLoadingFinished() {\n        if (--mgsToLoad === 0) {\n          for (var i = 0; i < imgs.length; ++i) {\n            _this3.pictureData.images[i] = imgs[i];\n          } //\t\t\t\tthis.setTextureImages();\n\n\n          if (_this3.onImagesLoaded) {\n            _this3.onImagesLoaded();\n          }\n\n          callback();\n        }\n      };\n\n      for (var i = 0; i < pths.length; ++i) {\n        var pth = pths[i];\n        var image = imgs[i];\n        image.src = pth;\n        image.addEventListener('load', imgLoadingFinished);\n      }\n    }\n  }, {\n    key: \"stopAnimation\",\n    value: function stopAnimation() {\n      if (this.animationMeta.animationIsRunning || this.animationMeta.inAnimationDelay) {\n        this.animationMeta.stopAnimation = true;\n      } else {\n        if (this.onStoppingAnimation) {\n          this.onStoppingAnimation();\n        }\n      }\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"onImageLoaded\",\n    value: function onImageLoaded() {\n      this.pictureData.imgsLoading -= 1;\n\n      if (this.pictureData.imgsLoading === 0) {\n        this.paintPicture();\n        this.startAnimationLoop();\n      }\n    }\n  }, {\n    key: \"paintPicture\",\n    value: function paintPicture() {\n      var _this$gl;\n\n      this.glFunctions.useProgram('picture');\n      this.resizeCanvasToDisplaySize();\n\n      (_this$gl = this.gl).clearColor.apply(_this$gl, _toConsumableArray(this.glMeta.backgroundColor));\n\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n      this.glFunctions.bindVAO('picture');\n      this.glFunctions.setUniform1f('progress', this.pictureData.progress);\n      this.updateAnimationBuffers();\n      this.paintPane();\n      this.glFunctions.unbindVAO();\n    }\n  }, {\n    key: \"startAnimationLoop\",\n    value: function startAnimationLoop() {\n      var _this4 = this;\n\n      this.pictureData.progress = 0.0;\n      var duration = this.animationMeta.animationDuration;\n      var lastTime = null;\n      this.animationMeta.stopAnimation = false;\n      this.animationMeta.animationIsRunning = true;\n      var curAnimID = this.animationMeta.animationID;\n      this.setTextureImages();\n      var cntr = 0; // used to calc fps\n\n      var innerGameLoop = function innerGameLoop(curTime) {\n        if (_this4.animationMeta.stopAnimation) {\n          _this4.animationMeta.stopAnimation = false;\n          _this4.animationMeta.animationIsRunning = false;\n\n          if (_this4.onStoppingAnimation) {\n            _this4.onStoppingAnimation();\n          }\n\n          return;\n        }\n\n        var dt = lastTime !== null ? curTime - lastTime : 0;\n\n        if (_this4.saveToImage) {\n          _this4.pictureData.progress += 1 / (duration / 1000 * 30);\n        } else {\n          _this4.pictureData.progress = Math.min(_this4.pictureData.progress + dt / duration, 1.0);\n        }\n\n        _this4.paintPicture();\n\n        ++cntr;\n        lastTime = curTime;\n\n        if (curAnimID != _this4.animationMeta.animationID) {\n          return;\n        }\n\n        if (_this4.saveToImage) {\n          var idStr = ('' + _this4.saveToImageID++).padStart(4, '0');\n          var saveImgName = \"SlideShowGL/pretty_image + \".concat(idStr, \".png\");\n          console.log(saveImgName);\n          var canvas = _this4.gl.canvas; // draw to canvas...\n\n          canvas.toBlob(function (blob) {\n            //\t\t\t\t    saveAs(blob, saveImgName);\n            setTimeout(innerGameLoop, 100); //\t\t\t\t    innerGameLoop();\n          });\n        }\n\n        if (_this4.pictureData.progress < 1.0) {\n          if (!_this4.saveToImage) {\n            window.requestAnimationFrame(innerGameLoop);\n          }\n        } else {\n          console.log('fps: ', cntr / (duration / 1000));\n          _this4.saveToImage = false;\n          _this4.animationMeta.animationIsRunning = false;\n          _this4.animationMeta.inAnimationDelay = true;\n\n          _this4.incrementImageIDs();\n\n          _this4.nextAnimation();\n\n          setTimeout(function () {\n            _this4.animationMeta.inAnimationDelay = false;\n\n            if (_this4.animationMeta.stopAnimation) {\n              if (_this4.onStoppingAnimation) {\n                _this4.onStoppingAnimation();\n              }\n            } else {\n              if (_this4.pictureData.imgsLoading === 0) {\n                _this4.startAnimationLoop();\n              }\n            }\n          }, _this4.animationMeta.delayDuration);\n        }\n      };\n\n      innerGameLoop(performance.now());\n    }\n  }, {\n    key: \"setAnimationBuffers\",\n    value: function setAnimationBuffers() {\n      this.animationType.initBufferData();\n    }\n  }, {\n    key: \"updateAnimationBuffers\",\n    value: function updateAnimationBuffers() {\n      this.animationType.updateBufferData();\n    }\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this.animationType.nextAnimation();\n    }\n  }, {\n    key: \"resizeCanvasToDisplaySize\",\n    value: function resizeCanvasToDisplaySize(multiplier) {\n      var canvas = this.gl.canvas;\n      multiplier = multiplier || 1;\n      var realToCSSPixels = window.devicePixelRatio;\n      var width = Math.floor(canvas.clientWidth * realToCSSPixels);\n      var height = Math.floor(canvas.clientHeight * realToCSSPixels);\n\n      if (canvas.width !== width || canvas.height !== height) {\n        var max = Math.max(width, height);\n        canvas.width = width;\n        canvas.height = height;\n        this.glMeta.imgRatio = [width / max, height / max];\n        this.gl.viewport(0, 0, canvas.width, canvas.height);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"onCanvasResize\",\n    value: function onCanvasResize() {\n      this.resizeCanvasToDisplaySize();\n    }\n  }], [{\n    key: \"getAnimationIdentifiers\",\n    value: function getAnimationIdentifiers() {\n      console.log('ANIMATIONS: ', ANIMATIONS.keys());\n      return Array.from(ANIMATIONS.keys());\n    }\n  }]);\n\n  return SlideShowGL;\n}();\n\nmodule.exports = SlideShowGL;","var _toConsumableArray = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nvar GlFunctionsInstantiator =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function GlFunctionsInstantiator(gl) {\n    _classCallCheck(this, GlFunctionsInstantiator);\n\n    // programs: every shaderProgram is saved by a name in a map -> every entry contains: \n    // \t1. program: the shaderProgram\n    //\t\t2. vertexShader: the compiled vertex shader\n    // \t3. fragmentShader: the compiled fragment shader\n    this.programs = new Map(); // shaderMeta: whenever a program is bound to the current GL-state, the current shaderProgram is bound to shaderMeta -> currentShaderProgram is one of the entries of the programs-Map\n\n    this.shaderMeta = {\n      curShaderProgram: null\n    }; // uniforms: uniforms contains the layoutLocation for every uniform (data will be bound to the uniforms, no information needed how to read the data)\n\n    this.uniforms = new Map(); // vboMeta: contains all vbo-related infos: \n    //\t\t1. the vbo-buffer itself\n    //\t\t2. the data that is bound to the vbo\n    //\t\t3. the vboName: the name of the buffer/attribute-variable used in the vertex-shader\n    // \t4. stride\n    //\t\t5. offset\n\n    this.vboMeta = new Map(); // layoutLocations: all layoutLocations of the VBOs/Attributes in the vertex-shader mapped against ther vboNames\n\n    this.layoutLocations = new Map();\n    this.VAOs = new Map();\n    this.textures = new Map();\n    this.gl = gl;\n  }\n\n  _createClass(GlFunctionsInstantiator, [{\n    key: \"createShader\",\n    value: function createShader(type, source) {\n      var shader = this.gl.createShader(type);\n      this.gl.shaderSource(shader, source);\n      this.gl.compileShader(shader);\n      var success = this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS);\n\n      if (success) {\n        return shader;\n      }\n\n      console.log(this.gl.getShaderInfoLog(shader)); // eslint-disable-line\n\n      this.gl.deleteShader(shader);\n      return undefined;\n    } //-----------------------\n\n  }, {\n    key: \"createProgram\",\n    value: function createProgram(name, vertexShader, fragmentShader) {\n      var program = this.gl.createProgram();\n      this.gl.attachShader(program, vertexShader);\n      this.gl.attachShader(program, fragmentShader);\n      this.gl.linkProgram(program);\n      var success = this.gl.getProgramParameter(program, this.gl.LINK_STATUS);\n\n      if (success) {\n        this.gl.useProgram(program);\n        this.programs.set(name, {\n          program: program,\n          vertexShader: vertexShader,\n          fragmentShader: fragmentShader\n        });\n        return program;\n      }\n\n      console.log(this.gl.getProgramInfoLog(program)); // eslint-disable-line\n\n      this.gl.deleteProgram(program);\n      return undefined;\n    }\n  }, {\n    key: \"useProgram\",\n    value: function useProgram(name) {\n      var program = this.programs.get(name);\n\n      if (program) {\n        this.gl.useProgram(program.program);\n        this.shaderMeta.curShaderProgram = program;\n      } else {\n        console.log(\"program \".concat(name, \" invalid!\"));\n      }\n    }\n  }, {\n    key: \"useCurProgram\",\n    value: function useCurProgram() {\n      var program = this.shaderMeta.curShaderProgram.program;\n\n      if (!!program) {\n        this.gl.useProgram(program);\n      } else {\n        console.log('not able to set program! (useCurProgram)');\n      }\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"evalUniformLayoutLocation\",\n    value: function evalUniformLayoutLocation(name, data) {\n      var shaderLoc = this.gl.getUniformLocation(this.shaderMeta.curShaderProgram.program, name);\n\n      if (!data && this.uniforms.get(name)) {\n        this.uniforms.get(name).shaderLoc = shaderLoc;\n      } else {\n        this.uniforms.set(name, {\n          shaderLoc: shaderLoc,\n          data: data\n        });\n      }\n\n      return this.uniforms.get(name);\n    } //---------------\n\n  }, {\n    key: \"_setUniform\",\n    value: function _setUniform(name, data, glFunc) {\n      var uniform = this.uniforms.get(name); //\t\tif(!uniform){\n\n      uniform = this.evalUniformLayoutLocation(name, data); //\t\t}\n      // check, if data is provided. if so, update. if no data is provided, then use the data that was bound to the uniform the last time:\n\n      if (!!data) {\n        uniform.data = data;\n      }\n\n      glFunc([uniform.shaderLoc, uniform.data]);\n    } //---------------\n\n  }, {\n    key: \"setUniformMatrix2fv\",\n    value: function setUniformMatrix2fv(name, data) {\n      var _this = this;\n\n      this._setUniform(name, data, function (args) {\n        _this.gl.uniformMatrix2fv(args[0], false, args[1]);\n      });\n    }\n  }, {\n    key: \"setUniformMatrix3fv\",\n    value: function setUniformMatrix3fv(name, data) {\n      var _this2 = this;\n\n      this._setUniform(name, data, function (args) {\n        _this2.gl.uniformMatrix3fv(args[0], false, args[1]);\n      });\n    }\n  }, {\n    key: \"setUniformMatrix4fv\",\n    value: function setUniformMatrix4fv(name, data) {\n      var _this3 = this;\n\n      this._setUniform(name, data, function (args) {\n        _this3.gl.uniformMatrix4fv(args[0], false, args[1]);\n      });\n    }\n  }, {\n    key: \"setUniformMatrix2iv\",\n    value: function setUniformMatrix2iv(name, data) {\n      var _this4 = this;\n\n      this._setUniform(name, data, function (args) {\n        _this4.gl.uniformMatrix2iv(args[0], false, args[1]);\n      });\n    }\n  }, {\n    key: \"setUniformMatrix3iv\",\n    value: function setUniformMatrix3iv(name, data) {\n      var _this5 = this;\n\n      this._setUniform(name, data, function (args) {\n        _this5.gl.uniformMatrix3iv(args[0], false, args[1]);\n      });\n    }\n  }, {\n    key: \"setUniformMatrix4iv\",\n    value: function setUniformMatrix4iv(name, data) {\n      var _this6 = this;\n\n      this._setUniform(name, data, function (args) {\n        _this6.gl.uniformMatrix4iv(args[0], false, args[1]);\n      });\n    } //---------------\n\n  }, {\n    key: \"setUniform1f\",\n    value: function setUniform1f(name, data) {\n      var _this7 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this7$gl;\n\n        (_this7$gl = _this7.gl).uniform1f.apply(_this7$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniform1fv\",\n    value: function setUniform1fv(name, data) {\n      var _this8 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this8$gl;\n\n        (_this8$gl = _this8.gl).uniform1fv.apply(_this8$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniformVector2fv\",\n    value: function setUniformVector2fv(name, data) {\n      var _this9 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this9$gl;\n\n        (_this9$gl = _this9.gl).uniform2fv.apply(_this9$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniformVector3fv\",\n    value: function setUniformVector3fv(name, data) {\n      var _this10 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this10$gl;\n\n        (_this10$gl = _this10.gl).uniform3fv.apply(_this10$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniformVector4fv\",\n    value: function setUniformVector4fv(name, data) {\n      var _this11 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this11$gl;\n\n        (_this11$gl = _this11.gl).uniform4fv.apply(_this11$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniform1i\",\n    value: function setUniform1i(name, data) {\n      var _this12 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this12$gl;\n\n        (_this12$gl = _this12.gl).uniform1i.apply(_this12$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniform1iv\",\n    value: function setUniform1iv(name, data) {\n      var _this13 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this13$gl;\n\n        (_this13$gl = _this13.gl).uniform1iv.apply(_this13$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniformVector2iv\",\n    value: function setUniformVector2iv(name, data) {\n      var _this14 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this14$gl;\n\n        (_this14$gl = _this14.gl).uniform2iv.apply(_this14$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniformVector3iv\",\n    value: function setUniformVector3iv(name, data) {\n      var _this15 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this15$gl;\n\n        (_this15$gl = _this15.gl).uniform3iv.apply(_this15$gl, _toConsumableArray(args));\n      });\n    }\n  }, {\n    key: \"setUniformVector4iv\",\n    value: function setUniformVector4iv(name, data) {\n      var _this16 = this;\n\n      this._setUniform(name, data, function (args) {\n        var _this16$gl;\n\n        (_this16$gl = _this16.gl).uniform4iv.apply(_this16$gl, _toConsumableArray(args));\n      });\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"genPerspective\",\n    value: function genPerspective() {\n      var fieldOfView = 45 * Math.PI / 180; // in radians\n\n      var aspect = this.gl.canvas.clientWidth / this.gl.canvas.clientHeight;\n      var zNear = 0.1;\n      var zFar = 1000.0;\n      var projectionMatrix = glMatrix.mat4.create(); // note: glmatrix.js always has the first argument\n      // as the destination to receive the result.\n\n      glMatrix.mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\n      return projectionMatrix;\n    }\n  }, {\n    key: \"setPerspective\",\n    value: function setPerspective() {\n      if (!this.uniforms.get('perspective')) {\n        var perspMatrix = this.genPerspective();\n        this.evalUniformLayoutLocation('perspective', perspMatrix);\n      } else {\n        this.evalUniformLayoutLocation('perspective');\n      }\n\n      this.setUniformMatrix4fv('perspective');\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"genModelView\",\n    value: function genModelView(cameraPos) {\n      var modelViewMatrix = glMatrix.mat4.create(); // Now move the drawing position a bit to where we want to\n      // start drawing the square.\n\n      glMatrix.mat4.translate(modelViewMatrix, // destination matrix\n      modelViewMatrix, // matrix to translate\n      cameraPos); // amount to translat\n\n      return modelViewMatrix;\n    }\n  }, {\n    key: \"setModelView\",\n    value: function setModelView(cameraPos) {\n      if (!this.uniforms.get('modelView')) {\n        var modelViewMatrix = this.genModelView(cameraPos);\n        this.evalUniformLayoutLocation('modelView', modelViewMatrix);\n      } else {\n        this.evalUniformLayoutLocation('modelView');\n      }\n\n      this.setUniformMatrix4fv('modelView');\n    } //-----------------------------------------------------------------\n\n  }, {\n    key: \"createVBO\",\n    value: function createVBO(data) {\n      var vbo = this.gl.createBuffer();\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, vbo);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(data), this.gl.STATIC_DRAW);\n      return vbo;\n    }\n  }, {\n    key: \"genAndBindVectorVBO\",\n    value: function genAndBindVectorVBO(data, size, vboName) {\n      var stride = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n      var shaderProgram = this.shaderMeta.curShaderProgram.program;\n      var vbo = this.createVBO(data);\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, vbo); // wird bereits in createVBO beim erzeugen gebunden\n\n      var layoutLoc = this.layoutLocations.get(vboName);\n\n      if (layoutLoc < 0) {\n        console.log(\"\\nlayoutLoc < 0!!! -> layoutLoc: \".concat(layoutLoc, \"!!! - getAttribLocation did not find vboName: \").concat(vboName));\n      }\n\n      this.gl.vertexAttribPointer(layoutLoc, size, this.gl.FLOAT, false, stride, offset);\n      this.gl.enableVertexAttribArray(layoutLoc);\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n      var shaderData = {\n        vbo: vbo,\n        data: data,\n        vboName: vboName,\n        stride: stride,\n        offset: offset\n      };\n      this.vboMeta.set(vboName, shaderData);\n      return shaderData;\n    }\n  }, {\n    key: \"genAndBindMatrixVBO\",\n    value: function genAndBindMatrixVBO(data, size, vboName) {\n      var shaderProgram = this.shaderMeta.curShaderProgram.program;\n      var vbo = this.createVBO(data);\n      var dataSizes;\n\n      if (size === 16) {\n        dataSizes = [4, 4, 4, 4];\n      } else if (size === 9) {\n        dataSizes = [3, 3, 3];\n      } else if (size === 4) {\n        dataSizes = [2, 2];\n      } else {\n        throw \"genAndBindMatrixVBO:  size -> {0} -> must be 16, 9 or 4!!!\".format(size);\n        return;\n      }\n\n      var stride = dataSizes.reduce(function (total, val) {\n        return total + val;\n      });\n      var offset = 0;\n      var layoutLoc = this.layoutLocations.get(vboName);\n\n      if (layoutLoc < 0) {\n        console.log(\"\\nlayoutLoc < 0!!! -> layoutLoc: \".concat(layoutLoc, \"!!! - getAttribLocation did not find vboName: \").concat(vboName));\n      }\n\n      for (var i = 0; i < dataSizes.length; ++i) {\n        this.gl.vertexAttribPointer(layoutLoc + i, dataSizes[i], this.gl.FLOAT, false, stride * 4, offset * 4);\n        this.gl.enableVertexAttribArray(layoutLoc + i);\n        offset += dataSizes[i];\n      }\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n      var shaderData = {\n        vbo: vbo,\n        data: data,\n        vboName: vboName,\n        dataSizes: dataSizes,\n        stride: stride\n      };\n      this.vboMeta.set(vboName, shaderData);\n      return shaderData;\n    }\n  }, {\n    key: \"evalLayoutLocations\",\n    value: function evalLayoutLocations(vboNames) {\n      var shaderProgram = this.shaderMeta.curShaderProgram.program;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = vboNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var vboName = _step.value;\n          this.layoutLocations.set(vboName, this.gl.getAttribLocation(shaderProgram, vboName));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"loadTextureImage\",\n    value: function loadTextureImage(name, imgFilePath) {\n      var glslName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var textureID = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var onImageLoaded = arguments.length > 4 ? arguments[4] : undefined;\n      var shaderProgram = this.shaderMeta.curShaderProgram.program;\n      var texture = this.gl.createTexture();\n      this.gl.bindTexture(this.gl.TEXTURE_2D, texture); // fake-texture-image: just lime-pixels that will be rendered until the image is loaded)\n\n      this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 0, 255])); // following code necessary for multiple textures:\n\n      if (!glslName) {\n        glslName = 'u_texture';\n      }\n\n      var textLoc = this.gl.getUniformLocation(shaderProgram, glslName);\n      this.gl.uniform1i(textLoc, textureID);\n      this.textures.set(name, {\n        texture: texture,\n        imgFilePath: imgFilePath,\n        textLoc: textLoc\n      }); // Asynchronously load an image\n\n      var image = new Image();\n      image.src = imgFilePath;\n      image.addEventListener('load', function (evnt) {\n        // Now that the image has loaded make copy it to the texture.\n        this.gl.activeTexture(this.gl.TEXTURE0 + textureID);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, texture); // Set the parameters so we can render any size image.\n\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, image);\n        this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n        if (!!onImageLoaded) {\n          onImageLoaded();\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"setTextureImage\",\n    value: function setTextureImage(name, img) {\n      var glslName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var textureID = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var shaderProgram = this.shaderMeta.curShaderProgram.program; // following code necessary for multiple textures:\n\n      if (!glslName) {\n        glslName = 'u_texture';\n      }\n\n      var textLoc = this.gl.getUniformLocation(shaderProgram, glslName);\n      this.gl.uniform1i(textLoc, textureID); // Now that the image has loaded make copy it to the texture.\n\n      this.gl.activeTexture(this.gl.TEXTURE0 + textureID);\n      var texture = this.gl.createTexture();\n      this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n      this.textures.set(name, {\n        texture: texture,\n        textLoc: textLoc\n      }); // Set the parameters so we can render any size image.\n\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n      this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, img);\n      this.gl.generateMipmap(this.gl.TEXTURE_2D);\n    }\n  }, {\n    key: \"createVAO\",\n    value: function createVAO(name) {\n      var vao = this.gl.createVertexArray();\n      this.gl.bindVertexArray(vao);\n      this.VAOs.set('name', vao);\n    }\n  }, {\n    key: \"bindVAO\",\n    value: function bindVAO(name) {\n      var vao = this.VAOs.get('name');\n\n      if (!vao) {\n        console.log(\"VAO \".concat(name, \" does not exist - creating it!\"));\n        this.createVAO(name); // at creation, it will also bind the VAO\n\n        return;\n      }\n\n      this.gl.bindVertexArray(vao);\n    }\n  }, {\n    key: \"unbindVAO\",\n    value: function unbindVAO() {\n      this.gl.bindVertexArray(null);\n    }\n  }]);\n\n  return GlFunctionsInstantiator;\n}();\n\nmodule.exports = GlFunctionsInstantiator;","var _toConsumableArray = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar INIT_SPLIT_DEPTH = 13;\nvar TriangleSplitter = {\n  squareDist: function squareDist(v0, v1) {\n    var dx = v0[0] - v1[0];\n    var dy = v0[1] - v1[1];\n    return dx * dx + dy * dy;\n  },\n  getTriangleSplitPoints: function getTriangleSplitPoints(v0, v1, v2) {\n    var d0 = this.squareDist(v0, v1);\n    var d1 = this.squareDist(v1, v2);\n    var d2 = this.squareDist(v2, v0);\n    var spltV0;\n    var spltV1;\n    var centrV;\n\n    if (d0 > d1 && d0 > d2) {\n      spltV0 = v0;\n      spltV1 = v1;\n      centrV = v2;\n    } else if (d1 > d0 && d1 > d2) {\n      spltV0 = v1;\n      spltV1 = v2;\n      centrV = v0;\n    } else {\n      // d2 is max:\n      spltV0 = v2;\n      spltV1 = v0;\n      centrV = v1;\n    }\n\n    return [spltV0, spltV1, centrV];\n  },\n  // splitTriangleRec: recursive split -> problem: with splitDepth, it creates 2**14 triangles -> and reaches memory leak / stack overflow\n  splitTriangleRec: function splitTriangleRec(vs) {\n    var splitDepth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INIT_SPLIT_DEPTH;\n    var curSplitDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var retArr = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n\n    if (curSplitDepth > splitDepth) {\n      return vs;\n    }\n\n    var v0, v1, v2;\n\n    var _vs = _slicedToArray(vs, 3);\n\n    v0 = _vs[0];\n    v1 = _vs[1];\n    v2 = _vs[2];\n    var spltV0, spltV1, centrV;\n\n    var _this$getTriangleSpli = this.getTriangleSplitPoints(v0, v1, v2);\n\n    var _this$getTriangleSpli2 = _slicedToArray(_this$getTriangleSpli, 3);\n\n    spltV0 = _this$getTriangleSpli2[0];\n    spltV1 = _this$getTriangleSpli2[1];\n    centrV = _this$getTriangleSpli2[2];\n\n    if (!retArr) {\n      retArr = [];\n    }\n\n    var splitV = [(spltV0[0] + spltV1[0]) * 0.5, (spltV0[1] + spltV1[1]) * 0.5];\n    var newVS0 = [splitV, spltV0, centrV];\n    var newVS1 = [splitV, spltV1, centrV];\n\n    if (curSplitDepth === splitDepth) {\n      retArr.push(newVS0);\n      retArr.push(newVS1);\n    } else {\n      this.splitTriangleRec(newVS0, splitDepth, curSplitDepth + 1, retArr);\n      this.splitTriangleRec(newVS1, splitDepth, curSplitDepth + 1, retArr);\n    }\n\n    if (curSplitDepth === 0) {\n      return retArr;\n    }\n  },\n  splitTriangleIter: function splitTriangleIter(vs) {\n    var splitDepth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INIT_SPLIT_DEPTH;\n    var v0, v1, v2;\n\n    var _vs2 = _slicedToArray(vs, 3);\n\n    v0 = _vs2[0];\n    v1 = _vs2[1];\n    v2 = _vs2[2];\n    var curArr = [[v0, v1, v2]];\n    var nxtArr = [];\n    var curDepth = 0;\n\n    while (curDepth <= splitDepth) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = curArr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var v = _step.value;\n          var spltV0 = void 0,\n              spltV1 = void 0,\n              centrV = void 0;\n\n          var _this$getTriangleSpli3 = this.getTriangleSplitPoints.apply(this, _toConsumableArray(v));\n\n          var _this$getTriangleSpli4 = _slicedToArray(_this$getTriangleSpli3, 3);\n\n          spltV0 = _this$getTriangleSpli4[0];\n          spltV1 = _this$getTriangleSpli4[1];\n          centrV = _this$getTriangleSpli4[2];\n          var splitV = [(spltV0[0] + spltV1[0]) * 0.5, (spltV0[1] + spltV1[1]) * 0.5];\n          var newVS0 = [splitV, spltV0, centrV];\n          var newVS1 = [splitV, spltV1, centrV];\n          nxtArr.push(newVS0, newVS1);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      curArr = nxtArr;\n      nxtArr = [];\n      ++curDepth;\n    }\n\n    return curArr;\n  },\n  splitTriangle: function splitTriangle(vs) {\n    var splitDepth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 13;\n    return this.splitTriangleRec(vs, splitDepth); //\t\treturn this.splitTriangleIter(vs, splitDepth);\n  },\n  splitRectGrid: function splitRectGrid(v0, v1) {\n    var splitDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : INIT_SPLIT_DEPTH;\n    var rowCnt = splitDepth; //Math.floor((2 ** splitDepth) ** 0.5);\n\n    var xStart = v0[0];\n    var yStart = v0[1];\n    var xEnd = v1[0];\n    var yEnd = v1[1];\n    var rngX = xEnd - xStart;\n    var rngY = yEnd - yStart;\n    var polys = [];\n    var xOffs = rngX / rowCnt;\n    var yOffs = rngX / rowCnt;\n\n    for (var r = 0; r < rowCnt; ++r) {\n      for (var c = 0; c < rowCnt; ++c) {\n        var cOffs = xStart + c * xOffs;\n        var rOffs = yStart + r * yOffs;\n        var _v = [cOffs, rOffs];\n        var _v2 = [cOffs, rOffs + yOffs];\n        var v2 = [cOffs + xOffs, rOffs + yOffs];\n        var v3 = [cOffs + xOffs, rOffs];\n        polys.push([_v, _v2, v2]);\n        polys.push([_v, v2, v3]);\n      }\n    }\n\n    return polys;\n  },\n  splitRect: function splitRect(v0, v1) {\n    var splitDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 13;\n\n    /*\t\tlet polys = this.splitRectGrid(v0, v1, splitDepth);\n    \t\treturn polys;*/\n    var upperTringl = [v0, [v0[0], v1[1]], v1];\n    var lowerTringl = [v0, [v1[0], v0[1]], v1];\n    var upperTrngls = this.splitTriangle(upperTringl, splitDepth - 1);\n    var lowerTrngls = this.splitTriangle(lowerTringl, splitDepth - 1);\n    upperTrngls = upperTrngls.concat(lowerTrngls);\n    return upperTrngls;\n  }\n};\nmodule.exports = TriangleSplitter;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform int transformID;\\n\\t\\n\\tfloat sigmoid(float prntgProgress){\\n\\t\\t// prntgProgress -> progress in percentage\\n\\t\\t// rng = 5.0 -> in range -5 to 5, the sigmoid-function \\n\\t\\t//       approaches from (almost) 0 to (almost) 1\\n\\t\\tfloat rng = 10.0;\\n\\t\\tfloat interpolX = prntgProgress * (2.0 * rng) - rng;\\n\\t\\treturn 0.5 * (1.0 + tanh(interpolX * 0.5));\\n\\t}\\n\\n\\tfloat translateFromLeftToRight(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\tfloat translateFromRightToLeft(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromLeftToRight(polygonCenter);\\n\\t}\\n\\tfloat translateFromCenter(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\tfloat y = polygonCenter.y;\\n\\t\\tfloat sqrDistFromCent = x*x + y*y;\\n\\t\\tfloat maxDist = 2.0; // 1*1 + 1+1\\n\\t\\treturn sqrDistFromCent / maxDist;\\n\\t}\\n\\tfloat translateToCenter(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromCenter(polygonCenter);\\n\\t}\\n\\tfloat translateFromBottomToTop(vec3 polygonCenter){\\n\\t\\treturn translateFromLeftToRight(vec3(polygonCenter.y, polygonCenter.x, polygonCenter.z));\\n\\t}\\n\\tfloat translateFromTopToBottom(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromBottomToTop(polygonCenter);\\n\\t}\\n\\tfloat translateFromBottomLeftToTopRight(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\tfloat y = polygonCenter.y;\\n\\t\\tfloat xsign = x < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat ysign = y < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat sqrDistFromCent = (x*x * xsign + y*y * ysign) + 2.0;\\n\\t\\tfloat maxDist = 4.0; // 1*1 + 1+1\\n\\t\\treturn sqrDistFromCent / maxDist;\\n\\t}\\n\\tfloat translateFromTopRightToBottomLeft(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromBottomLeftToTopRight(polygonCenter);\\n\\t}\\n\\tfloat translateFromTopLeftToBottomRight(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\tfloat y = polygonCenter.y;\\n\\t\\tfloat xsign = x < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat ysign = y < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat sqrDistFromCent = (x*x * xsign + y*y * ysign * -1.0) + 2.0;\\n\\t\\tfloat maxDist = 4.0; // 1*1 + 1+1\\n\\t\\treturn sqrDistFromCent / maxDist;\\n\\t}\\n\\tfloat translateFromBottomRightToTopLeft(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromTopLeftToBottomRight(polygonCenter);\\n\\t}\\n\\tfloat getPercX(){\\n\\t\\tif(transformID == 0){\\n\\t\\t\\treturn translateFromLeftToRight(polygonXYZAverage);\\n\\t\\t}else if(transformID == 1){\\n\\t\\t\\treturn translateFromRightToLeft(polygonXYZAverage);\\n\\t\\t}else if(transformID == 2){\\n\\t\\t\\treturn translateFromCenter(polygonXYZAverage);\\n\\t\\t}else if(transformID == 3){\\n\\t\\t\\treturn translateToCenter(polygonXYZAverage);\\n\\t\\t}else if(transformID == 4){\\n\\t\\t\\treturn translateFromTopToBottom(polygonXYZAverage);\\n\\t\\t}else if(transformID == 5){\\n\\t\\t\\treturn translateFromBottomToTop(polygonXYZAverage);\\n\\t\\t}else if(transformID == 6){\\n\\t\\t\\treturn translateFromBottomLeftToTopRight(polygonXYZAverage);\\n\\t\\t}else if(transformID == 7){\\n\\t\\t\\treturn translateFromTopRightToBottomLeft(polygonXYZAverage);\\n\\t\\t}else if(transformID == 8){\\n\\t\\t\\treturn translateFromTopLeftToBottomRight(polygonXYZAverage);\\n\\t\\t}else if(transformID == 9){\\n\\t\\t\\treturn translateFromBottomRightToTopLeft(polygonXYZAverage);\\n\\t\\t}\\n\\t}\\n\\tfloat evalTransformationProgress(){\\n\\t\\tfloat sig_rng = 0.25;\\n\\t\\tfloat x_perc_rng = 1.0 - 2.0 * sig_rng;\\n\\t\\tfloat s0 = sig_rng + progress * (1.0 - sig_rng);\\n\\t\\tfloat s1 = s0 - sig_rng;\\n\\t\\t\\n\\t\\tfloat x = polygonXYZAverage.x;\\n\\t\\t\\n\\t\\tfloat percX = getPercX();\\n\\t\\t\\n\\t\\tfloat intpolX = sig_rng + percX * x_perc_rng;\\n\\t\\t\\n\\t\\tif(intpolX >= s0){\\n\\t\\t\\treturn 0.0;\\n\\t\\t}else if(intpolX <= s1){\\n\\t\\t\\treturn 1.0;\\n\\t\\t}\\n\\t\\telse{\\n\\t\\t\\tfloat sigX = (s0 - intpolX) / (s0 - s1);\\n\\t\\t\\tfloat sig = sigmoid(sigX);\\n\\t\\t\\treturn sig;\\n\\t\\t}\\n\\t}\\n\\t\\n\\tmat4 genPictureTranslate(float trnsfrmPrgrs){\\t\\t\\n\\t\\tfloat y = polygonXYZAverage.y;\\n\\t\\tfloat yOffs = (y + 1.0) * 0.5;\\n\\t\\t\\n\\t\\tfloat xScaleFctr = 1.0;\\n\\t\\tfloat yScaleFctr = 2.0;\\n\\t\\tfloat zScaleFctr = 10.0;\\n\\t\\t\\n\\t\\tbool inRange = trnsfrmPrgrs > 0.0;\\n\\t\\tfloat randX = inRange ? (randoms[0] - 0.5) : 0.0;\\n\\t\\tfloat randY = inRange ? (randoms[1] - 0.5) : 0.0;\\n\\t\\t\\n\\t\\tfloat sinProgr = sin(trnsfrmPrgrs * PI);\\n\\t\\trandX *= sinProgr;\\n\\t\\trandY *= sinProgr;\\n\\t\\t\\n\\t\\tfloat yTranslScale = (yOffs - 0.5) * 2.0;\\n\\t\\t\\n\\t\\tfloat trnslX =  randX * xScaleFctr;\\n\\t\\tfloat trnslY =  (sinProgr * yTranslScale) * yScaleFctr;// * randY;\\n\\t\\tfloat trnslZ =  0.0;//sinProgr * zScaleFctr;\\n\\t\\t\\n\\t\\tmat4 translateMat = translateMat4( vec3(trnslX, trnslY, trnslZ) );\\n\\t\\t\\n\\t\\treturn translateMat;\\n\\t}\\n\\t\\n\\tmat4 genPictureScale(float trnsfrmPrgrs){\\n\\t\\tfloat y = polygonXYZAverage.y;\\n\\t\\tfloat yOffs = (y + 1.0) * 0.5;\\n\\t\\t\\n\\t\\tfloat sclFctr = 1.0 - sin(trnsfrmPrgrs * PI) * 0.1;//abs((trnsfrmPrgrs - 0.5) * 2.0);\\n\\t\\tfloat sclX = sclFctr;\\n\\t\\tfloat sclY = sclFctr;\\n\\t\\tfloat sclZ = sclFctr;\\n\\t\\t\\n\\t\\tmat4 scaleMat = scaleMat4( vec3(sclX, sclY, sclZ) );\\n\\t\\treturn scaleMat;\\n\\t}\\n\\t\\n\\tvoid main() {\\n\\t\\tfloat trnsfrmPrgrs = evalTransformationProgress();\\n\\t\\t\\n\\t\\tmat4 pictureTransl = genPictureTranslate(trnsfrmPrgrs);\\n\\t\\tmat4 picturesScale = genPictureScale(trnsfrmPrgrs);\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * pictureTransl * scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr)) * vec4(pos.x, pos.y, pos.z, 1.0);\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = trnsfrmPrgrs;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"\";\n\nvar WaveAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function WaveAnimation(glFunctions) {\n    _classCallCheck(this, WaveAnimation);\n\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this._waveMeta = {\n      transformID: 2,\n      animationCount: 10\n    };\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(WaveAnimation, [{\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.glFunctions.setUniform1i('transformID', this._waveMeta.transformID);\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._waveMeta.transformID = Math.floor((this._waveMeta.transformID + 1) % this._waveMeta.animationCount);\n      console.log('waveID: ', this._waveMeta.transformID);\n      this.glFunctions.setUniform1i('transformID', this._waveMeta.transformID);\n    }\n  }]);\n\n  return WaveAnimation;\n}();\n\n;\nmodule.exports = WaveAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform int transformID;\\n\\t\\n\\tfloat interpolX(float x){\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\t\\n\\tmat4 rotateAroundY(){\\n\\t\\tfloat rad = progress * PI;\\n\\t\\treturn rotateY(rad);\\n\\t}\\n\\tmat4 rotateAroundYRev(){\\n\\t\\tfloat rad = -progress * PI;\\n\\t\\treturn rotateY(rad);\\n\\t}\\n\\tmat4 rotateAroundX(){\\n\\t\\tfloat rad = progress * PI;\\n\\t\\treturn rotateX(rad);\\n\\t}\\n\\tmat4 rotateAroundXRev(){\\n\\t\\tfloat rad = -progress * PI;\\n\\t\\treturn rotateX(rad);\\n\\t}\\n\\tmat4 genPictureRotate(int rotID){\\n\\t\\tif(rotID == 0){\\n\\t\\t\\treturn rotateAroundY();\\n\\t\\t}else if(rotID == 1){\\n\\t\\t\\treturn rotateAroundYRev();\\n\\t\\t}else if(rotID == 2){\\n\\t\\t\\treturn rotateAroundX();\\n\\t\\t}else{\\n\\t\\t\\treturn rotateAroundXRev();\\n\\t\\t}\\n\\t}\\n\\t\\n\\tvoid main() {\\n\\t\\tint rotID = transformID;\\n\\t\\t\\n\\t\\tmat4 pictureRotation = genPictureRotate(rotID);\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * pictureRotation * scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr)) * vec4(pos.x, pos.y, pos.z, 1.0);\\n\\n\\t\\tvec2 txt;\\n\\t\\tif(rotID == 0 || rotID == 1){\\n\\t\\t\\ttxt = progress >= 0.5 ? vec2(1.0-texcoord.x, texcoord.y) : texcoord;\\n\\t\\t}else{\\n\\t\\t\\ttxt = progress >= 0.5 ? vec2(texcoord.x, 1.0-texcoord.y) : texcoord;\\n\\t\\t}\\n\\t\\tf_texcoord = txt;\\n\\t\\tf_trnsfrmPrgrs = progress;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"#version 300 es\\n\\tprecision mediump float;\\n\\t\\n\\tin vec2 f_texcoord;\\n\\tin float f_trnsfrmPrgrs;\\n\\t\\n\\tuniform sampler2D u_texture0;\\n\\tuniform sampler2D u_texture1;\\n\\t\\n\\tout vec4 outColor;\\n\\t\\n\\tvoid main() {\\n\\t\\tvec4 txt0 = texture(u_texture0, f_texcoord);\\n\\t\\tvec4 txt1 = texture(u_texture1, f_texcoord);\\n\\n\\t\\toutColor = f_trnsfrmPrgrs >= 0.5 ? txt1 : txt0;\\n\\t}\\n\";\n\nvar FlipAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function FlipAnimation(glFunctions) {\n    _classCallCheck(this, FlipAnimation);\n\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this._animMeta = {\n      transformID: 0,\n      animationCount: 4\n    };\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(FlipAnimation, [{\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.glFunctions.setUniform1i('transformID', this._animMeta.transformID);\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._animMeta.transformID = (this._animMeta.transformID + 1) % this._animMeta.animationCount;\n      this.glFunctions.setUniform1i('transformID', this._animMeta.transformID);\n    }\n  }]);\n\n  return FlipAnimation;\n}();\n\n;\nmodule.exports = FlipAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform int transformID;\\n\\t\\n\\tfloat interpolX(float x){\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\t\\n\\tint getShiftCategory(float x, float rng){\\n\\t\\tfloat v = floor(x / rng);\\n\\t\\tfloat m = mod(v, 2.0);\\n\\t\\treturn int(m) == 0 ? 0 : 1;\\n\\t}\\n\\n\\tint evalFlipID(float v){\\n\\t\\tfloat rng = 0.2;\\n\\t\\t\\n\\t\\tfloat intplV = interpolX(v);\\n\\t\\t\\n\\t\\tint flipID = getShiftCategory(intplV, rng);\\n\\t\\treturn flipID;\\n\\t}\\n\\t\\n\\tmat4 genScaleMat(){\\t\\t\\n\\t\\tfloat sclFctr =  1.0 - sin(progress * PI) * 0.5;\\n\\n\\t\\tmat4 sclM = scaleMat4( vec3(sclFctr, sclFctr, 1.0) );\\n\\t\\treturn sclM;\\n\\t}\\n\\t\\n\\tvoid main() {\\t\\t\\n\\t\\tmat4 scaleMat = genScaleMat();\\n\\t\\tmat4 rotZ = rotateZ( progress * PI * 2.0 );\\n\\t\\t\\n\\t\\tvec3 centTrnsl = pos - polygonXYZAverage;\\n\\t\\t\\n\\t\\tvec4 cntrdPos = vec4(pos - polygonXYZAverage, 1.0);\\n\\t\\tvec4 cntrdPosScld = scaleMat * cntrdPos;\\n\\t\\tcntrdPosScld = rotZ * cntrdPosScld;\\n\\t\\tvec4 posScld = vec4(cntrdPosScld.xyz + polygonXYZAverage, 1.0);\\n\\t\\t\\n\\t\\tvec4 pos4 = posScld;\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\tmat4 scaleImage = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * scaleImage * pos4;//vec4(pos, 1.0);\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = progress;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"\";\n\nvar ScaleAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function ScaleAnimation(glFunctions) {\n    _classCallCheck(this, ScaleAnimation);\n\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this._animMeta = {\n      transformID: 2,\n      animationCount: 9\n    };\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(ScaleAnimation, [{\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.glFunctions.setUniform1i('transformID', this._animMeta.transformID);\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._animMeta.transformID = (this._animMeta.transformID + 1) % this._animMeta.animationCount;\n      this.glFunctions.setUniform1i('transformID', this._animMeta.transformID);\n    }\n  }]);\n\n  return ScaleAnimation;\n}();\n\n;\nmodule.exports = ScaleAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform int transformID;\\n\\t\\n\\tfloat sigmoid(float prntgProgress){\\n\\t\\t// prntgProgress -> progress in percentage\\n\\t\\t// rng = 5.0 -> in range -5 to 5, the sigmoid-function \\n\\t\\t//       approaches from (almost) 0 to (almost) 1\\n\\t\\tfloat rng = 10.0;\\n\\t\\tfloat interpolX = prntgProgress * (2.0 * rng) - rng;\\n\\t\\treturn 0.5 * (1.0 + tanh(interpolX * 0.5));\\n\\t}\\n\\n\\tfloat translateFromLeftToRight(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\tfloat translateFromRightToLeft(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromLeftToRight(polygonCenter);\\n\\t}\\n\\tfloat translateFromCenter(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\tfloat y = polygonCenter.y;\\n\\t\\tfloat sqrDistFromCent = x*x + y*y;\\n\\t\\tfloat maxDist = 2.0; // 1*1 + 1+1\\n\\t\\treturn sqrDistFromCent / maxDist;\\n\\t}\\n\\tfloat translateToCenter(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromCenter(polygonCenter);\\n\\t}\\n\\tfloat translateFromBottomToTop(vec3 polygonCenter){\\n\\t\\treturn translateFromLeftToRight(vec3(polygonCenter.y, polygonCenter.x, polygonCenter.z));\\n\\t}\\n\\tfloat translateFromTopToBottom(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromBottomToTop(polygonCenter);\\n\\t}\\n\\tfloat translateFromBottomLeftToTopRight(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\tfloat y = polygonCenter.y;\\n\\t\\tfloat xsign = x < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat ysign = y < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat sqrDistFromCent = (x*x * xsign + y*y * ysign) + 2.0;\\n\\t\\tfloat maxDist = 4.0; // 1*1 + 1+1\\n\\t\\treturn sqrDistFromCent / maxDist;\\n\\t}\\n\\tfloat translateFromTopRightToBottomLeft(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromBottomLeftToTopRight(polygonCenter);\\n\\t}\\n\\tfloat translateFromTopLeftToBottomRight(vec3 polygonCenter){\\n\\t\\tfloat x = polygonCenter.x;\\n\\t\\tfloat y = polygonCenter.y;\\n\\t\\tfloat xsign = x < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat ysign = y < 0.0 ? -1.0 : 1.0;\\n\\t\\tfloat sqrDistFromCent = (x*x * xsign + y*y * ysign * -1.0) + 2.0;\\n\\t\\tfloat maxDist = 4.0; // 1*1 + 1+1\\n\\t\\treturn sqrDistFromCent / maxDist;\\n\\t}\\n\\tfloat translateFromBottomRightToTopLeft(vec3 polygonCenter){\\n\\t\\treturn 1.0 - translateFromTopLeftToBottomRight(polygonCenter);\\n\\t}\\n\\tfloat getPercX(){\\n\\t\\tif(transformID == 0){\\n\\t\\t\\treturn translateFromLeftToRight(polygonXYZAverage);\\n\\t\\t}else if(transformID == 1){\\n\\t\\t\\treturn translateFromRightToLeft(polygonXYZAverage);\\n\\t\\t}else if(transformID == 2){\\n\\t\\t\\treturn translateFromCenter(polygonXYZAverage);\\n\\t\\t}else if(transformID == 3){\\n\\t\\t\\treturn translateToCenter(polygonXYZAverage);\\n\\t\\t}else if(transformID == 4){\\n\\t\\t\\treturn translateFromTopToBottom(polygonXYZAverage);\\n\\t\\t}else if(transformID == 5){\\n\\t\\t\\treturn translateFromBottomToTop(polygonXYZAverage);\\n\\t\\t}else if(transformID == 6){\\n\\t\\t\\treturn translateFromBottomLeftToTopRight(polygonXYZAverage);\\n\\t\\t}else if(transformID == 7){\\n\\t\\t\\treturn translateFromTopRightToBottomLeft(polygonXYZAverage);\\n\\t\\t}else if(transformID == 8){\\n\\t\\t\\treturn translateFromTopLeftToBottomRight(polygonXYZAverage);\\n\\t\\t}else if(transformID == 9){\\n\\t\\t\\treturn translateFromBottomRightToTopLeft(polygonXYZAverage);\\n\\t\\t}\\n\\t}\\n\\tfloat evalTransformationProgress(){\\n\\t\\tfloat sig_rng = 0.25;\\n\\t\\tfloat x_perc_rng = 1.0 - 2.0 * sig_rng;\\n\\t\\tfloat s0 = sig_rng + progress * (1.0 - sig_rng);\\n\\t\\tfloat s1 = s0 - sig_rng;\\n\\t\\t\\n\\t\\tfloat x = polygonXYZAverage.x;\\n\\t\\t\\n\\t\\tfloat percX = getPercX();\\n\\t\\t\\n\\t\\tfloat intpolX = sig_rng + percX * x_perc_rng;\\n\\t\\t\\n\\t\\tif(intpolX >= s0){\\n\\t\\t\\treturn 0.0;\\n\\t\\t}else if(intpolX <= s1){\\n\\t\\t\\treturn 1.0;\\n\\t\\t}\\n\\t\\telse{\\n\\t\\t\\tfloat sigX = (s0 - intpolX) / (s0 - s1);\\n\\t\\t\\tfloat sig = sigmoid(sigX);\\n\\t\\t\\tfloat presOffs = 0.02 +  randoms.x * 0.03;\\n\\t\\t\\tif(sig < presOffs)\\n\\t\\t\\t{\\n\\t\\t\\t\\treturn 0.0;\\n\\t\\t\\t}else if(sig > (1.0-presOffs)){\\n\\t\\t\\t\\treturn 1.0;\\n\\t\\t\\t}else{\\n\\t\\t\\t\\treturn sig;\\n\\t\\t\\t}\\n\\t\\t\\treturn sig;\\n\\t\\t}\\n\\t}\\n\\t\\n\\tvec3 genPictureTranslate(float trnsfrmPrgrs){\\n\\t\\tfloat y = polygonXYZAverage.y;\\n\\t\\tfloat yOffs = (y + 1.0) * 0.5;\\n\\t\\tyOffs = 1.0;\\n\\t\\t\\n\\t\\tfloat rndx = randoms.x - 0.5;\\n\\t\\tfloat rndy = randoms.y - 0.5;\\n\\t\\tfloat rndz = randoms.z - 0.5;\\n\\t\\t\\n\\t\\tfloat xScaleFctr = 0.3;\\n\\t\\tfloat yScaleFctr = 0.3;\\n\\t\\tfloat zScaleFctr = 0.5;\\n\\t\\t\\n\\t\\tfloat trnslX = xScaleFctr * sin(trnsfrmPrgrs * PI) * yOffs * rndx;// * (1.0 + xScaleFctr * sin(progress * PI));\\n\\t\\tfloat trnslY = yScaleFctr * sin(trnsfrmPrgrs * PI) * yOffs * rndy;// yScaleFctr * sin(trnsfrmPrgrs * PI);// * (1.0 + yScaleFctr * sin(progress * PI));\\n\\t\\tfloat trnslZ = zScaleFctr * sin(trnsfrmPrgrs * PI) * yOffs * rndz;// * (1.0 + zScaleFctr * sin(progress * PI) * yOffs);\\n\\t\\t\\n\\t\\treturn vec3(trnslX, trnslY, trnslZ);\\n\\t}\\n\\t\\n\\tmat4 genPictureScale(float trnsfrmPrgrs){\\n\\t\\tfloat sclFctr = 1.0 + sin(trnsfrmPrgrs * PI) * 3.0;\\n\\t\\tfloat sclX = sclFctr;\\n\\t\\tfloat sclY = sclFctr;\\n\\t\\tfloat sclZ = 1.0;\\n\\t\\t\\n\\t\\tmat4 scaleMat = scaleMat4( vec3(sclX, sclY, sclZ) );\\n\\t\\treturn scaleMat;\\n\\t}\\n\\t\\n\\tvoid main() {\\n\\t\\tfloat trnsfrmPrgrs = evalTransformationProgress();\\n\\t\\t\\n\\t\\tvec4 pos4;\\n\\t\\tif(trnsfrmPrgrs == 0.0){\\n\\t\\t\\tpos4 = vec4(pos, 1.0);\\n\\t\\t}\\telse if(trnsfrmPrgrs == 1.0){\\n\\t\\t\\tpos4 = vec4(pos, 1.0);\\n\\t\\t}else{\\n\\t\\t\\tvec3 cntrdPos = pos - polygonXYZAverage;\\n\\t\\t\\t\\n\\t\\t\\tvec4 cntrdPos4 = vec4(cntrdPos, 1.0);\\n\\t\\t\\t\\n\\t\\t\\tmat4 rotMatX = rotateX(trnsfrmPrgrs * PI * 2.0);\\n\\t\\t\\tmat4 rotMatY = rotateY(trnsfrmPrgrs * PI * 2.0);\\n\\t\\t\\tmat4 rotMatZ = rotateZ(trnsfrmPrgrs * PI * 2.0);\\n\\t\\t\\tvec4 cntrdPosRot = rotMatY * rotMatZ * cntrdPos4;\\n\\t\\t\\t\\n\\t\\t\\tmat4 sclMat = genPictureScale(trnsfrmPrgrs);\\n\\t\\t\\tvec4 cntrdPosScld = sclMat * cntrdPosRot;\\n\\t\\t\\t\\n\\t\\t\\tvec3 cntrdPosTrnsl = genPictureTranslate(trnsfrmPrgrs);\\n\\n\\t\\t\\tpos4 = vec4(cntrdPosScld.xyz + cntrdPosTrnsl + polygonXYZAverage, 1.0);\\n\\t\\t}\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\t\\n\\t\\tmat4 imgScl = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * imgScl * pos4;\\n\\t\\t\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = trnsfrmPrgrs;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"\";\n\nvar WaveAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function WaveAnimation(glFunctions) {\n    _classCallCheck(this, WaveAnimation);\n\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this._waveMeta = {\n      transformID: 2,\n      animationCount: 10\n    };\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(WaveAnimation, [{\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.glFunctions.setUniform1i('transformID', this._waveMeta.transformID);\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._waveMeta.transformID = Math.floor((this._waveMeta.transformID + 1) % this._waveMeta.animationCount);\n      this.glFunctions.setUniform1i('transformID', this._waveMeta.transformID);\n    }\n  }]);\n\n  return WaveAnimation;\n}();\n\n;\nmodule.exports = WaveAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform int transformID;\\n\\t\\n\\tfloat getAdjustedProgress(){\\n\\t\\treturn progress > 0.99 ? 1.0 : progress;\\n\\t}\\n\\t\\n\\tvec4 getCycRoration(vec3 cycloneCenter, float cycloneRad){\\t\\n\\t\\tvec3 centPos = polygonXYZAverage - cycloneCenter;\\n\\t\\tvec3 ceneredPos = pos - cycloneCenter;\\n\\t\\t\\n\\t\\tfloat centdx = cycloneCenter.x - polygonXYZAverage.x;\\n\\t\\tfloat centdy = cycloneCenter.y - polygonXYZAverage.y;\\n\\t\\tfloat centdz = cycloneCenter.z - polygonXYZAverage.z;\\n\\t\\t\\n\\t\\tfloat distToCyclCent = centPos.x * centPos.x\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t+ centPos.y * centPos.y\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t+ centPos.z * centPos.z;\\n\\t\\t\\n\\t\\tfloat adjProg = getAdjustedProgress();\\n\\t\\t\\n\\t\\tfloat sinProg = sin(adjProg * PI);\\n\\t\\t\\t\\n\\t\\tfloat cycles = 1.0;\\n\\t\\tfloat radAngle = adjProg * PI * 2.0 * cycles;\\n\\t\\tmat4 rotMat = rotateZ(radAngle);\\n\\t\\t\\n/*\\t\\tfloat sclFctr = 2.0;\\n\\t\\tfloat sclVal = 1.0 + sinProg * sclFctr;\\n\\t\\tmat4 sclMat = scaleMat4( vec3(sclVal,sclVal,sclVal) );*/\\n\\t\\t\\n\\t\\tvec4 p = vec4(ceneredPos, 1.0);\\n//\\t\\tp = sclMat * p;\\n\\t\\tp = rotMat * p;\\n\\t\\t\\n\\t\\t\\n\\t\\tfloat zscale = 4.5;\\n\\t\\tfloat centOffs = (centdx*centdx + centdy*centdy) / (cycloneRad*cycloneRad);\\n\\t\\tfloat zOffs = sinProg * centOffs * zscale;\\n\\t\\t\\n\\t\\tfloat rndmFctr = 0.5;\\n\\t\\tfloat rndmx = (randoms.x - 0.5) * rndmFctr * sinProg;\\n\\t\\tfloat rndmy = (randoms.y - 0.5) * rndmFctr * sinProg;\\n\\t\\t\\n\\t\\tp.x += rndmx;\\n\\t\\tp.y += rndmy;\\n\\t\\tp.z = -zOffs;\\n\\t\\tp.xyz += cycloneCenter;\\n\\t\\treturn p;\\n\\t}\\n\\t\\n\\tvoid main() {\\t\\t\\n\\t\\tvec3 cycloneCenter = vec3(0.0, 0.0, 0.0);\\n\\t\\tfloat cycloneRad = sqrt(2.0);\\n\\t\\tvec4 cyclPos = getCycRoration(cycloneCenter, cycloneRad);\\n\\t\\t\\n\\t\\tvec4 pos4 = cyclPos;\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\tmat4 scaleImage = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * scaleImage * pos4;//vec4(pos, 1.0);\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = getAdjustedProgress();\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"\";\n\nvar CycloneAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function CycloneAnimation(glFunctions) {\n    _classCallCheck(this, CycloneAnimation);\n\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this._waveMeta = {\n      transformID: 2,\n      animationCount: 9\n    };\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(CycloneAnimation, [{\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.glFunctions.setUniform1i('transformID', this._waveMeta.transformID);\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._waveMeta.transformID = (this._waveMeta.transformID + 1) % this._waveMeta.animationCount;\n      this.glFunctions.setUniform1i('transformID', this._waveMeta.transformID);\n    }\n  }]);\n\n  return CycloneAnimation;\n}();\n\n;\nmodule.exports = CycloneAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix'); //-----------------------------------------------------------------\n\n\nfunction replaceString(s, args) {\n  for (var i = 0; i < args.length; ++i) {\n    console.log('replacing: ', args[i]);\n    s = s.replace('$!{' + i + '}!$', args[i]);\n  }\n\n  return s;\n}\n\nvar vertexShaderSource = \"\\t\\t\\n\\tconst float EXP_SCL_FCTR = 6.0;\\n\\tconst float LOGR_SCL_FCTR = 3.0;\\n\\t\\n\\tuniform vec3 gravityCenters[$!{0}!$];\\n\\tuniform int gravityCenterCount;\\n\\tuniform mat4 rotMatHippo;\\n\\tuniform vec3 ax;\\n\\t\\n\\tint getClosestGravityCenterID(){\\n\\t\\tvec3 gv = gravityCenters[0] - polygonXYZAverage;\\n\\t\\tfloat gd = gv.x*gv.x + gv.y*gv.y + gv.z*gv.z;\\n\\t\\tint id = 0;\\n\\t\\tfor(int i=1; i < gravityCenterCount; ++i){\\n\\t\\t\\tvec3 gv2 = gravityCenters[i] - polygonXYZAverage;\\n\\t\\t\\tfloat gd2 = gv2.x*gv2.x + gv2.y*gv2.y + gv2.z*gv2.z;\\n\\t\\t\\tif(gd2 < gd){\\n\\t\\t\\t\\tid = i;\\n\\t\\t\\t\\tgd = gd2;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn id;\\n\\t}\\n\\t\\n\\tmat4 genFake(){\\n\\t\\tfloat rad = progress * PI * 2.0 * 20.0;\\n\\t\\tmat4 rotM = rotationAroundAxis(ax/length(ax), rad);\\n\\t\\t\\n\\t\\treturn rotM;\\n\\t}\\n\\t\\n\\t// translate from startPos to endPos in respect to prgrs in perctage (0 -> 1)\\n\\tvec4 translateFromTo(vec3 startPos, \\n\\t\\t\\t\\t\\t\\t\\t\\tvec3 endPos,\\n\\t\\t\\t\\t\\t\\t\\t\\tfloat prgrs){\\n\\t\\tvec3 travelDist = endPos - startPos;\\n\\t\\tmat4 translMat = translateMat4(travelDist * prgrs);\\n\\t\\treturn translMat * vec4(startPos, 1.0);\\n\\t}\\n\\t\\n\\tfloat getExponentilaProgress(float prgrs){\\n\\t\\treturn exp(prgrs * EXP_SCL_FCTR) / exp(EXP_SCL_FCTR);\\n\\t}\\n\\tfloat getLogarithmicProgress(float prgrs){\\n\\t\\tfloat logMin = 0.1; // log(0) == - infinity!\\n\\t\\treturn (log(prgrs * LOGR_SCL_FCTR  + logMin) + abs(log(logMin))) / (log(LOGR_SCL_FCTR + logMin) + abs(log(logMin)));\\n\\t}\\n\\t\\n\\tvec4 genGravityTransform(int gravID){\\n\\t\\t\\n\\t\\tfloat minOrbitPerc = 0.2;\\n\\t\\tfloat maxOrbitPerc = 0.6;\\n\\t\\tfloat orbitPerc = minOrbitPerc + randoms.z * (maxOrbitPerc - minOrbitPerc);\\n\\t\\tfloat nonOrbitPerc = (1.0 - orbitPerc) * 0.5;\\n\\t\\t\\n\\t\\tvec3 gravCent = gravityCenters[gravID];\\n\\t\\tfloat gravityRad = (0.7 + randoms.y * 0.4) / (float(gravityCenterCount));\\n\\t\\t\\n\\t\\tvec3 polyOffs = pos - polygonXYZAverage;\\n\\t\\t\\n\\t\\tvec3 rndmOrbitVec0 = randoms * 2.0 - 1.0;\\n\\t\\tvec3 rndmOrbitVecUni0 = rndmOrbitVec0 / length(rndmOrbitVec0);\\n\\t\\t\\n\\t\\tvec3 orbitRandomStart = rndmOrbitVecUni0 * gravityRad;\\n\\t\\tvec3 orbitRandomStartUni = orbitRandomStart / length(orbitRandomStart);\\n\\t\\t\\n\\t\\tif(progress <= nonOrbitPerc){\\n\\t\\t\\tfloat relProg = progress / nonOrbitPerc;\\n\\t\\t\\trelProg = getExponentilaProgress(relProg);\\n\\t\\t\\tvec3 orbitStart = gravCent + orbitRandomStart;\\n\\t\\t\\tvec3 travelDist = orbitStart - polygonXYZAverage;\\n\\t\\t\\treturn translateFromTo(pos, orbitStart + polyOffs, relProg);\\n\\t\\t}else{\\t\\t\\t\\n\\t\\t\\tvec3 rndmOrbitVec1 = (vec3(randoms.z, randoms.x, randoms.y) * 2.0 - 1.0) * gravityRad;\\n\\t\\t\\tvec3 rndmOrbitVecUni1 = rndmOrbitVec1 / length(rndmOrbitVec1);\\n\\t\\t\\t\\n\\t\\t\\tvec3 orthoVec;\\n\\t\\t\\tif(polygonXYZAverage.x < 0.0){\\n\\t\\t\\t\\torthoVec = cross(rndmOrbitVecUni0, rndmOrbitVecUni1);\\n\\t\\t\\t}else{\\n\\t\\t\\t\\torthoVec = cross(rndmOrbitVecUni1, rndmOrbitVecUni0);\\n\\t\\t\\t}\\n\\t\\t\\tvec3 orthoVecUni = orthoVec / length(orthoVec);\\n\\t\\t\\t\\n\\t\\t\\tfloat rotations = 0.1 + randoms.z * 2.5;\\n\\t\\t\\tfloat relProg = (progress - nonOrbitPerc) / orbitPerc;\\n\\t\\t\\tfloat rad = min(relProg, 1.0) * rotations * PI * 2.0;\\n\\t\\t\\t\\n\\t\\t\\tmat4 GRM = rotationAroundAxis(rndmOrbitVecUni1, rad);\\n\\t\\t\\t\\n\\t\\t\\tmat4 translToCenter = translateMat4(gravCent);\\n\\t\\t\\tvec4 orbitEndPos = translToCenter * GRM * vec4(orbitRandomStart + polyOffs, 1.0);\\n\\t\\t\\t\\n\\t\\t\\tif(progress >= 1.0 - nonOrbitPerc){\\n\\t\\t\\t\\tfloat relProg = (progress - (orbitPerc + nonOrbitPerc)) / nonOrbitPerc;\\n\\t\\t\\t\\trelProg = getLogarithmicProgress(relProg);\\n\\t\\t\\t\\tvec3 orbitEndPosVec3 = vec3(orbitEndPos);\\n\\t\\t\\t\\treturn translateFromTo(orbitEndPosVec3 + polyOffs, pos, relProg);\\n\\t\\t\\t}else{\\n\\t\\t\\t\\treturn orbitEndPos;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t\\n\\tvoid main() {\\n\\t\\tint centID = getClosestGravityCenterID();\\n\\t\\t\\n\\t\\tvec4 pos4 = genGravityTransform(centID);\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\tmat4 scaleImage = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tfloat maxYRotCirclFrct = 0.1;\\n\\t\\tfloat rotYprog = progress;//sin(progress * TAU) * maxYRotCirclFrct;\\n\\t\\tmat4 modlViewRotY = rotateY(rotYprog * PI * 2.0);\\n\\t\\t\\n\\t\\tfloat maxXRotCirclFrct = 0.12;\\n\\t\\tfloat rotXprog = sin(progress * PI) * maxXRotCirclFrct;\\n\\t\\tmat4 modlViewRotX = rotateX(rotXprog * PI * 2.0);\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * modlViewRotX * modlViewRotY * scaleImage * pos4;\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = progress;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"\";\n\nfunction getQuaternion(ax, rad) {\n  var radHalf = rad * 0.5;\n  var rhs = Math.sin(radHalf);\n  var rhc = Math.cos(radHalf);\n  var q = [rhc, ax[0] * rhs, ax[1] * rhs, ax[2] * rhs];\n  return q;\n}\n\nfunction rotationAroundAxis(ax, rad) {\n  var q = getQuaternion(ax, rad);\n  var m = glMatrix.mat4.create();\n  var qw = q[0];\n  var qx = q[1];\n  var qy = q[2];\n  var qz = q[3];\n  var qxx = qx * qx;\n  var qyy = qy * qy;\n  var qzz = qz * qz;\n  m[0 * 4 + 0] = 1.0 - 2.0 * qyy - 2.0 * qzz;\n  m[1 * 4 + 0] = 2.0 * qx * qy - 2.0 * qz * qw;\n  m[2 * 4 + 0] = 2.0 * qx * qz + 2.0 * qy * qw;\n  m[0 * 4 + 1] = 2.0 * qx * qy + 2.0 * qz * qw;\n  m[1 * 4 + 1] = 1.0 - 2.0 * qxx - 2.0 * qzz;\n  m[2 * 4 + 1] = 2.0 * qy * qz - 2.0 * qx * qw;\n  m[0 * 4 + 2] = 2.0 * qx * qz - 2.0 * qy * qw;\n  m[1 * 4 + 2] = 2.0 * qy * qz + 2.0 * qx * qw;\n  m[2 * 4 + 2] = 1.0 - 2.0 * qxx - 2.0 * qyy;\n  return m;\n}\n\nvar GravityAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function GravityAnimation(glFunctions) {\n    _classCallCheck(this, GravityAnimation);\n\n    this._waveMeta = {\n      gravityCentersCount: 3\n    };\n    this.vertexShaderSource = replaceString(vertexShaderSource, [this._waveMeta.gravityCentersCount]);\n    this.fragmentShaderSource = fragmentShaderSource;\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(GravityAnimation, [{\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"genGravityCenters\",\n    value: function genGravityCenters() {\n      var gravCentrs = [];\n      /*\t\tgravCentrs = [-0.5, 0, 0,\n      \t\t\t\t\t\t\t0.5, 0, 0];*/\n\n      for (var i = 0; i < Math.ceil(Math.random() * this._waveMeta.gravityCentersCount); ++i) {\n        var cent = [(Math.random() - 0.5) * 1.5, (Math.random() - 0.5) * 1.5, (Math.random() - 0.5) * 1.5];\n        gravCentrs.push.apply(gravCentrs, cent);\n      }\n\n      return gravCentrs;\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      var gravCenters = this.genGravityCenters(); //\t\tconsole.log('gravCenters: ', gravCenters);\n\n      this.glFunctions.setUniformVector3fv('gravityCenters', gravCenters);\n      this.glFunctions.setUniform1i('gravityCenterCount', this._waveMeta.gravityCentersCount);\n      this.prog = 0;\n      this.ax = [0, 20, 0]; //\t\tglMatrix.vec3.normalize(this.ax, this.ax);\n\n      console.log('ax: ', this.ax);\n      var rad = 0.0;\n      var rotm0 = rotationAroundAxis(this.ax, rad);\n      this.glFunctions.setUniformMatrix4fv('rotMatHippo', rotm0);\n      this.glFunctions.setUniformVector3fv('ax', this.ax);\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {\n      var rad = this.prog;\n      this.prog += 0.05;\n      var rotm0 = rotationAroundAxis(this.ax, rad);\n      this.glFunctions.setUniformMatrix4fv('rotMatHippo', rotm0);\n    }\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      var gravCenters = this.genGravityCenters();\n      this.glFunctions.setUniformVector3fv('gravityCenters', gravCenters);\n    }\n  }]);\n\n  return GravityAnimation;\n}();\n\n;\nmodule.exports = GravityAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix');\n\nvar StaticFunctions = require('./StaticFunctions'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform vec3 tileCenters[$!{TileCentersCount}!$];\\n\\tuniform float doRotation;\\n\\tuniform int rotationCount;\\n\\t\\n\\tfloat interpolX(float x){\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\t\\n\\tfloat getSqrdDist(vec3 v0, vec3 v1){\\n\\t\\tfloat dx = v0.x - v1.x;\\n\\t\\tfloat dy = v0.y - v1.y;\\n\\t\\tfloat dz = v0.z - v1.z;\\n\\t\\treturn dx * dx + dy * dy + dz * dz;\\n\\t}\\n\\t\\n\\tvec2 getTileCenter(){\\n\\t\\tfloat closestTileID = 0.0;\\n\\t\\tfloat tileDist = getSqrdDist(polygonXYZAverage, tileCenters[0]);\\n\\t\\tfor(int i=1; i < $!{TileCentersCount}!$; ++i){\\n\\t\\t\\tfloat curDist = getSqrdDist(polygonXYZAverage, tileCenters[i]);\\n\\t\\t\\tif(curDist < tileDist){\\n\\t\\t\\t\\ttileDist = curDist;\\n\\t\\t\\t\\tclosestTileID = float(i);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\ttileDist += randoms.x;\\n\\t\\treturn vec2(closestTileID, tileDist);\\n\\t}\\n\\t\\n\\tmat4 genScaleMat(){\\n\\t\\tfloat adjProg = progress > 0.99 ? 1.0 : progress;\\n\\t\\tfloat sclFctr =  1.0 - sin(adjProg * PI) * 1.0;\\n\\n\\t\\tmat4 sclM = scaleMat4( vec3(sclFctr, sclFctr, 1.0) );\\n\\t\\treturn sclM;\\n\\t}\\n\\n\\tvec4 evalPos(){\\n\\t\\tvec2 tileCentDist = getTileCenter();\\n\\t\\tfloat dist = tileCentDist[1];\\n\\t\\tvec3 tileCent = tileCenters[ int(tileCentDist[0]) ];\\n\\t\\t\\n\\t\\tmat4 sclM = genScaleMat();\\n\\t\\tmat4 trnslFromTileCent = translateMat4( -tileCent );\\n\\t\\tmat4 trnslToTileCent   = translateMat4(  tileCent );\\n\\t\\tvec4 pos4 = vec4(pos, 1.0);\\n\\t\\t\\n\\t\\tmat4 rotMat = mat4(1.0);\\n\\t\\tif(doRotation > 0.5){\\n\\t\\t\\trotMat = rotateZ( progress * TAU * float(rotationCount) );\\n\\t\\t}\\n\\t\\t\\n\\t\\treturn trnslToTileCent * sclM * rotMat * trnslFromTileCent * pos4;\\n\\t}\\n\\t\\n\\tvoid main() {\\t\\t\\n\\t\\tvec4 pos4 = evalPos();\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\tmat4 scaleImage = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * scaleImage * pos4;\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = progress;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"#version 300 es\\n\\tprecision mediump float;\\n\\t\\n\\tin vec2 f_texcoord;\\n\\tin float f_trnsfrmPrgrs;\\n\\t\\n\\tuniform sampler2D u_texture0;\\n\\tuniform sampler2D u_texture1;\\n\\t\\n\\tout vec4 outColor;\\n\\t\\n\\tvoid main() {\\n\\t\\tvec4 txt0 = texture(u_texture0, f_texcoord);\\n\\t\\tvec4 txt1 = texture(u_texture1, f_texcoord);\\n\\t\\t\\n\\t\\tvec4 txt;\\n\\t\\tif(f_trnsfrmPrgrs >= 0.5){\\n\\t\\t\\ttxt = txt1;\\n\\t\\t}else{\\n\\t\\t\\ttxt = txt0;\\n\\t\\t}\\n\\n\\t\\toutColor = txt;\\n\\t}\\n\";\n\nvar TileAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function TileAnimation(glFunctions) {\n    _classCallCheck(this, TileAnimation);\n\n    this._animMeta = {\n      tileCentersPerRow: 8\n    };\n    this.genTileCenters();\n    this.vertexShaderSource = StaticFunctions.replaceString(vertexShaderSource, [Math.pow(this._animMeta.tileCentersPerRow, 2)], ['TileCentersCount']);\n    this.fragmentShaderSource = fragmentShaderSource;\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(TileAnimation, [{\n    key: \"genTileCenters\",\n    value: function genTileCenters() {\n      this.tileCenters = [];\n      var strt = -1;\n      var offs = 2 / this._animMeta.tileCentersPerRow;\n\n      for (var r = 0; r < this._animMeta.tileCentersPerRow; ++r) {\n        for (var c = 0; c < this._animMeta.tileCentersPerRow; ++c) {\n          this.tileCenters.push([strt + (c + 0.5) * offs, strt + (r + 0.5) * offs, 0]);\n        }\n      }\n    }\n  }, {\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"setRotationUniforms\",\n    value: function setRotationUniforms() {\n      var doRotation = Math.random();\n      this.glFunctions.setUniform1f('doRotation', Math.random());\n      var maxRotations = 3;\n      var rotationCount = Math.floor(-maxRotations + Math.random() * maxRotations * 2);\n\n      if (rotationCount === 0) {\n        rotationCount = -1;\n      }\n\n      this.glFunctions.setUniform1i('rotationCount', rotationCount);\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      var tileCentersPerRow = this._animMeta.tileCentersPerRow;\n\n      for (var i = 0; i < tileCentersPerRow * tileCentersPerRow; ++i) {\n        this.glFunctions.setUniformVector3fv('tileCenters[' + i + ']', this.tileCenters[i]);\n      }\n\n      this.setRotationUniforms();\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this.setRotationUniforms(); //\t\tthis._animMeta.transformID = (this._animMeta.transformID + 1) % this._animMeta.animationCount;\n    }\n  }]);\n\n  return TileAnimation;\n}();\n\n;\nmodule.exports = TileAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix');\n\nvar StaticFunctions = require('./StaticFunctions'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform vec3 tileCenters[$!{TileCentersCount}!$];\\n\\tconst int tileCentCount = $!{TileCentersCount}!$;\\n\\t\\n\\tfloat interpolX(float x){\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\t\\n\\tfloat getSqrdDist(vec3 v0, vec3 v1){\\n\\t\\tfloat dx = v0.x - v1.x;\\n\\t\\tfloat dy = v0.y - v1.y;\\n\\t\\tfloat dz = v0.z - v1.z;\\n\\t\\treturn dx * dx + dy * dy + dz * dz;\\n\\t}\\n\\t\\n\\tvec2 getTileCenter(){\\n\\t\\tfloat closestTileID = 0.0;\\n\\t\\tfloat tileDist = getSqrdDist(polygonXYZAverage, tileCenters[0]);\\n\\t\\tfor(int i=1; i < $!{TileCentersCount}!$; ++i){\\n\\t\\t\\tfloat curDist = getSqrdDist(polygonXYZAverage, tileCenters[i]);\\n\\t\\t\\tif(curDist < tileDist){\\n\\t\\t\\t\\ttileDist = curDist;\\n\\t\\t\\t\\tclosestTileID = float(i);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\ttileDist += randoms.x;\\n\\t\\treturn vec2(closestTileID, tileDist);\\n\\t}\\n\\t\\n\\tmat4 genScaleMat(float prog){\\t\\t\\n\\t\\tfloat sclFctr =  1.0 - sin(prog * PI) * 1.0;\\n\\n\\t\\tmat4 sclM = scaleMat4( vec3(sclFctr, sclFctr, 1.0) );\\n\\t\\treturn sclM;\\n\\t}\\n\\t\\n\\tfloat evalRelProgress(int tileCentID){\\n\\t\\tfloat tileCentIDf = float(tileCentID);\\n\\t\\tfloat tileCentCountf = float(tileCentCount);\\n\\t\\t\\n\\t\\tfloat progOffs = 1.0 / (tileCentCountf * 2.0);\\n\\t\\tfloat progDur = 1.0 / 2.0;\\n\\t\\tfloat progStart = tileCentIDf * progOffs;\\n\\t\\tfloat progEnd = progStart + progDur;\\n\\t\\t\\n\\t\\tfloat relProg = (progress - progStart) / progDur;\\n\\t\\trelProg = min( max(relProg, 0.0) , 1.0);\\n\\t\\treturn relProg;\\n\\t}\\n\\n\\tvec4 evalPos(int tileCentID, float relProg){\\n\\t\\tfloat tileCentIDf = float(tileCentID);\\n\\t\\tfloat tileCentCountf = float(tileCentCount);\\n\\t\\t\\n\\t\\tvec3 tileCent = tileCenters[ tileCentID ];\\n\\t\\t\\n\\t\\tfloat progOffs = 1.0 / (tileCentCountf * 2.0);\\n\\t\\tfloat progDur = 1.0 / 2.0;\\n\\t\\tfloat progStart = tileCentIDf * progOffs;\\n\\t\\tfloat progEnd = progStart + progDur;\\n\\t\\t\\n\\t\\tif(relProg <= 0.0 || relProg >= 1.0){\\n\\t\\t\\treturn vec4(pos, 1.0);\\n\\t\\t}else{\\n\\t\\t\\tmat4 sclM = genScaleMat(relProg);\\n\\t\\t\\tmat4 trnslFromTileCent = translateMat4( -tileCent );\\n\\t\\t\\tmat4 trnslToTileCent   = translateMat4(  tileCent );\\n\\t\\t\\tvec4 pos4 = vec4(pos, 1.0);\\n\\t\\t\\t\\n\\t\\t\\treturn trnslToTileCent * sclM * trnslFromTileCent * pos4;\\n\\t\\t}\\n\\t}\\n\\t\\n\\tvoid main() {\\n\\t\\tvec2 tileCentAndDist = getTileCenter();\\n\\t\\t\\n\\t\\tint tileCentID = int(tileCentAndDist[0]);\\n\\t\\tfloat dist = tileCentAndDist[1];\\n\\t\\t\\n\\t\\tfloat relProg = evalRelProgress(tileCentID);\\n\\t\\t\\n\\t\\tvec4 pos4 = evalPos(tileCentID, relProg);\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\tmat4 scaleImage = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * scaleImage * pos4;//vec4(pos, 1.0);\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = relProg;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"#version 300 es\\n\\tprecision mediump float;\\n\\t\\n\\tin vec2 f_texcoord;\\n\\tin float f_trnsfrmPrgrs;\\n\\t\\n\\tuniform sampler2D u_texture0;\\n\\tuniform sampler2D u_texture1;\\n\\t\\n\\tout vec4 outColor;\\n\\t\\n\\tvoid main() {\\n\\t\\tvec4 txt0 = texture(u_texture0, f_texcoord);\\n\\t\\tvec4 txt1 = texture(u_texture1, f_texcoord);\\n\\t\\t\\n\\t\\tvec4 txt;\\n\\t\\tif(f_trnsfrmPrgrs >= 0.5){\\n\\t\\t\\ttxt = txt1;\\n\\t\\t}else{\\n\\t\\t\\ttxt = txt0;\\n\\t\\t}\\n\\n\\t\\toutColor = txt;\\n\\t}\\n\";\n\nvar DelayedTileAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function DelayedTileAnimation(glFunctions) {\n    _classCallCheck(this, DelayedTileAnimation);\n\n    this._animMeta = {\n      tileCentersPerRow: 8,\n      tileAnimID: 0,\n      tileAnimIDCount: 14\n    };\n    this.genTileCenters();\n    this.vertexShaderSource = StaticFunctions.replaceString(vertexShaderSource, [Math.pow(this._animMeta.tileCentersPerRow, 2)], ['TileCentersCount']);\n    this.fragmentShaderSource = fragmentShaderSource;\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(DelayedTileAnimation, [{\n    key: \"genTileCenters\",\n    value: function genTileCenters() {\n      var _this = this;\n\n      this.tileCenters = [];\n      var tileAnimID = this._animMeta.tileAnimID;\n      var tileCentersPerRow = this._animMeta.tileCentersPerRow;\n      var tileCentersCount = tileCentersPerRow * tileCentersPerRow;\n      var strt = -1;\n      var offs = 2 / this._animMeta.tileCentersPerRow;\n\n      var genPolygons = function genPolygons(r, c) {\n        _this.tileCenters.push([strt + (c + 0.5) * offs, strt + (r + 0.5) * offs, 0]);\n      };\n\n      var randomIDs;\n      var dists;\n\n      if (tileAnimID >= 4 || tileAnimID <= 7) {\n        dists = [];\n\n        for (var id = 0; id < tileCentersCount; ++id) {\n          var r = id / tileCentersPerRow;\n          var c = id % tileCentersPerRow;\n          var x = strt + (c + 0.5) * offs;\n          var y = strt + (r + 0.5) * offs;\n          var d = void 0;\n\n          switch (tileAnimID) {\n            case 4:\n              d = x * x + y * y;\n              break;\n\n            case 5:\n              d = x * x + y * y;\n              break;\n\n            case 6:\n              d = y * y;\n              break;\n\n            case 7:\n              d = y * y;\n              break;\n\n            case 8:\n              d = x * x;\n              break;\n\n            case 9:\n              d = x * x;\n              break;\n\n            case 10:\n              d = y * y + x;\n              break;\n\n            case 11:\n              d = y * y + x;\n              break;\n\n            case 12:\n              d = x * x + y;\n              break;\n\n            case 13:\n              d = x * x + y;\n              break;\n          }\n\n          dists.push({\n            id: id,\n            dist: d\n          });\n        }\n\n        var tileAnimdIdOffs = (tileAnimID - 4) % 2;\n\n        switch (tileAnimdIdOffs) {\n          case 0:\n            dists = StaticFunctions.sort(dists, function (v) {\n              return v.dist;\n            });\n            break;\n\n          case 1:\n            dists = StaticFunctions.sort(dists, function (v) {\n              return -v.dist;\n            });\n            break;\n        }\n      } else if (tileAnimID === 6) {\n        randomIDs = [];\n\n        for (var i = 0; i < tileCentersCount; ++i) {\n          randomIDs.push(i);\n        }\n\n        randomIDs = StaticFunctions.shuffle(randomIDs);\n      }\n\n      for (var _r = 0; _r < tileCentersPerRow; ++_r) {\n        for (var _c = 0; _c < tileCentersPerRow; ++_c) {\n          if (tileAnimID === 0) {\n            genPolygons(_r, _c);\n          } else if (tileAnimID === 1) {\n            genPolygons(_c, _r);\n          } else if (tileAnimID === 2 || tileAnimID === 3) {\n            var _id = _r * tileCentersPerRow + _c;\n\n            var colID = _r % 2 == 0 ? _c : tileCentersPerRow - 1 - _c;\n\n            if (tileAnimID == 2) {\n              genPolygons(_r, colID);\n            } else {\n              genPolygons(colID, _r);\n            }\n          } else if (tileAnimID >= 4 || tileAnimID <= 13) {\n            var _id2 = _r * tileCentersPerRow + _c;\n\n            var distId = dists[_id2];\n            var tarR = Math.floor(distId.id / tileCentersPerRow);\n            var tarC = Math.floor(distId.id % tileCentersPerRow);\n            genPolygons(tarR, tarC);\n          } else {\n            var _id3 = randomIDs[_r * tileCentersPerRow + _c];\n            var r_rnd = Math.floor(_id3 / tileCentersPerRow);\n            var c_rnd = Math.floor(_id3 % tileCentersPerRow);\n            genPolygons(r_rnd, c_rnd);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"genAndSetTileCenters\",\n    value: function genAndSetTileCenters() {\n      this.genTileCenters();\n      var tileCentersPerRow = this._animMeta.tileCentersPerRow;\n\n      for (var i = 0; i < tileCentersPerRow * tileCentersPerRow; ++i) {\n        this.glFunctions.setUniformVector3fv('tileCenters[' + i + ']', this.tileCenters[i]);\n      }\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.genAndSetTileCenters();\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._animMeta.tileAnimID = ++this._animMeta.tileAnimID % this._animMeta.tileAnimIDCount;\n      this.genAndSetTileCenters();\n    }\n  }]);\n\n  return DelayedTileAnimation;\n}();\n\n;\nmodule.exports = DelayedTileAnimation;","var _classCallCheck = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/hippo/workspace_bluefish/expressmrsoir/mrsoirfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar glMatrix = require('gl-matrix');\n\nvar StaticFunctions = require('./StaticFunctions'); //-----------------------------------------------------------------\n\n\nvar vertexShaderSource = \"\\t\\t\\n\\tuniform vec3 tileCenters[$!{TileCentersCount}!$];\\n\\tuniform int randomDestinationCenters[$!{TileCentersCount}!$];\\n\\tuniform float randomXOffsets[$!{TileCentersCount}!$];\\n\\t\\n\\tconst int tileCentCount = $!{TileCentersCount}!$;\\n\\t\\n\\tout vec3 f_untrnsformdTarPos;\\n\\t\\n\\tfloat interpolX(float x){\\n\\t\\treturn (x + 1.0) * 0.5;\\n\\t}\\n\\t\\n\\tfloat getSqrdDist(vec3 v0, vec3 v1){\\n\\t\\tfloat dx = v0.x - v1.x;\\n\\t\\tfloat dy = v0.y - v1.y;\\n\\t\\tfloat dz = v0.z - v1.z;\\n\\t\\treturn dx * dx + dy * dy + dz * dz;\\n\\t}\\n\\t\\n\\tvec2 getTileCenter(){\\n\\t\\tfloat closestTileID = 0.0;\\n\\t\\tfloat tileDist = getSqrdDist(polygonXYZAverage, tileCenters[0]);\\n\\t\\tfor(int i=1; i < $!{TileCentersCount}!$; ++i){\\n\\t\\t\\tfloat curDist = getSqrdDist(polygonXYZAverage, tileCenters[i]);\\n\\t\\t\\tif(curDist < tileDist){\\n\\t\\t\\t\\ttileDist = curDist;\\n\\t\\t\\t\\tclosestTileID = float(i);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\ttileDist += randoms.x;\\n\\t\\treturn vec2(closestTileID, tileDist);\\n\\t}\\n\\t\\n\\tmat4 genScaleMat(float prog){\\t\\t\\n\\t\\tfloat sclFctr =  1.0 - sin(prog * PI) * 1.0;\\n\\n\\t\\tmat4 sclM = scaleMat4( vec3(sclFctr, sclFctr, 1.0) );\\n\\t\\treturn sclM;\\n\\t}\\n\\t\\n\\tfloat evalRelProgress(int tileCentID){\\n\\t\\tfloat tileCentIDf = float(tileCentID);\\n\\t\\tfloat tileCentCountf = float(tileCentCount);\\n\\t\\t\\n\\t\\tfloat progOffs = 1.0 / (tileCentCountf * 2.0);\\n\\t\\tfloat progDur = 1.0 / 2.0;\\n\\t\\tfloat progStart = tileCentIDf * progOffs;\\n\\t\\tfloat progEnd = progStart + progDur;\\n\\t\\t\\n\\t\\tfloat relProg = (progress - progStart) / progDur;\\n\\t\\trelProg = min( max(relProg, 0.0) , 1.0);\\n\\t\\treturn relProg;\\n\\t}\\n\\n\\tvec4 evalPos(int tileCentID, float relProg){\\n\\t\\tfloat tileCentIDf = float(tileCentID);\\n\\t\\tfloat tileCentCountf = float(tileCentCount);\\n\\t\\t\\n\\t\\tvec3 tileCent = tileCenters[ tileCentID ];\\n\\t\\t\\n\\t\\tint destinationID = randomDestinationCenters[ tileCentID ];\\n\\t\\tvec3 tileDest = tileCenters[ destinationID ];\\n\\t\\t\\n\\t\\tfloat progOffs = 1.0 / (tileCentCountf * 2.0);\\n\\t\\tfloat progDur = 1.0 / 2.0;\\n\\t\\tfloat progStart = tileCentIDf * progOffs;\\n\\t\\tfloat progEnd = progStart + progDur;\\n\\t\\t\\n\\t\\tif(relProg <= 0.0){\\n\\t\\t\\treturn vec4(pos, 1.0);\\n\\t\\t}else{\\n\\t\\t\\tvec3 translVec = tileDest - tileCent;\\n\\t\\t\\t\\n\\t\\t\\tfloat maxZOffs = 1.0;\\n\\t\\t\\tfloat maxXOffs = 0.3;\\n\\t\\t\\tfloat maxYOffs = 0.3;\\n\\t\\t\\tfloat rndmVal  = randomXOffsets[tileCentID];\\n\\t\\t\\tfloat offsVorz = randomXOffsets[tileCentID] >= 0.5 ? -1.0 : 1.0;\\n\\t\\t\\tfloat offsProg = sin(relProg * PI);\\n\\t\\t\\t\\n\\t\\t\\tfloat xOffs = maxXOffs * offsProg * offsVorz;\\n\\t\\t\\tfloat yOffs = maxYOffs * offsProg * offsVorz;\\n\\t\\t\\tfloat zOffs = maxZOffs * offsProg * -1.0;\\n\\t\\t\\t\\n\\t\\t\\tfloat xTrnsl = translVec.x * relProg + xOffs;\\n\\t\\t\\tfloat yTrnsl = translVec.y * relProg + yOffs;\\n\\t\\t\\t\\n\\t\\t\\tmat4 translM = translateMat4( vec3(xTrnsl, yTrnsl, zOffs) );\\n\\n\\t\\t\\tvec4 pos4 = vec4(pos, 1.0);\\n\\t\\t\\t\\n\\t\\t\\treturn translM * pos4;\\n\\t\\t}\\n\\t}\\n\\t\\n\\tvoid main() {\\n\\t\\tvec2 tileCentAndDist = getTileCenter();\\n\\t\\t\\n\\t\\tint tileCentID = int(tileCentAndDist[0]);\\n\\t\\tfloat dist = tileCentAndDist[1];\\n\\t\\t\\n\\t\\tfloat relProg = evalRelProgress(tileCentID);\\n\\t\\t\\n\\t\\tvec4 pos4 = evalPos(tileCentID, relProg);\\n\\t\\t\\n\\t\\tfloat sclFctr = 10.0;\\n\\t\\tvec2 scaleRatio = imgRatio * sclFctr;\\n\\t\\tmat4 scaleImage = scaleMat4(vec3(scaleRatio.x, scaleRatio.y, sclFctr));\\n\\t\\t\\n\\t\\tgl_Position = perspective * modelView * scaleImage * pos4;//vec4(pos, 1.0);\\n\\t\\t\\n\\t\\tvec3 tileCenter = tileCenters[tileCentID];\\n\\t\\tvec3 destCenter = tileCenters[randomDestinationCenters[tileCentID]];\\n\\n\\t\\tf_texcoord = texcoord;\\n\\t\\tf_trnsfrmPrgrs = relProg;\\n\\t\\t\\n\\t\\tvec3 trnslVec = destCenter - tileCenter;\\n\\t\\t\\n\\t\\tf_untrnsformdTarPos = pos + trnslVec * relProg;\\n\\t}\\n\"; //-----------------------------------------------------------------\n\nvar fragmentShaderSource = \"#version 300 es\\n\\tprecision mediump float;\\n\\t\\n\\tin vec3 f_untrnsformdTarPos;\\n\\t\\n\\tin vec2 f_texcoord;\\n\\tin float f_trnsfrmPrgrs;\\n\\t\\n\\tuniform sampler2D u_texture0;\\n\\tuniform sampler2D u_texture1;\\n\\t\\n\\tout vec4 outColor;\\n\\t\\n\\tvoid main() {\\n\\t\\t\\n\\t\\tvec4 txt;\\n\\t\\t\\n\\t\\tif(f_trnsfrmPrgrs == 0.0){\\n\\t\\t\\ttxt = texture(u_texture0, f_texcoord);\\n\\t\\t}else{\\n\\t\\t\\tvec2 textInterpol = ( (f_untrnsformdTarPos + 1.0) * 0.5 ).xy;\\n\\t\\t\\ttextInterpol.y = 1.0 - textInterpol.y;\\n\\t\\t\\ttxt = texture(u_texture0, f_texcoord) * (1.0 - f_trnsfrmPrgrs) + texture(u_texture1, textInterpol) * f_trnsfrmPrgrs;\\n\\t\\t}\\n\\n\\t\\toutColor = txt;\\n\\t}\\n\";\n\nvar ZoomTileAnimation =\n/*#__PURE__*/\nfunction () {\n  \"use strict\";\n\n  function ZoomTileAnimation(glFunctions) {\n    _classCallCheck(this, ZoomTileAnimation);\n\n    this._animMeta = {\n      tileCentersPerRow: 8\n    };\n    this.genTileCenters();\n    this.vertexShaderSource = StaticFunctions.replaceString(vertexShaderSource, [Math.pow(this._animMeta.tileCentersPerRow, 2)], ['TileCentersCount']);\n    this.fragmentShaderSource = fragmentShaderSource;\n    this.glFunctions = glFunctions;\n  }\n\n  _createClass(ZoomTileAnimation, [{\n    key: \"genTileCenters\",\n    value: function genTileCenters() {\n      var _this = this;\n\n      this.tileCenters = [];\n      var tileAnimID = this._animMeta.tileAnimID;\n      var tileCentersPerRow = this._animMeta.tileCentersPerRow;\n      var tileCentersCount = tileCentersPerRow * tileCentersPerRow;\n      var strt = -1;\n      var offs = 2 / this._animMeta.tileCentersPerRow;\n\n      var genPolygons = function genPolygons(r, c) {\n        _this.tileCenters.push([strt + (c + 0.5) * offs, strt + (r + 0.5) * offs, 0]);\n      };\n\n      var randomIDs = [];\n\n      for (var i = 0; i < tileCentersCount; ++i) {\n        randomIDs.push(i);\n      }\n\n      randomIDs = StaticFunctions.shuffle(randomIDs);\n\n      for (var r = 0; r < tileCentersPerRow; ++r) {\n        for (var c = 0; c < tileCentersPerRow; ++c) {\n          var id = randomIDs[r * tileCentersPerRow + c];\n          var r_rnd = Math.floor(id / tileCentersPerRow);\n          var c_rnd = Math.floor(id % tileCentersPerRow);\n          genPolygons(r_rnd, c_rnd);\n        }\n      }\n\n      this.randomDestinationCenters = [];\n      this.randomXOffsets = [];\n\n      for (var _i = 0; _i < tileCentersCount; ++_i) {\n        this.randomDestinationCenters.push(_i);\n        this.randomXOffsets.push(Math.random());\n      }\n\n      this.randomDestinationCenters = StaticFunctions.shuffle(randomIDs.map(function (v) {\n        return v;\n      }));\n    }\n  }, {\n    key: \"setGL\",\n    value: function setGL(_gl) {\n      this.gl = _gl;\n    }\n  }, {\n    key: \"genAndSetTileCenters\",\n    value: function genAndSetTileCenters() {\n      this.genTileCenters();\n      var tileCentersPerRow = this._animMeta.tileCentersPerRow;\n\n      for (var i = 0; i < tileCentersPerRow * tileCentersPerRow; ++i) {\n        this.glFunctions.setUniformVector3fv('tileCenters[' + i + ']', this.tileCenters[i]);\n      }\n\n      this.glFunctions.setUniform1iv('randomDestinationCenters', this.randomDestinationCenters);\n      this.glFunctions.setUniform1fv('randomXOffsets', this.randomXOffsets);\n    }\n  }, {\n    key: \"initBufferData\",\n    value: function initBufferData() {\n      this.genAndSetTileCenters();\n    }\n  }, {\n    key: \"updateBufferData\",\n    value: function updateBufferData() {}\n  }, {\n    key: \"nextAnimation\",\n    value: function nextAnimation() {\n      this._animMeta.tileAnimID = ++this._animMeta.tileAnimID % this._animMeta.tileAnimIDCount;\n      this.genAndSetTileCenters();\n    }\n  }]);\n\n  return ZoomTileAnimation;\n}();\n\n;\nmodule.exports = ZoomTileAnimation;","module.exports = __webpack_public_path__ + \"static/media/info.d41d8cd9.txt\";","import React, { Component, useState, useEffect, useRef } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport './TabBar.scss';\n\n\nfunction MenuButton({showButton=false,\n\t\t\t\t\tonMenuEntered=()=>{},\n\t\t\t\t\tonMenuClicked=()=>{}}){\n\tfunction genShowBarsStyle(id){\n\t\tlet style = {\n\t\t\ttop: '25%',\n\t\t\tleft: '50%',\n\t\t\twidth: '80%',\n\t\t\topacity: '1',\n\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t};\n\t\tswitch(id){\n\t\t\tcase 1:\n\t\t\t\tstyle['top'] = '50%';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tstyle['top'] = '75%';\n\t\t\t\tbreak;\n\t\t}\n\t\treturn style;\n\t}\n\tfunction genHideBarsStyle(id){\n\t\tlet style = {\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\twidth: '50%',\n\t\t};\n\t\tswitch(id){\n\t\t\tcase 0:\n\t\t\t\tstyle['top'] = '50%';\n\t\t\t\tstyle['transform'] = 'translate(-50%, -50%) rotate(-45deg)';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tstyle['top'] = '50%';\n\t\t\t\tstyle['transform'] = 'translate(-50%, -50%) rotate(45deg)';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tstyle['opacity'] = '0';\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn style;\n\t}\n\n\tlet btnStyls = [];\n\tfor(let i=0; i < 3; ++i){\n\t\tbtnStyls.push( showButton ? genShowBarsStyle(i) : genHideBarsStyle(i) );\n\t}\n\treturn (\n\t\t<div className=\"MenuButtonTB\"\n\t\t\t\t onMouseOver={onMenuEntered}\n\t\t\t\t onClick={onMenuClicked}>\n\t\t\t<div className=\"MenuButtonItemTB\" style={btnStyls[0]}>\n\t\t\t</div>\n\t\t\t<div className=\"MenuButtonItemTB\" style={btnStyls[1]}>\n\t\t\t</div>\n\t\t\t<div className=\"MenuButtonItemTB\" style={btnStyls[2]}>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nfunction MinimizedTabBar({tabs, tabClicked}){\n\tconst mainRef = useRef();\n\tconst menuItemsDiv = useRef();\n\tconst [showMenuItems, setShowMenuItems] = useState(false);\n\n\tfunction _tabClicked(id){\n\t\tsetShowMenuItems( false );\n\t\tif(tabClicked){\n\t\t\ttabClicked(id);\n\t\t}\n\t}\n\n\tfunction onMenuEntered(){\n\t\t// if( window.mobilecheck() )return;\n\t\t// setShowMenuItems(true);\n\t}\n\tfunction onMenuClicked(){\n\t\tconsole.log('menu clicked!');\n\t\t// if( !window.mobilecheck() )return;\n\t\tsetShowMenuItems(!showMenuItems);\n\t}\n\tfunction hideMenuItemsDiv(){\n\t\tconst mid = menuItemsDiv.current;\n\t\tif(!mid)return;\n\t\tmid.style.width = '0px';\n\t\tmid.style.border = '0px solid var(--main-bg-color)';\n\t}\n\tfunction showMenuItemsDiv(){\n\t\tconst mid = menuItemsDiv.current;\n\t\tif(!mid)return;\n\t\tmid.style.width = '200px';\n\t\tmid.style.border = '2px solid var(--main-bg-color)';\n\t}\n\tfunction onMouseMenuItemsLeft(){\n\t\tsetShowMenuItems(false);\n\t}\n\n\tuseEffect(()=>{\n\t\tif(showMenuItems){\n\t\t\tshowMenuItemsDiv();\n\t\t}else{\n\t\t\thideMenuItemsDiv();\n\t\t}\n\t}, [showMenuItems]);\n\tuseEffect(()=>{\n\t}, []);\n\n\treturn (\n\t\t<div className=\"MinimizedTabBarTB\"\n\t\t\t\t ref={mainRef}>\n\t\t\t<div className=\"MenuButtonDivTB\">\n\t\t\t\t<MenuButton onMenuEntered={onMenuEntered}\n\t\t\t\t\tonMenuClicked={onMenuClicked}\n\t\t\t\t\tshowButton={!showMenuItems}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"MenuItemsDivTB\"\n\t\t\t\t\t ref={menuItemsDiv}\n\t\t\t\t\t onMouseLeave={onMouseMenuItemsLeft}>\n\t\t\t\t<div className=\"MenuItemsGrid\">\n\t\t\t\t\t<MenuButton \n\t\t\t\t\t\tonMenuEntered={onMenuEntered}\n\t\t\t\t\t\tonMenuClicked={onMenuClicked}\n\t\t\t\t\t\tshowButton={!showMenuItems}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"ListMTB\">\n\t\t\t\t\t\t{tabs.map((tab, i)=>{\n\t\t\t\t\t\t\treturn <TabElement key={i}\n\t\t\t\t\t\t\t\t\t\t\tisLast={true}\n\t\t\t\t\t\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\t\t\t\t\t\ttabid={i}\n\t\t\t\t\t\t\t\t\t\t\ttabClicked={_tabClicked}\n\t\t\t\t\t\t\t\t\t\t\tselected={(i % 2 ? true : false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nfunction TabBar({tabCallback, tabs}){\n\tconst mainRef = useRef();\n\tconst [minimize, setMinimize] = useState( shouldMinimize() );\n\n\tfunction shouldMinimize(){\n\t\tconst [vw, vh] = [window.innerWidth, window.innerHeight];\n\t\tconst minDim = 800;\n\t\treturn vh < minDim || vw < minDim;\n\t}\n\tfunction onResize(){\n\t\tsetMinimize( shouldMinimize() );\n\t}\n\n\tuseEffect(()=>{\n\t\twindow.addEventListener('resize', onResize);\n\t\treturn ()=>{\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t}\n\t})\n\n\tfunction tabClicked(tabid){\n\t\ttabCallback && tabCallback(tabid);\n\t}\n\n\tfunction createBigTabBar(){\n\t\treturn (\n\t\t\t<div className=\"TabBar HeadingTextSize\"\n\t\t\t\t\t ref={mainRef}>\n\t\t\t\t{tabs.map((tab, i) =>{\n\t\t\t\t\tlet isLast = (i >= (tabs.length-1));\n\t\t\t\t\treturn <TabElement key={i}\n\t\t\t\t\t\t\t\t\t\tisLast={isLast}\n\t\t\t\t\t\t\t\t\t\ttab={tab}\n\t\t\t\t\t\t\t\t\t\ttabid={i}\n\t\t\t\t\t\t\t\t\t\ttabClicked={()=>tabClicked(i)}\n\t\t\t\t\t\t\t\t\t\tselected={(i % 2 ? true : false)}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t)}\n\t\t\t\t<div className=\"TabSeparator\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tfunction createMinimizedTabBar(){\n\t\treturn (\n\t\t\t\t<MinimizedTabBar tabClicked={tabClicked}\n\t\t\t\t\t\t\t\t\t\t\t\t tabs={tabs}\n\t\t\t\t/>\n\t\t);\n\t}\n\treturn minimize ? createMinimizedTabBar() : createBigTabBar();\n}\n\nfunction TabElement({tab, isLast, tabid, tabClicked=()=>{}, minimized=true}){\n\tconst indicator = React.createRef();\n\n\tfunction tabSelected(){\n\t\tconst ind = indicator.current;\n\t\tif(!ind)return;\n\t\tif ( !tab.selected ) {\n\t\t\tind.classList.add('Selected');\n\t\t}else{\n\t\t\tind.classList.remove('Selected');\n\t\t}\n\t}\n\tfunction tabMouseEnter(){\n\t\tif ( !tab.selected ) {\n\t\t\tconst ind = indicator.current;\n\t\t\tif(!ind)return;\n\t\t\tind.classList.add('Hovered');\n\t\t}\n\t}\n\tfunction tabMouseOut(){\n\t\tif ( !tab.selected ) {\n\t\t\tconst ind = indicator.current;\n\t\t\tif(!ind)return;\n\t\t\tind.classList.remove('Hovered');\n\t\t}\n\t}\n\n\tlet tabLinkClass = \"TabLink\" + (isLast ? \" LastTabElement\" : \"\");\n\tlet tabElementClass = \"TabElement HeadingTextSize\";\n\tif(tab.selected){\n\t\ttabLinkClass += ' Selected';\n\t\ttabElementClass += ' Selected';\n\t}\n\tif(minimized){\n\t\ttabElementClass += ' Minimized';\n\t}\n\n\tconst indctrComp = minimized\n\t\t? ''\n\t\t: (\n\t\t\t<div className={\"TabIndicator\" + (tab.selected ? \" Selected\" : \"\")}\n\t\t\t\tref={indicator}>\n\t\t\t</div>\n\t\t);\n\n\n\treturn(\n\t   <div className={tabElementClass}\n\t\t \t\t\tonClick={()=>tabClicked(tabid)}\n\t\t\t\t\tonMouseEnter={()=>tabMouseEnter()}\n\t\t\t\t\tonMouseOut={()=>tabMouseOut()} >\n    \t\t<div className={tabLinkClass}\n    \t\t\t  key={tabid}\n\t\t\t\t\t\tonMouseEnter={()=>tabMouseEnter()}\n\t\t\t\t\t\tonMouseOut={()=>tabMouseOut()}>\n    \t\t\t{tab.name}\n    \t\t</div>\n\t\t\t{indctrComp}\n \t\t</div>\n\t);\n}\n\nexport default withRouter(TabBar);\n","function readTextFile(file)\n{\n    var rawFile = new XMLHttpRequest();\n    rawFile.open(\"GET\", file, false);\n    let txt = ''\n    rawFile.onreadystatechange = function ()\n    {\n        if(rawFile.readyState === 4)\n        {\n            if(rawFile.status === 200 || rawFile.status === 0)\n            {\n                txt = rawFile.responseText;\n            }\n        }\n    }\n    rawFile.send(null);\n    return txt;\n}\nfunction arraysEqual(a0, a1){\n\tif (a0 === a1){return true;}\n\tif (a0 === null || a1 === null){return false;}\n\tif (a0.length !== a1.length){return false;}\n\t\n\t// 1. zip both arrays -> 2. check if every pair of elements are equal:\n\treturn a0.map((v,i)=>[v, a1[i]]).every(v=>v[0] === v[1]);\n}\nexport {readTextFile, arraysEqual};","import React, {Component, useState, useEffect, useLayoutEffect} from 'react';\nimport './WaveWaitingBar.css';\n\nconst [cw, ch] = [500, 500];\nconst [cw2, ch2] = [\n  cw * 0.5,\n  ch * 0.5\n];\n\nfunction rgbToHex(r, g, b) {\n  r = Math.min(Math.trunc(r));\n  g = Math.min(Math.trunc(g));\n  b = Math.min(Math.trunc(b));\n  return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\n\nclass Bounce {\n  constructor(r=0.0, g=0.0, b=1.0) {\n    const MIN_LIFETIME = 1000;\n    const MAX_LIFETIME = 3000;\n    this.id = Bounce.CNT++;\n    this.maxHeight = (0.2 + Math.random() * 0.8);\n    this.lifetime = MIN_LIFETIME + Math.random() * (MAX_LIFETIME - MIN_LIFETIME);\n    this.width = 3 + ((this.lifetime - MIN_LIFETIME) / (MAX_LIFETIME - MIN_LIFETIME)) * 7;\n    this.x = Math.random();//cw * 0.2 + 10 + Math.random() * (cw * 0.6 - 20);\n\n    this.lived = 0;\n    this.progress = 0;\n    this.height = 0;\n\n\t\tthis.rndm0 = Math.random();\n\t\tthis.rndm1 = Math.random();\n\t\tthis.rndm2 = Math.random();\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n    this.genColor(r, g, b);\n  }\n  genColorVal() {\n    const mincolval = 80;\n    return Math.min(Math.trunc( mincolval + Math.random() * (255 - mincolval) ), 255);\n  }\n  genColor() {\n    let rndm = Math.random();\n\n\t\tlet rv = Math.min(Math.trunc(this.r * this.genColorVal()), 255);\n\t\tlet gv = Math.min(Math.trunc(this.g * this.genColorVal()), 255);\n\t\tlet bv = Math.min(Math.trunc(this.b * this.genColorVal()), 255);\n\t\tthis.color = [rv, gv, bv];\n\n    this.colorHex = rgbToHex(...this.color);\n  }\n  update(dt) {\n    this.lived += dt;\n    this.progress = Math.min(this.lived / this.lifetime, 1);\n    if (this.progress === 1) {\n      this.dead = true;\n    }\n    this.height = Math.sin(this.progress * Math.PI) * this.maxHeight;\n  }\n}\nBounce.CNT = 0\n\nfunction WaveWaitingBar(props) {\n  const canvas = React.createRef();\n\n\tlet r = (props.r != null ? props.r : 0.0);\n\tlet g = (props.g != null ? props.g : 1.0);\n\tlet b = (props.b != null ? props.b : 0.0);\n\n\tlet labelColor = rgbToHex(r*255,g*255,b*255);\n\tlet labelStyle = {color: labelColor};\n\n\tconst [lastRenderTime, setLastRenderTime] = useState(new Date().getTime());\n\tconst [bounces, setBounces] = useState([]);\n\tconst [updateCanvasState, setUpdateCanvasState] = useState(false);\n\n  let elementCount = !!props.elementCount ? props.elementCount : (window.mobilecheck() ? 50 : 200);\n\n\tuseEffect(()=>{\n\t\tinitializeBounces(r,g,b);\n\t}, []);\n\n\tfunction initializeBounces(){\n\t\tconst bounces = [];\n\t\tfor (let i = 0; i < elementCount; ++i) {\n\t\t\tbounces.push( new Bounce(r,g,b) );\n\t\t}\n\t\tsetBounces( bounces );\n\t}\n\n\t// update the bounces:\n  useEffect(() => {\n    let [dt, curTime] = evaldt();\n\t\tupdateBounces(dt);\n\t\tsetUpdateCanvasState( !updateCanvasState ); // simply toggle state...\n\t\tif( !props.stop ){\n\t\t\trequestAnimationFrame(()=>{updateTime(curTime)});\n\t\t}\n  }, [lastRenderTime, bounces]);\n\n\t// render the canvas:\n\tuseEffect(()=>{\n\t\trenderCanvas();\n\t}, [updateCanvasState]);\n\n\tfunction updateTime(curTime){\n\t\tsetLastRenderTime(curTime);\n\t}\n  function evaldt() {\n    const curTime = new Date().getTime();\n    let dt = lastRenderTime\n      ? curTime - lastRenderTime\n      : 0;\n    return [dt, curTime];\n  }\n\tfunction updateBounces(dt){\n\t\tbounces.forEach(b => {\n\t\t\tb.update(dt);\n\t\t\tif (b.dead) {\n\t\t\t\tkillBounce(b);\n\t\t\t}\n\t\t});\n\t}\n  function renderCanvas(){\n    const curCanvas = canvas.current;\n    let ctx = curCanvas.getContext('2d');\n\t\tctx.clearRect(0, 0, curCanvas.width, curCanvas.height);\n\t\tbounces.forEach(b=>renderBounce(b));\n  };\n  function killBounce(bounce) {\n    let id = bounces.indexOf(bounce);\n    for (let i = 0; i < bounces.length; ++i) {\n      if (bounces[i].id === bounce.id) {\n        bounces.splice(i, 1);\n        let cntr = 0;\n        while(bounces.length < elementCount && cntr++ < 3){\n          addBounce();\n        }\n        break;\n      }\n    }\n  }\n\tfunction addBounce(){\n\t\tbounces.push( new Bounce(r,g,b) );\n    setBounces(bounces);\n\t}\n\n  function renderBounce(bounce) {\n    let ctx = canvas.current.getContext('2d');\n\n    const color = bounce.color;\n    ctx.fillStyle = `rgb(${color[0]}, ${color[1]}, ${color[2]})`;//bounce.colorHex;\n\n    let baseWidth = bounce.width;\n    let bw2 = baseWidth * 0.5;\n    let bw4 = baseWidth * 0.25;\n    let bw16 = bw4 * 0.5 * 0.5;\n\n    let bl = ch * 0.5; // baseLine\n    let hght = bounce.height * ch * 0.5;\n\n\t\tlet prctg = bounce.x + (-0.1 + 0.2 * bounce.rndm0) * bounce.progress;\n\t\tlet radprctg = 0.15;\n\t\tlet cwh2m = Math.min(cw2, ch2);\n\t\tlet rad = radprctg * cwh2m;\n\t\tlet rndmradstrt = rad * (0.95 + 0.1 * bounce.rndm1);\n\t\tlet angl = prctg * Math.PI * 2;\n\t\tlet radrng = Math.PI * 2 / 100;\n\t\tlet rr2 = radrng * 0.5;\n\t\tlet radhght = bounce.height * (1 - radprctg) * cwh2m;\n\n    let x0i = cwh2m + Math.cos(angl - rr2) * rndmradstrt;\n    let x1i = cwh2m + Math.cos(angl + rr2) * rndmradstrt;\n    let y0i = cwh2m + Math.sin(angl - rr2) * rndmradstrt;\n    let y1i = cwh2m + Math.sin(angl + rr2) * rndmradstrt;\n\n    let x0o = cwh2m + Math.cos(angl - rr2) * (rad + radhght);\n    let y0o = cwh2m + Math.sin(angl - rr2) * (rad + radhght);\n    let x1o = cwh2m + Math.cos(angl + rr2) * (rad + radhght);\n    let y1o = cwh2m + Math.sin(angl + rr2) * (rad + radhght);\n\n    const rrh = 0.8; //Math.random() * 0.2 + 0.8;\n    const lrh = 0.8; //Math.random() * 0.2 + 0.8;\n\t\tctx.beginPath();\n\t\tctx.moveTo(x0i, y0i);\n    ctx.lineTo(x0o, y0o);\n\n    if(props.roundedEdges){\n      let edgeDist = Math.sqrt((x0o - x1o) * (x0o - x1o) + (y0o - y1o) * (y0o - y1o));\n      let ed2 = edgeDist * 0.5;\n      let xedgo = cwh2m + Math.cos(angl) * (rad + radhght + ed2);\n      let yedgo = cwh2m + Math.sin(angl) * (rad + radhght + ed2);\n      ctx.quadraticCurveTo(xedgo, yedgo, x1o, y1o);\n    }else{\n      ctx.lineTo(x1o, y1o);\n    }\n    ctx.lineTo(x1i, y1i);\n    ctx.closePath();\n\t\t// ctx.lineTo(cwh2m + Math.cos(angl - rr2) * (rad + radhght), cwh2m + Math.sin(angl - rr2) * (rad + radhght));\n\t\t// ctx.quadraticCurveTo(cwh2m + Math.cos(angl) * (rad + radhght + ed2), cwh2m + Math.sin(angl) * (rad + radhght + ed2), cwh2m + Math.cos(angl + rr2) * (rad + radhght), cwh2m + Math.sin(angl + rr2) * (rad + radhght));\n\t\t// ctx.lineTo(cwh2m + Math.cos(angl + rr2) * rndmradstrt, cwh2m + Math.sin(angl + rr2) * rndmradstrt);\n\t\tctx.closePath();\n\t\tctx.fill();\n  };\n\n  return (\n\t\t<div className=\"MainDivWWB\">\n\t\t\t<canvas className=\"CanvasWWB\" ref={canvas} width={cw} height={ch}/>\n\t\t\t<div className=\"LabelWWB\"\n\t\t\t\t\t style={labelStyle}>\n\t\t\t\tloading...\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default WaveWaitingBar;\n","import React, { Component } from 'react';\nimport * as THREE from 'three';\nimport './WaitingBar.css';\n\nconst [cw, ch] = [500,500];\n\nfunction toTwoDigitHexString(x){\n\tlet s = x.toString(16);\n\tif(s.length === 1){\n\t\ts = '0' + s;\n\t}\n\treturn s;\n}\n\nclass Color extends THREE.Vector3{\n\tstatic fromRGB(r=0, g=0, b=0){\n\t\treturn new Color(r,g,b);\n\t}\n\tmixColor(color, progress=0.5){\n\t\tlet mixed = this.clone().add( color.clone().sub(this).multiplyScalar(progress) );\n\n\t\tlet mixedCol = new Color(mixed.x, mixed.y, mixed.z);\n\t\treturn mixedCol;\n\t}\n\ttoHexString(){\n\t\tlet rs = toTwoDigitHexString(Math.floor(this.x));\n\t\tlet gs = toTwoDigitHexString(Math.floor(this.y));\n\t\tlet bs = toTwoDigitHexString(Math.floor(this.z));\n\t\tlet colHex =  rs + gs + bs;\n\t\treturn colHex;\n\t}\n}\nclass WaitingBar extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.nextFrame = this.nextFrame.bind(this);\n\n\t\tthis.canvas = React.createRef();\n\t\tthis.unmounted = false;\n\t}\n\tgoToArduinoHomepage(){\n\t}\n\n   componentDidMount(){\n   \tthis.ctx = this.canvas.current.getContext('2d');\n   \tthis.ctx.fillStyle = '#00ff00';\n\t\tthis.ctx.strokeStyle = '#0000ff';\n\n\t\tthis.initRotation = 0;\n\t\tthis.rotation = this.initRotation;\n\t\tthis.rotationSpeed = 0;\n\t\tthis.curRotationSpeedIncrmnt = 0;\n\t\tthis.rotationSpeedIncrmnt = 0.01;\n\t\tthis.maxRotationSpeed = 0.002;\n\n\t\tthis.minScale = 0.9;\n\t\tthis.maxScale = 1.0;\n\t\tthis.scale = this.maxScale;\n\t\tthis.curScaleIncrmnt = 0;\n\n\t\tthis.selectedId = 0;\n\t\tthis.selectedIdProgress = 0;\n\n\t\tthis.setCanvasSize({\n\t\t\twidth: 1000,\n\t\t\theight: 1000\n\t\t});\n\n\t\tthis.nextFrame();\n\t}\n\tcomponentWillUnmount(){\n\t\tthis.unmounted = true;\n\t}\n\tevalSelectedFillColor(){\n\t\treturn !!this.props.selectedFillColor ?\n\t\t\t\t   this.props.selectedFillColor :\n\t\t\t\t\tnew Color(0, 255, 0);\n\t}\n\tevalSelectedStrokeColor(){\n\t\treturn !!this.props.strokeColor ?\n\t\t\t\t   this.props.strokeColor :\n\t\t\t\t   this.evalSelectedFillColor();//new Color(0, 255 ,0);\n\t}\n\tevalFillColor(){\n\t\treturn !!this.props.fillColor ?\n\t\t\t\t\tthis.props.fillColor :\n\t\t\t\t\tnew Color(150,150,150);\n\t}\n\tevalStrokeColor(){\n\t\treturn !!this.props.strokeColor ?\n\t\t\t      this.props.strokeColor :\n\t\t\t\t   this.evalFillColor();//new Color(0,0,0);\n\t}\n\tevalFragmentCount(){\n\t\treturn !!this.props.fragmentCount ? this.props.fragmentCount   : 10;\n\t}\n\tevalFragmentPadding(){\n\t\treturn !!this.props.fragmentPadding || (this.props.fragmentPadding === 0) ? this.props.fragmentPadding : (Math.PI * 2 / 300);\n\t}\n\tevalScaleSpeed(){\n\t\treturn !!this.props.scaleSpeed ? this.props.scaleSpeed : 0.005;\n\t}\n\tevalProgressSpeed(){\n\t\treturn !!this.props.progressSpeed ? this.props.progressSpeed : 0.03;\n\t}\n\tnextFrame(loop=true){\n\t\tif( this.unmounted )return;\n\t  \tthis.drawWaitingBar();\n\t\tthis.incrementProgress();\n\t\tif(loop && !this.props.stop){\n\t\t\twindow.requestAnimationFrame(this.nextFrame);\n\t\t}\n\t}\n\tincrementProgress(){\n\t\tthis.selectedIdProgress += this.evalProgressSpeed();\n\t\tif(this.selectedIdProgress > 1){\n\t\t\tthis.selectedIdProgress = 0;\n\t\t\tthis.selectedId = (this.selectedId + 1) % this.evalFragmentCount();\n\t\t}\n\n\t\tthis.rotation = (this.rotation + this.rotationSpeed) % (Math.PI * 2);\n/*\t\tthis.curRotationSpeedIncrmnt = this.curRotationSpeedIncrmnt + this.rotationSpeedIncrmnt ;\n\t\tthis.rotationSpeed = Math.sin( this.curRotationSpeedIncrmnt ) * this.maxRotationSpeed;*/\n\n\t\tthis.curScaleIncrmnt = (this.curScaleIncrmnt + this.evalScaleSpeed()) % 1;\n\t\tthis.scale = (this.maxScale + this.minScale) * 0.5 + (this.maxScale - this.minScale) * Math.sin(this.curScaleIncrmnt * Math.PI * 2) * 0.5;\n\t}\n\tdrawWaitingBar(){\n\t\tthis.clearCanvas();\n\t\tthis.drawCircleFragments();\n\t}\n\tclearCanvas(){\n\t\tthis.ctx.clearRect(0,0, this.ctx.width, this.ctx.height);\n\t}\n\tsetCanvasSize(size){\n\t\tthis.ctx.width = size.width;\n\t\tthis.ctx.height = size.height;\n\t\tthis.clearCanvas();\n\t}\n\tdrawCircleFragments(){\n\t\tif(!this.ctx){\n\t\t\t// canvas not set yet\n\t\t\treturn;\n\t\t}\n\t\tthis.ctx.fillStyle = '#00ff00';\n\t\tthis.ctx.strokeStyle = '#0000ff';\n\n\t\tlet frgmnts = this.evalFragmentCount();\n\t\tlet padding = this.evalFragmentPadding();\n\t\tlet angleRange = ((Math.PI * 2) - (padding * frgmnts)) / frgmnts;\n\t\tlet angle0 = 0;\n\t\tlet angle1 = 0;\n\n\t\tfor(let i=0; i < frgmnts; ++i){\n\t\t\tthis.setFragmentColor(i);\n\t\t\tangle0 = -Math.PI / 2 + this.evalFragmentPadding() * 0.5 + + i * (angleRange + padding) + this.rotation;\n\t\t\tangle1 = angle0 + angleRange;\n\t\t\tthis.drawCirleFragment(angle0 , angle1);\n\t\t}\n\t}\n\tsetFragmentColor(fragmentId){\n\t\tif(fragmentId === this.selectedId){\n\t\t\tlet progress = !!this.props.fading ? Math.sin(this.selectedIdProgress * Math.PI): 1;\n\n\t\t\tlet selProgrCol = this.evalFillColor().mixColor(this.evalSelectedFillColor(), progress);\n\t\t\tthis.ctx.fillStyle = '#' + selProgrCol.toHexString();\n\n\t\t\tlet selStrkCol = this.evalStrokeColor().mixColor(this.evalSelectedStrokeColor(), progress);\n\t\t\tthis.ctx.strokeStyle = '#' + selStrkCol.toHexString();\n\t\t}else{\n\t\t\tthis.ctx.fillStyle = '#' + this.evalFillColor().toHexString();\n\t\t\tthis.ctx.strokeStyle = '#' + this.evalStrokeColor().toHexString();\n\t\t}\n\t}\n\tdrawCirleFragment(angle0, angle1){\n\t\tlet ctx = this.ctx;\n\n\t\tconst validateVal = (val)=>(val != undefined && val != null);\n\n\t\tlet outerRad = (validateVal(this.props.outerRadius )? this.props.outerRadius : 0.4 ) * cw * this.scale;\n\t\tlet innerRad = (validateVal(this.props.innerRadius) ? this.props.innerRadius : 0.35) * ch * this.scale;\n\n\t\tlet center = [cw * 0.5, ch * 0.5];\n\n\t\tlet p0 = [center[0] + Math.cos(angle0) * innerRad, center[1] + Math.sin(angle0) * innerRad];\n\t\tlet p1 = [center[0] + Math.cos(angle0) * outerRad, center[1] + Math.sin(angle0) * outerRad];\n\t\tlet p2 = [center[0] + Math.cos(angle1) * outerRad, center[1] + Math.sin(angle1) * outerRad];\n\t\tlet p3 = [center[0] + Math.cos(angle1) * innerRad, center[1] + Math.sin(angle1) * innerRad];\n\n\t\tlet avgAngl = (angle0 + angle1) * 0.5;\n\t\tlet curvedRadFctr = 1.05;\n\t\tlet c0, c1;\n\t\tif(this.props.innerCurved){\n\t\t\tc0 = [center[0] + Math.cos(avgAngl) * innerRad * curvedRadFctr, center[1] + Math.sin(avgAngl) * innerRad * curvedRadFctr];\n\t\t}\n\t\tif(this.props.outerCurved){\n\t\t\tc1 = [center[0] + Math.cos(avgAngl) * outerRad * curvedRadFctr, center[1] + Math.sin(avgAngl) * outerRad * curvedRadFctr];\n\t\t}\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(p0[0], p0[1]);\n\t\tctx.lineTo(p1[0], p1[1]);\n\n\t\tif(this.props.outerCurved){\n\t\t\tctx.quadraticCurveTo(c1[0], c1[1], p2[0], p2[1]);\n\t\t}else{\n\t\t\tctx.lineTo(p2[0], p2[1]);\n\t\t}\n\t\tctx.lineTo(p3[0], p3[1]);\n\t\tif(this.props.innerCurved){\n\t\t\tctx.quadraticCurveTo(c0[0], c0[1], p0[0], p0[1]);\n\t\t}\n\t\tctx.closePath();\n\t\tctx.fill();\n\t\tctx.stroke();\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"WaitingBar\">\n\t\t\t\t<canvas className=\"WaitingBarCanvas\"\n\t\t\t\t\t\t\t width={cw} height={ch}\n\t\t\t\t\t\t  ref={this.canvas}>\n\t\t\t\t</canvas>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport {WaitingBar, Color};\n","import React, { useState, useEffect, useLayoutEffect, useRef } from 'react';\nimport WaveWaitingBar from './WaveWaitingBar/WaveWaitingBar';\nimport * as WAITINGBAR from './WaitingBar/WaitingBar';\nimport './LoadingImage.css';\n\n\nfunction LoadingImage(props){\n\n  const mainRef = useRef(null);\n  const imgRef = useRef(null);\n  const waitingBarRef = useRef(null);\n\n  const [waitingBarStopped, stopWaitingBar] = useState(false);\n  const [randomId, setRandomId] = useState(Math.random());\n\n  function evalMainDivSize(){\n    let mdc = mainRef.current;\n    return [mdc.offsetWidth, mdc.offsetHeight];\n  }\n\n  function setWaitingBarDims(){\n    const [mdw, mdh] = evalMainDivSize();\n    let mwh = Math.min(mdw, mdh) * 0.5;\n    const wb = waitingBarRef.current;\n    const pixelmwh = `${mwh}px`;\n    wb.style.width  = pixelmwh;\n    wb.style.height = pixelmwh;\n  }\n\n  function hideWaitingBar(){\n    const wb = waitingBarRef.current;\n    wb.style.opacity = '0';\n    setTimeout(()=>{\n      wb.style.display = 'none';\n    }, 500);\n\n    stopWaitingBar(true);\n  }\n  function showImage(){\n    const ir = imgRef.current;\n    ir.style.opacity = '1';\n  }\n\n  useEffect(()=>{\n    setWaitingBarDims();\n\n    const ir = imgRef.current;\n    ir.onload = function(){\n\n      setTimeout(()=>{\n        showImage();\n        hideWaitingBar();\n      }, 500);\n    };\n    ir.src = props.src;\n\n    return ()=>{\n      stopWaitingBar(true);\n    };\n  }, []);\n\n  const waitingBarRandomType = randomId > 0.5;\n\n  const waitingBarElmnt = waitingBarRandomType\n    ? <WaveWaitingBar r={0}\n                      g={1}\n                      b={0}\n                      elementCount={80}\n                      stop={waitingBarStopped}\n                      roundedEdges={false}\n      />\n    : <WAITINGBAR.WaitingBar\n                innerRadius={0.44}\n    \t\t\t\t\t\touterRadius={0.5}\n    \t\t\t\t\t\tfading={true}\n    \t\t\t\t\t\tfragmentCount={5}\n    \t\t\t\t\t\tprogressSpeed={0.035}\n    \t\t\t\t\t\tscaleSpeed={0.015}\n    \t\t\t\t\t\tfillColor={new WAITINGBAR.Color(80,80,80)}\n    \t\t\t\t\t\tselectedFillColor={new WAITINGBAR.Color(0,180,0)}\n    \t\t\t\t\t\touterCurved={true}\n    \t\t\t\t\t\tinnerCurved={true}\n                stop={waitingBarStopped}\n      />;\n\n  return (\n    <div className=\"LoadingImageLI\"\n         ref={mainRef}>\n           <img className=\"ImgLI\" ref={imgRef}/>\n      <div ref={waitingBarRef}\n           className=\"WaitingBarLI\">\n        {waitingBarElmnt}\n      </div>\n    </div>\n  );\n}\n\nexport default LoadingImage;\n","import React, { Component } from 'react';\nimport LoadingImage from './LoadingImage';\nimport './MainImagePreview.css';\n\n\nclass MainImagePreview extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onPreviewClicked = this.onPreviewClicked.bind(this);\n\t\tthis.genIndicator = this.genIndicator.bind(this);\n\t}\n\tgenIndicator(){\n\t\tlet {heading, description} = this.props.indicator;\n\n\t\tlet focusPreview = window.mobilecheck() || this.props.focusPreview;\n\t\tlet prevImgInctrDivClass = focusPreview ? \"PreviewImageIndicatorDiv FocusedLeftMIP\" : \"PreviewImageIndicatorDiv\";\n\t\treturn (\n\t\t\t<div className={prevImgInctrDivClass}>\n\t\t\t\t<div className=\"PreviewImageIndicatorHeadingDiv\">\n\t\t\t\t\t<div className=\"PreviewImageIndicatorHeading\">\n\t\t\t\t\t\t{heading}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"PreviewImageIndicatorDescriptionDiv\">\n\t\t\t\t\t<div className=\"PreviewImageIndicatorDescription\">\n\t\t\t\t\t\t{description}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tonPreviewClicked(){\n\t\tif(this.props.onPreviewClicked){\n\t\t\tthis.props.onPreviewClicked();\n\t\t}\n\t}\n\trender(){\n\t\tlet indicator = \"\";\n\t\tlet imgClass = \"ImagePreviewImage\";\n\t\tif(!!this.props.indicator){\n\t\t\tindicator = this.genIndicator();\n\n\t\t\tif(this.props.focusPreview){\n\t\t\t\timgClass += \" FocusedScaledMIP\";\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ImagePreviewContainer\">\n\t\t\t\t<div className=\"ImagePreviewIndicatedImage\"\n\t\t\t\t\t  onClick={this.onPreviewClicked}>\n\t\t\t\t\t<div className={imgClass}>\n\t\t\t\t\t\t<LoadingImage src={this.props.meta.image_path}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{indicator}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MainImagePreview;\n","import {readTextFile} from '../StaticFunctions';\nimport meta_info from './info.txt';\n\n\nfunction getIndicators(programs){\n\tlet f = (progrm)=>{\n\t\tlet text_path = process.env.PUBLIC_URL + '/MainPage/indicators/' + progrm + '.txt';\n\t\tlet txt = readTextFile(text_path);\n\t\tlet lines = txt.split('\\n').filter((tn)=>!!tn);\n\t\treturn {\n\t\t\theading: lines[0],\n\t\t\tdescription: lines.slice(1).join('')\n\t\t};\n\t};\n\tlet indicators = programs.map(p=>f(p));\n\treturn indicators;\n}\nfunction loadPreviews(){\n\tlet txt = readTextFile(meta_info);\n\tlet programs = txt.split('\\n').filter((tn)=>!!tn).map((tn)=>{\n\t\tlet splt = tn.split('_|_').map(v=>v.trim());\n\t\tlet name = splt[0];\n\t\tlet url = splt.length > 1 ? splt[1] : name.replace(' ', '');\n\t\treturn {\n\t\t\tname,\n\t\t\turl\n\t\t};\n\t});\n\n\tlet f = (pi) => {\n\t\tlet text_path = process.env.PUBLIC_URL + '/MainPage/texts/' + pi.name + '.txt';\n\t\tlet prev_text = readTextFile(text_path);\n\t\treturn {name: pi.name,\n\t\t\t\t\turl: pi.url,\n\t\t\t\t\timage_path: process.env.PUBLIC_URL + '/MainPage/pics/' + pi.name + '.png',\n\t\t\t\t\ttext: prev_text };\n\t};\n\tlet prev_programs = programs.map( p => f(p) );\n\n\tlet indicators = getIndicators(programs.map(p=>p.name));\n\tprev_programs.forEach((p, id)=>{\n\t\tp['heading'] = indicators[id].heading;\n\t\tp['description'] = indicators[id].description;\n\t});\n\n\treturn prev_programs;\n}\n\nexport default loadPreviews;\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport MainImagePreview from '../MainImagePreview';\nimport loadPreviews from './MainPreviewTextLoader';\nimport logo from '../MrSoir_grass.png';\nimport './Main.css';\n\n\nclass MainPage extends Component{\n\tconstructor(){\n\t\tsuper();\n\n\t\tthis.onPreviewClicked = this.onPreviewClicked.bind(this);\n\t\tthis.loadGIFs = this.loadGIFs.bind(this);\n\t\tthis.loadImage = this.loadImage.bind(this);\n\t\tthis.updatePreviewsToState = this.updatePreviewsToState.bind(this);\n\t\tthis.onScroll = this.onScroll.bind(this);\n\t\tthis.updateFocusedPreview = this.updateFocusedPreview.bind(this);\n\n\t\tthis.state = {\n\t\t\tpreviews: [],\n\t\t\tfocusedPreviews: []\n\t\t}\n\t}\n\n\tloadPreviews_hlpr(){\n\t\tthis.updatePreviewsToState( loadPreviews() );\n\t}\n   componentDidMount(){\n   \tthis.loadPreviews_hlpr();\n\n\twindow.scrollTo(0, 0);\n\tthis.lastYScroll = 0;\n   \twindow.addEventListener('scroll', this.onScroll);\n\n   \tsetTimeout(this.updateFocusedPreview, 1000);\n   }\n   componentWillUnmount(){\n   \twindow.removeEventListener('scroll', this.onScroll);\n   }\n   updatePreviewsToState(previews){\n  \tlet newstate = this.state;\n   \tnewstate.previews = previews;\n\n   \tthis.setState(newstate);\n   }\n   loadGIFs(){\n   \tlet getBaseFilePath = (filePath)=>{\n\t\t\tlet dotID = filePath.lastIndexOf('.');\n\t\t\treturn filePath.slice(0, dotID);\n\t\t};\n\n   \tlet prev_programs = this.state.previews;\n\n   \tprev_programs.map((p)=>{\n   \t\tlet basePath = getBaseFilePath(p.image_path);\n   \t\tlet gifImgPath = basePath + '.gif';\n   \t\tthis.loadImage(gifImgPath, ()=>{\n   \t\t\tp.image_path = gifImgPath;\n   \t\t\tthis.updatePreviewsToState(prev_programs);\n   \t\t});\n   \t});\n   }\n   loadImage(imgPath, onLoaded){\n   \tlet image = new Image();\n\t\timage.addEventListener('load', evnt=>{\n\t\t\tif(onLoaded){\n\t\t\t\tonLoaded(imgPath);\n\t\t\t}\n\t\t});\n\t\timage.addEventListener('error', evnt=>{\n//\t\t\tconsole.log('error: could not load image: ', imgPath);\n\t\t});\n\t\timage.src = imgPath;\n   }\n\tonPreviewClicked(id){\n\t\tlet relURL = this.state.previews[id].url;\n\t\tif (!!window.hist)\n\t\t{\n\t\t\twindow.hist.push('/' + relURL);\n\t\t}\n\t}\n\tupdateFocusedPreview(){\n\t\tlet scrOffs = Math.max(document.body.scrollTop, document.documentElement.scrollTop);\n\n\t\tlet previews = document.getElementsByClassName('MainPrevDiv');\n\n\t\tlet focusedPreviews = [];\n\n\t\t[...previews].forEach((prev, id)=>{\n\t\t\tlet br = prev.getBoundingClientRect();\n\t\t\tlet [top, btm, y, x] = [br.top, br.bottom, br.y, br.x];\n\n\t\t\tlet viewPortHeight = window.innerHeight;\n\n\t\t\tif(y > 50 && btm < (viewPortHeight-50)){\n\t\t\t\tfocusedPreviews.push(id);\n\t\t\t}\n\t\t});\n\t\tthis.setState({focusedPreviews});\n\t}\n\tonScroll(e){\n\t\tthis.updateFocusedPreview();\n\t}\n\trender(){\n\t\tlet description = `\n\t\t\tThe following shows some of the programs/projects that I've created\n\t\t\tover the past years. I published most of these projects on\n\t\t\tdedicated platforms. This website is created with the React.js-library\n\t\t\tand mainly serves me to test concepts of modern\n\t\t\tsingle page application development.\n\t\t`;\n\n\t\treturn (\n\t\t\t<div id=\"MainDivMN\">\n\t\t\t\t<div className=\"LogoHeader Show\">\n\t\t\t\t\t<div id=\"LogoHeaderText\" className=\"MrSoirHeading\">Welcome to the World of</div>\n\t\t\t\t\t<div id=\"LogoHeaderImageDiv\">\n\t\t\t\t\t\t<img id=\"LogoHeaderImage\" src={logo} alt=\"logo\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"DescriptionMN\"\n\t\t\t\t\t  className=\"ProgramDescription\">\n\t\t\t\t\t{description}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"MainPrevDivMN\">\n\t\t\t\t\t{this.state.previews.map((pi, id)=>\n\t\t\t\t\t\t<div key={id}\n\t\t\t\t\t\t\t  className=\"PreviewsDivMN\">\n\t\t\t\t\t\t\t<MainImagePreview\n\t\t\t\t\t\t\t\tmeta={pi}\n\t\t\t\t\t\t\t\tindicator={{\n\t\t\t\t\t\t\t\t\theading: pi.heading,\n\t\t\t\t\t\t\t\t\tdescription: pi.description\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tfocusPreview={this.state.focusedPreviews.some(x=>x===id)}\n\t\t\t\t\t\t\t\tonPreviewClicked={()=>{this.onPreviewClicked(id);}}\n\t\t\t\t\t\t\t\tseparator={id < this.state.previews.length-1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(MainPage);\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport './SlideShow.css';\n\nclass SlideShow extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.mainRef = React.createRef();\n\t\tthis.imgRef0 = React.createRef();\n\t\tthis.imgRef1 = React.createRef();\n\t\t\n\t\tthis.curFadingImgId = 0;\n\t\t\n\t\tthis.setCurrentImagePath = this.setCurrentImagePath.bind(this);\n\t\tthis.onImageClick = this.onImageClick.bind(this);\n\t\tthis.onPrevClicked = this.onPrevClicked.bind(this);\n\t\tthis.onNextClicked = this.onNextClicked.bind(this);\n\t\t\n\t\tthis.nextImage = this.nextImage.bind(this);\n\t\tthis.prevImage = this.prevImage.bind(this);\n\t\t\n\t\tthis.startImageTimer = this.startImageTimer.bind(this);\n\t\tthis.stopImageTimer = this.stopImageTimer.bind(this);\n\t\tthis.curId = 0;\n\t\tthis.lastId = 0;\n\t\tthis.setCurrentImagePath();\n\t}\n\tcomponentDidMount(){\n\t\tif(this.props.width){\n\t\t\tlet w = `${this.props.width}px`;\n\t\t\tthis.mainRef.current.style.maxWidth = w;\n\t\t}\n\t\tif(this.props.height){\n\t\t\tlet h = `${this.props.height}px`;\n\t\t\tthis.mainRef.current.style.maxHeight = h;\n\t\t}\n\t\tthis.startImageTimer();\n\t}\n\tcomponentWillUnmount(){\n\t\tthis.stopImageTimer();\n\t}\n\tstartImageTimer(){\n\t\tthis.stopImageTimer();\n\t\tthis.imageTimer = setInterval(this.nextImage, 5000);\n\t}\n\tstopImageTimer(){\n\t\tif( !!this.imageTimer ){\n\t\t\tclearInterval(this.imageTimer);\n\t\t}\n\t}\n\tsetCurrentImagePath(){\n\t\tthis.lastImgPath = this.props.img_paths[this.lastId];\n\t\tthis.curImgPath = this.props.img_paths[this.curId];\n\t}\n\tupdateImage(){\n\t\tthis.startImageTimer();\n\t\t\n\t\tconst imgRef0 = this.imgRef0.current;\n\t\tconst imgRef1 = this.imgRef1.current;\n\t\t\n\t\tthis.curFadingImgId = this.curFadingImgId === 0 ? 1 : 0;\n\t\t\n\t\tlet newFocusedImg = this.curFadingImgId === 0 ? imgRef0 : imgRef1;\n\t\tif( !!newFocusedImg ){\n\t\t\tnewFocusedImg.src = this.curImgPath.img_path;\n\t\t}\n\t\t\n\t\timgRef0.style.opacity = this.curFadingImgId === 0 ? 1 : 0;\n\t\timgRef1.style.opacity = this.curFadingImgId === 1 ? 1 : 0;\n\t}\n\tprevImage(){\n\t\tthis.lastId = this.curId;\n\t\tthis.curId -= 1;\n\t\tif (this.curId < 0){\n\t\t\tthis.curId = this.props.img_paths.length - 1;\n\t\t}\n\t\tthis.setCurrentImagePath();\n\t\tthis.updateImage();\n\t}\n\tnextImage(){\n\t\tthis.lastId = this.curId;\n\t\tthis.curId += 1;\n\t\tif (this.curId >= this.props.img_paths.length){\n\t\t\tthis.curId = 0;\n\t\t}\n\t\tthis.setCurrentImagePath();\n\t\tthis.updateImage();\n\t}\n\t\n\tonImageClick(){\n\t\tthis.nextImage();\n\t}\n\tonPrevClicked(){\n\t\tthis.prevImage();\n\t}\n\tonNextClicked(){\n\t\tthis.nextImage();\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"SlideShow\"\n\t\t\t\t  ref={this.mainRef}>\n\t\t\t\t<div className=\"NextButton Prev Cursor\"\n\t\t\t\t\tonClick={this.onPrevClicked}>\n\t\t\t\t\t&#11164;\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<img className=\"Img0 Cursor\" \n\t\t\t\t\tsrc={this.curImgPath.img_path} \n\t\t\t\t\tref={this.imgRef0}\n\t\t\t\t\tonClick={this.onImageClick}\n\t\t\t\t\talt=\"logo\"/>\n\t\t\t\t<img className=\"Img1 Cursor\" \n\t\t\t\t\tsrc={this.props.img_paths[1].img_path} \n\t\t\t\t\tref={this.imgRef1}\n\t\t\t\t\tonClick={this.onImageClick}\n\t\t\t\t\talt=\"logo\"/>\n\t\t\t\t\n\t\t\t\t<div className=\"NextButton Next Cursor\"\n\t\t\t\t\tonClick={this.onNextClicked}>\n\t\t\t\t\t&#x2B9E;\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(SlideShow);","import React, { useState, useEffect, useRef } from 'react';\nimport {WaitingBar} from '../WaitingBar/WaitingBar';\nimport './Carousel.scss';\n\n\nconst CANVAS_WIDTH  = 1000;\nconst CANVAS_HEIGHT = 1000;\n\nfunction ImageSelector({onClicked, selected}){\n    const cls = 'ImageSelectorCRSL' + (selected ? ' selected' : '');\n    return (\n        <div className={cls}\n             onClick={onClicked}>\n            \n        </div>\n    )\n}\n\nfunction CarouselCanvas({\n    imgPaths, \n    stopAnimation,\n    onLoaded,\n    onSelectedImgIdChanged,\n    delay=2000, animDur=1000\n}){\n    const [curImgId, setCurImgId] = useState(0);\n    const curImgIdFlt = useRef(0);\n    const canvasRef = useRef();\n    const imgRefs = useRef([]);\n    const imgsLoaded = useRef(false);\n    const curAnimId = useRef(0);\n    const prvImgRect = useRef();\n    const curImgRect = useRef();\n    const nxtImgRect = useRef();\n    const inUserInitiatedAnim = useRef(false);\n    const inAutoAnim = useRef(false);\n    const killAnimation = useRef(false);\n\n    useEffect(()=>{\n        Promise.all( imgPaths.map(ip=>genImagePromise(ip)) )\n            .then(()=>{\n                // setTimeout(()=>{ // timeout for testing\n                    imgsLoaded.current = true;\n                    onLoaded && onLoaded();\n                    _drawImgs();\n                    if( !stopAnimation ){\n                        startRotationAnimation();\n                    }\n                // }, 5000);\n            }).catch(err=>{\n                console.error('loading images failed: ', err);\n            });\n\n        prvImgRect.current = genRect();\n        curImgRect.current = genRect();\n        nxtImgRect.current = genRect();\n\n        return ()=>{\n            killAnimation.current = true;\n        };\n    }, []);\n    useEffect(()=>{\n        _drawImgs();\n        if(onSelectedImgIdChanged){\n            onSelectedImgIdChanged(curImgId);\n        }\n    }, [curImgId]);\n    useEffect(()=>{\n        if( !stopAnimation ){\n            startRotationAnimation();\n        }\n    }, [stopAnimation]);\n    useEffect(()=>{\n        const canvas = getCanvas();\n        if(!canvas)return;\n\n        canvas.addEventListener('click', onCanvasClicked);\n        return ()=>{\n            canvas.removeEventListener('click', onCanvasClicked);\n        }\n    })\n\n    // function relPosToAbsPos(pos){\n    //     const canvas = getCanvas();\n    //     return {\n    //         x: pos.x * canvas.width,\n    //         y: pos.y * canvas.height,\n    //         w: pos.w * canvas.width,\n    //         h: pos.h * canvas.height\n    //     };\n    // }\n    function posClicked({x,y}, pos, tag){\n        const xs = pos.x - pos.w * 0.5;\n        const ys = pos.y - pos.h * 0.5;\n        const xe = xs + pos.w;\n        const ye = ys + pos.h;\n        \n        return x >= xs && x <= xe\n            && y >= ys && y <= ye;\n    }\n    function onCanvasClicked(e){\n        const canvas = getCanvas();\n        if(!canvas)return;\n        const relMousePos = {\n            x: e.offsetX / canvas.offsetWidth,\n            y: e.offsetY / canvas.offsetHeight\n        };\n        checkIfImageWasClicked( relMousePos );\n    }\n    function checkIfImageWasClicked({x,y}){\n        if( posClicked({x,y}, curImgRect.current, 'cur') ){\n            onJumpToNextImageClicked();\n        }else if( posClicked({x,y}, nxtImgRect.current, 'nxt') ){\n            onJumpToNextImageClicked();\n        }else if( posClicked({x,y}, prvImgRect.current, 'prv') ){\n            onJumpToPrevImageClicked();\n        }\n    }\n\n    function genRect({x=0, y=0, w=0, h=0}={}){\n        return {x,y,w,h};\n    }\n\n    function genImagePromise(pth){\n        return new Promise((resolve, reject)=>{\n            const img = new Image();\n            img.src = pth;\n            img.onload = ()=>{\n                imgRefs.current.push( img );\n                resolve();\n            }\n        });\n    }\n\n    function getContext(){\n        const cnvs = getCanvas();\n        if(!cnvs)return null;\n        return cnvs.getContext(\"2d\");\n    }\n    function getCanvas(){\n        return canvasRef.current;\n    }\n    function clearCanvas(){\n        const ctx = getContext();\n        const cnvs = getCanvas();\n        if(!ctx || !cnvs)return;\n        ctx.clearRect(0, 0, cnvs.width, cnvs.height);\n    }\n    function getImage(id){\n        const img = (imgRefs.current)[id];\n        if(!img){\n            console.error('getImage: ', img, imgRefs.current);\n        }\n        return img;\n    }\n    function drawCenteredImage({id, pos}){\n        const ctx = getContext();\n        const cnvs = getCanvas();\n        if(!ctx || !cnvs)return;\n\n        const img = getImage(id);\n\n        const x = pos.x - pos.w * 0.5;\n        const y = pos.y - pos.h * 0.5;\n        const w = pos.w;\n        const h = pos.h;\n        const cnvsWdth = cnvs.width;\n        const cnvsHght = cnvs.height;\n    \n        ctx.drawImage(  img, \n                        x * cnvsWdth, y * cnvsHght, \n                        w * cnvsWdth, h * cnvsHght);\n    }\n\n    function startRotationAnimation(){\n        if( inAutoAnim.current || !imgsLoaded.current )return;\n        inAutoAnim.current = true;\n\n        setTimeout(_startRotationAnimationHlpr, delay);\n    }\n    function _startRotationAnimationHlpr(){\n        if( stopAnimation || killAnimation.current )return;\n        if( !inUserInitiatedAnim.current ){\n            jumpToNextImage();\n        }\n        setTimeout(_startRotationAnimationHlpr, delay);\n    }\n\n    function getPrevId(curId){\n        let prevId = curId - 1;\n        return prevId < 0 ? imgPaths.length - 1 : prevId;\n    }\n    function getNextId(curId){\n        return (curId + 1) % imgPaths.length;\n    }\n\n    function quadraticBezier(p0, p1, p2, t){\n        const t2   = t*t;\n        const t_   = (1-t);\n\n        const tt_2 = t_ ** 2;\n        const tt_  = t_ * t;\n        \n        let x = t_ * (t_ * p0.x + t * p1.x) + t * (t_ * p0.x + t * p2.x);\n        let y = t_ * (t_ * p0.y + t * p1.y) + t * (t_ * p0.y + t * p2.y);\n\n        return {x,y};\n    }\n\n    function evalLinearTarPos(pStart, pEnd, prgrs){\n        return {\n            x: pStart.x + (pEnd.x - pStart.x) * prgrs,\n            y: pStart.y + (pEnd.y - pStart.y) * prgrs,\n            w: pStart.w + (pEnd.w - pStart.w) * prgrs,\n            h: pStart.h + (pEnd.h - pStart.h) * prgrs,\n        }\n    }\n    function evalQuadBezTarPos(p0, p1, p2, prgrs){\n        const brnst = quadraticBezier(p0, p1, p2, prgrs);\n        return {\n            x: brnst.x,\n            y: brnst.y,\n            w: p0.w + (p2.w - p0.w) * prgrs,\n            h: p0.h + (p2.h - p0.h) * prgrs,\n        }\n    }\n    function validateImgId(id){\n        if(id < 0){\n            return imgRefs.current.length + id;\n        }\n        return id % imgRefs.current.length;\n    }\n\n    function _drawImgs(){\n        if(!imgsLoaded.current)return;\n\n\n        const curIdFlt = validateImgId( curImgIdFlt.current );\n        const curId = Math.floor( curIdFlt );\n        const prgrs = curIdFlt - curId;\n        \n        const nxtId    = getNextId(curId);\n        const nxtNxtId = getNextId(nxtId);\n        const prvId    = getPrevId(curId);\n\n        const bfctr = 0.7;\n        const sfctr = 0.2;\n\n        const sw = sfctr;\n        const sh = sw;\n        const bw = bfctr;\n        const bh = bw;\n\n        const p0 = {\n            x: 0.5,\n            y: 0.5,\n            w: 0,\n            h: 0\n        };\n        const p1 = {\n            x: 0.9,\n            y: 0.45,\n            w: sw,\n            h: sh\n        }\n        const p2 = {\n            x: 1.4,\n            y: 0.55,\n            w: bw,\n            h: bh\n        }\n        const p3 = {\n            x: 0.5,\n            y: 0.5,\n            w: bw,\n            h: bh\n        }\n        const p4 = {\n            x: -0.60,\n            y: 0.85,\n            w: bw,\n            h: bh\n        }\n        const p5 = {\n            x: 0.1,\n            y: 0.55,\n            w: sw,\n            h: sh\n        }\n\n        const imgAndPoss = [];\n\n        const curPos = {\n            id: curId,  \n            pos: evalQuadBezTarPos(p3, p4, p5, prgrs)\n        };\n        const nxtPos = {\n            id: nxtId,  \n            pos: evalQuadBezTarPos(p1, p2, p3, prgrs)\n        };\n        const nxtNxtPos = {\n            id: nxtNxtId,  \n            pos: evalLinearTarPos(p0, p1, prgrs)\n        };\n        const prvPos = {\n            id: prvId,  \n            pos: evalLinearTarPos(p5, p0, prgrs)\n        };\n\n        prvImgRect.current = prvPos.pos;\n        curImgRect.current = curPos.pos;\n        nxtImgRect.current = nxtPos.pos;\n\n        imgAndPoss.push( nxtNxtPos );\n        imgAndPoss.push( nxtPos );\n        imgAndPoss.push( curPos );\n        imgAndPoss.push( prvPos );\n        \n        imgAndPoss.sort((ip0, ip1)=>{\n            const w0 = ip0.pos.w;\n            const w1 = ip1.pos.w;\n            if(w0 > w1){\n                return 1;\n            }else if (w0 < w1){\n                return -1;\n            }\n            return 0;\n        });\n        imgAndPoss.forEach(ip=>drawCenteredImage(ip));\n    }\n    function jumpToImage(id){\n        return animFromCurTo(id);\n    }\n    function jumpToNextImage(){\n        const curIdFlr = validateImgId( Math.ceil( curImgIdFlt.current ) );\n        const nxtId = getNextId(curIdFlr);\n        return animFromCurTo(nxtId);\n    }\n    function jumpToPrevImage(){\n        const curIdFlr = validateImgId( Math.floor( curImgIdFlt.current ) );\n        const nxtId = getPrevId(curIdFlr);\n        return animFromCurTo(nxtId);\n    }\n    function animFromCurTo(endImgId){\n        return new Promise((resolve, reject)=>{\n            curAnimId.current++;\n            const animId = curAnimId.current;\n\n            const startImgId = curImgIdFlt.current;\n\n            let stepsInOrder = endImgId - startImgId;\n            let stepsRev = (imgRefs.current.length - Math.abs( stepsInOrder )) * (stepsInOrder < 0 ? 1 : -1);\n            let steps = Math.abs(stepsInOrder) > Math.abs(stepsRev)\n                ? stepsRev\n                : stepsInOrder;\n\n            const st = (new Date()).getTime();\n\n            function execAnim(){\n                if(curAnimId.current !== animId)return resolve();\n\n                clearCanvas();\n\n                const ct = (new Date()).getTime();\n                const dt = ct - st;\n\n                if(dt > animDur){\n                    setCurImgIdRef( startImgId + steps );\n                    _drawImgs();\n                    return resolve();\n                }\n                const prgrs = dt / animDur;\n                setCurImgIdRef( startImgId + steps *  prgrs );\n                _drawImgs();\n\n                requestAnimationFrame(execAnim);\n            }\n            execAnim();\n        });\n    }\n    function setCurImgIdRef(val){\n        curImgIdFlt.current = validateImgId( val );\n        const curImgIdFlr = validateImgId( Math.floor( val ) );\n        setCurImgId(curImgIdFlr);\n    }\n    async function onJumpToNextImageClicked(){\n        return await jumpToUserSelectionImage( jumpToNextImage );\n    }\n    async function onJumpToPrevImageClicked(){\n        return await jumpToUserSelectionImage( jumpToPrevImage );\n    }\n    async function onImageSelectorClicked(id){\n        return await jumpToUserSelectionImage( ()=>jumpToImage(id) );\n    }\n    async function jumpToUserSelectionImage( jumpToFunc ){\n        inUserInitiatedAnim.current = true;\n        const animId = curAnimId.current + 1;\n        await jumpToFunc();\n        setTimeout(()=>{\n            if(animId === curAnimId.current){\n                inUserInitiatedAnim.current = false;\n            }\n        }, delay);\n    }\n  \n    return (\n        <div className=\"MainCRSL\">\n            <canvas className=\"CanvasCRSL\"\n                    ref={canvasRef}\n                    width={CANVAS_WIDTH}\n                    height={CANVAS_HEIGHT}\n            />\n            <div className=\"ImageSelectionCRSL\">\n                {imgPaths.map((ip, id)=>{\n                    return (\n                        <ImageSelector \n                            onClicked={()=>onImageSelectorClicked(id)}\n                            selected={id === curImgId}\n                            key={id}\n                        />\n                    );\n                })}\n            </div>\n        </div>\n    );\n}\n\nfunction Carousel({\n    imgPaths, \n    imgRatio = {\n        w: 4,\n        h: 3\n    }, \n    delay,\n    animDur,\n    onLoaded, stopAnimation, onSelectedImgIdChanged\n}){\n    const [loaded, setLoaded] = useState(false);\n    const carouselRef = useRef();\n\n    useEffect(()=>{\n        window.addEventListener('resize', onWindowResized);\n        onWindowResized();\n        return ()=>{\n            window.removeEventListener('resize', onWindowResized);\n        }\n    }, []);\n\n    function onWindowResized(){\n        const crsl = carouselRef.current;\n        if(!crsl)return;\n        const hght = crsl.offsetWidth / imgRatio.w * imgRatio.h;\n        crsl.style.height = `${hght}px`;        \n    }\n    function _onLoaded(){\n        setLoaded(true);\n        if(onLoaded){\n            onLoaded();\n        }\n    }\n\n    const waitingBar = loaded\n        ? ''\n        : (\n            <div className=\"WaitingBarCRSL\">\n                <WaitingBar\n                    fragmentCount={4}\n                    outerCurved={true}\n    \t\t\t\tinnerCurved={true}\n                    fading={true}\n                />\n            </div>\n        );\n    \n    const crslDivCls = 'CarousuelCanvasDiv' + (loaded ? ' loaded' : '');\n\n    return (\n        <div className=\"CntrCRSL\"\n                ref={carouselRef}>\n            <div className={crslDivCls}>\n                <CarouselCanvas\n                    imgPaths={imgPaths}\n                    stopAnimation={stopAnimation}\n                    onLoaded={_onLoaded}\n                    imgRatio={imgRatio}\n                    delay={delay}\n                    animDur={animDur}\n                    onSelectedImgIdChanged={onSelectedImgIdChanged}\n                />\n            </div>\n            {waitingBar}\n        </div>\n    );\n}\n\nexport default Carousel;\n","import React, { Component } from 'react';\nimport './CurtainButton.css';\n\nclass DownloadButton extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.onMouseEnter = this.onMouseEnter.bind(this);\n\t\tthis.onMouseLeave = this.onMouseLeave.bind(this);\n\t\tthis.onClickActionContinue = this.onClickActionContinue.bind(this);\n\n\t\tthis.leftRect = React.createRef();\n\t\tthis.rightRect = React.createRef();\n\t\tthis.leftClickedRect = React.createRef();\n\t\tthis.rightClickedRect = React.createRef();\n\t\tthis.mainRef = React.createRef();\n\t\t\n\t\tthis.curtainsClosed = true;\n\t\tthis.clickedCurtainsClosed = true;\n\t}\n\tonClick(){\n\t\tif(this.props.onClick){\n\t\t\tthis.props.onClick();\n\t\t}\n\t\tthis.startOnClickAnimation();\n\t}\n\tstartOnClickAnimation(){\n\t\tthis.isExecutingClickAnimation = true;\n\t\tif(this.curtainsClosed){\n\t\t\tthis.openForegroundCurtains();\n\t\t\tsetTimeout(this.onClickActionContinue, 500);\n\t\t}else{\n\t\t\tthis.onClickActionContinue();\n\t\t}\n\t}\n\tonClickActionContinue(){\n\t\tthis.openClickedCurtains();\n\t\tsetTimeout(()=>{\n\t\t\tthis.closeClickedCurtains();\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.closeForegroundCurtains();\n\t\t\t\tthis.isExecutingClickAnimation = false;\n\t\t\t}, 500);\n\t\t}, 500);\n\t}\n\tcloseClickedCurtains(){\n\t\tthis.clickedCurtainsClosed = true;\n\t\tthis.closeCurtains_hlpr(this.leftClickedRect.current, this.rightClickedRect.current);\n\t}\n\tcloseForegroundCurtains(){\n\t\tthis.curtainsClosed = true;\n\t\tthis.closeCurtains_hlpr(this.leftRect.current, this.rightRect.current);\n\t}\n\topenClickedCurtains(){\n\t\tthis.clickedCurtainsClosed = false;\n\t\tthis.openCurtains_hlpr(this.leftClickedRect.current, this.rightClickedRect.current);\n\t}\n\topenForegroundCurtains(){\n\t\tthis.curtainsClosed = false;\n\t\tthis.openCurtains_hlpr(this.leftRect.current, this.rightRect.current);\n\t}\n\tcloseCurtains_hlpr(left, right){\n\t\tleft.style  = \"width: 51%\";\n\t\tright.style = \"width: 51%\";\n\t}\n\topenCurtains_hlpr(left, right){\n\t\tleft.style  = \"width: 0%\";\n\t\tright.style = \"width: 0%\";\n\t}\n\tonMouseEnter(){\n\t\tif(this.isExecutingClickAnimation){\n\t\t\treturn;\n\t\t}\n\t\tthis.openForegroundCurtains();\n\t}\n\tonMouseLeave(){\n\t\tif(this.isExecutingClickAnimation){\n\t\t\treturn;\n\t\t}\n\t\tthis.closeForegroundCurtains();\n\t}\n\trender(){\n\t\tlet buttonText = this.props.text ? this.props.text : \"Download\";\n\t\treturn (\n\t\t\t<div id=\"CurtainButton\"\n\t\t\t\t  className=\"CurtainButton HeadingTextSize\"\n\t\t\t\t  ref={this.mainRef}\n\t\t\t\t  onClick={this.onClick}\n\t\t\t\t  onMouseEnter={this.onMouseEnter}\n\t\t\t\t  onMouseLeave={this.onMouseLeave}>\n\t\t\t\t<div id=\"LeftClickedRectCB\"\n\t\t\t\t\t  className=\"CurtainCB ClickedCurtainCB\"\n\t\t\t\t\t  ref={this.leftClickedRect}\n\t\t\t\t/>\n\t\t\t\t<div id=\"RightClickedRectCB\"\n\t\t\t\t\t  className=\"CurtainCB ClickedCurtainCB\"\n\t\t\t\t\t  ref={this.rightClickedRect}\n\t\t\t\t/>\n\t\t\t\t<div id=\"LeftRectCB\"\n\t\t\t\t\t  className=\"CurtainCB\"\n\t\t\t\t\t  ref={this.leftRect}/>\n\t\t\t\t\t  \n\t\t\t\t<div id=\"RightRectCB\"\n\t\t\t\t\t  className=\"CurtainCB\"\n\t\t\t\t\t  ref={this.rightRect}/>\n\t\t\t\t\t  \n\t\t\t\t<div id=\"ButtonTextCB\">\n\t\t\t\t\t{buttonText}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DownloadButton;","import React, {Component} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport {readTextFile} from '../StaticFunctions';\nimport SlideShow from '../SlideShow';\nimport Carousel from '../CarouselDiaShow/Carousel';\nimport meta_info from './info.txt';\nimport './Ballin.css';\nimport CurtainButton from '../CurtainButton';\n\nclass Ballin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onImageClick = this.onImageClick.bind(this);\n    this.launchBallinGL = this.launchBallinGL.bind(this);\n    this.downloadBallinOriginal = this.downloadBallinOriginal.bind(this);\n\n    this.BallinMainRef = React.createRef();\n    this.BallinOrigCarrouselDiv = React.createRef();\n    this.BallinGLCarrouselDiv = React.createRef();\n\n    const {ballin_gl_pics, ballin_orig_pics} = this.evalBallinImages();\n    this.state = {\n      ballin_gl_pics,\n      ballin_orig_pics,\n      glCarrouselAspectRatio: {\n        w: 16,\n        h: 9\n      },\n      origCarrouselAspectRatio: {\n        w: 4,\n        h: 3\n      }\n    };\n  }\n  launchBallinGL() {\n    window.location.href = 'https://ballingl.firebaseapp.com/';\n  }\n  downloadBallinOriginal() {\n    window.open('https://github.com/MrSoir/Ballin_2D/archive/master.zip', '_blank');\n  }\n  evalBallinImages() {\n    let txt = readTextFile(meta_info);\n\n    let info_lines = txt.split('\\n').filter((tn) => !!tn);\n    // first line in info_lines gives the number of images to render for Ballin'GL\n    let ballinGL_imgCount = parseInt(info_lines[0].split(' ').filter(s => !!s).slice(-1)[0]);\n    let ballinOrig_imgCount = parseInt(info_lines[1].split(' ').filter(s => !!s).slice(-1)[0]);\n\n    let ballin_gl_pics = [];\n    let ballin_orig_pics = [];\n    let f = (pth) => {\n      return {img_path: pth};\n    };\n    for (let i = 0; i < ballinGL_imgCount; ++i) {\n      ballin_gl_pics.push(f(process.env.PUBLIC_URL + '/Ballin/pics/BallinGL_preview_' + i + '.png'));\n    }\n    for (let i = 0; i < ballinOrig_imgCount; ++i) {\n      ballin_orig_pics.push(f(process.env.PUBLIC_URL + '/Ballin/pics/BallinOrig_preview_' + i + '.png'));\n    }\n    return {ballin_gl_pics, ballin_orig_pics};\n  }\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n  componentWillUnmount() {\n  }\n  onImageClick(id) {\n    this.launchBallinGL();\n  }\n  render() {\n    let infoText_GL = <div className=\"ProgramDescription BallinInfoMargins\">Ballin' GL is a browser game written in JavaScript. Although the gameplay is 2D, the game is rendered in 3D powered by the WebGL2 technology. The game is totally free, there are no in-app-purchases or advertisement. The reason I wrote this game was to learn programming 3D-graphics using WebGL and to improve my skills in linear algebra.\n      <br/><br/>\n      Ballin' GL runs on most common browsers: Chrome, Chromium, Firefox, Opera, Safari. Ensure you're running your browsers latest version. Older browser versions most likely won't support WebGL2 (unfortunately Ballin' GL does not run on Mircosoft's IE and Edge - as far as I know these browsers don't support WebGL2 at all).\n      <br/><br/>\n      Go get the most fun out of Ballin' GL I recommend playing it on your smartphone. On smartphones the game is controlled by the smartphone's motion sensors &#x2192; the device as a whole becomes the controller!</div>;\n\n    let infoText_Orig = <div className=\"ProgramDescription BallinInfoMargins\">I wrote the first version of Ballin' in Java in the course of a college assignment. Compared to the original Ballin', Ballin'GL is much more advanced. Ballin'GL is running a 3D-engine with lightning effects and other fancy stuff. But sometimes the beauty lies in it's simplicity.</div>;\n\n    return (<div className=\"Ballin\" ref={this.BallinMainRef}>\n      <div className=\"ProgramHeading\">Ballin' GL</div>\n\n      <div className=\"CarrouselDiaShowBallin\">\n        <Carousel \n          imgPaths={this.state.ballin_gl_pics.map(pathObj => pathObj.img_path)} \n          stopAnimation={false} \n          imgRatio={this.state.glCarrouselAspectRatio}\n        />\n      </div>\n\n      {infoText_GL}\n\n      <CurtainButton text=\"Click me to play Ballin' GL!\" onClick={this.launchBallinGL}/>\n\n      <div className=\"BallinSeparator\"/> {/* -------------------- */}\n\n      <div className=\"ProgramHeading\">Ballin' Original</div>\n\n      <div className=\"CarrouselDiaShowBallin\">\n        <Carousel \n          imgPaths={this.state.ballin_orig_pics.map(pathObj => pathObj.img_path)}\n          stopAnimation={false}\n          imgRatio={this.state.origCarrouselAspectRatio}\n        />\n      </div>\n      {infoText_Orig}\n\n      <CurtainButton text=\"Download\" onClick={this.downloadBallinOriginal}/>\n    </div>);\n  }\n}\n\nexport default withRouter(Ballin);\n","import React, { useState, useEffect, useRef } from 'react';\nimport {WaitingBar} from './WaitingBar/WaitingBar';\nimport './AnimatedGif.scss';\n\nconst START_ANIM_ON_VIEWPORT_PRCTG = 0.8;\n\nfunction AnimatedGif({gifPath, imgPath}){\n\tconst imgRef  = useRef();\n\tconst mainRef = useRef();\n\tconst [imgLoaded, setImgLoaded] = useState(false);\n\tconst [gifLoaded, setGifLoaded] = useState(false);\n\tconst [waitinBarFadedOut, setWaitinBarFadedOut] = useState(false);\n\tconst runGif = useRef(false);\n\n\tuseEffect(()=>{\n\t\tconst sttcImg = new Image();\n\t\tsttcImg.src = imgPath;\n\t\tsttcImg.onload = ()=>{\n\t\t\tsetImgLoaded( true );\n\t\t\tif(!gifLoaded){\n\t\t\t\tsetImageSrcPath(imgPath);\n\t\t\t}\n\t\t};\n\n\t\tconst gifImg = new Image();\n\t\tgifImg.src = gifPath;\n\t\tgifImg.onload = ()=>{\n\t\t\tsetTimeout(()=>{\n\t\t\t\tsetGifLoaded( true );\n\t\t\t\tif(runGif.current){\n\t\t\t\t\tsetImageSrcPath(gifPath);\n\t\t\t\t}\n\t\t\t}, 2000);\n\t\t};\n\t}, []);\n\tuseEffect(()=>{\n\t\tdocument.addEventListener('scroll', onScroll);\n\t\treturn ()=>{\n\t\t\tdocument.removeEventListener('scroll', onScroll);\n\t\t}\n\t});\n\n\tuseEffect(()=>{\n\t\tif(imgLoaded && gifLoaded){\n\t\t\tsetTimeout(()=>{\n\t\t\t\tsetWaitinBarFadedOut(true);\n\t\t\t}, 1000);\n\t\t}\n\t}, [imgLoaded, gifLoaded]);\n\n\tfunction onScroll(e){\n\t\tconst md = mainRef.current;\n\t\tif(!md)return;\n\n\t\tconst bdngRct = md.getBoundingClientRect();\n\t\tconst b = bdngRct.bottom;\n\n\t\tif( b < (window.screen.height * START_ANIM_ON_VIEWPORT_PRCTG) ){\n\t\t\tsetRunGif(true);\n\t\t}\n\t}\n\tfunction setRunGif(rg){\n\t\trunGif.current = rg;\n\t\tif(rg && gifLoaded){\n\t\t\tsetImageSrcPath(gifPath);\n\t\t}\n\t}\n\n\tfunction setImageSrcPath(path){\n\t\tconst img = imgRef.current;\n\t\tif(img){\n\t\t\timg.src = path;\n\t\t}\n\t}\n\n\tconst waitingBrCls = 'WaitingBarKUBU' + (imgLoaded && gifLoaded ? ' fadingOut' : '');\n    const waitingBar = imgLoaded && gifLoaded && waitinBarFadedOut\n        ? ''\n        : (\n            <div className={waitingBrCls}>\n                <WaitingBar\n                    fragmentCount={4}\n                    outerCurved={true}\n    \t\t\t\tinnerCurved={true}\n                />\n            </div>\n        );\n\n\treturn (\n\t\t<div className=\"MainANIMGIF\"\n\t\t\t ref={mainRef}>\n\t\t\t<img className=\"ImgANIMGIF\"\n\t\t\t\t ref={imgRef}\n\t\t\t/>\n\t\t\t{waitingBar}\n\t\t</div>\n\t);\n}\n\nexport default AnimatedGif;","import React, { useState, useEffect, useRef } from 'react';\nimport {WaitingBar} from './WaitingBar/WaitingBar';\nimport './AnimatedVideo.scss';\n\n\nconst START_ANIM_ON_VIEWPORT_PRCTG = 0.8;\n\nfunction AnimatedVideo({videoPaths, imgPath}){\n\tconst imgRef   = useRef();\n\tconst videoRef = useRef();\n\tconst mainRef  = useRef();\n\tconst [imgLoaded, setImgLoaded] = useState(false);\n\tconst [videoLoaded, setVideoLoaded] = useState(false);\n\tconst [waitinBarFadedOut, setWaitinBarFadedOut] = useState(false);\n\tconst videoPlaying = useRef();\n\n\tuseEffect(()=>{\n\t\tconst sttcImg = new Image();\n\t\tsttcImg.src = imgPath;\n\t\tsttcImg.onload = ()=>{\n\t\t\t// setTimeout(()=>{\n\t\t\t\tsetImgLoaded( true );\n\t\t\t\tif(!videoLoaded){\n\t\t\t\t\tsetImageSrcPath(imgPath);\n\t\t\t\t}\n\t\t\t// }, 2000);\n\t\t};\n\t}, []);\n\tuseEffect(()=>{\n\t\tif(imgLoaded && videoLoaded){\n\t\t\tsetWaitinBarFadedOut(true);\n\t\t}\n\t}, [imgLoaded, videoLoaded]);\n\tuseEffect(()=>{\n\t\tdocument.addEventListener('scroll', onScroll);\n\n\t\tconst video    = videoRef.current;\n\t\tif(video){\n\t\t\tvideo.addEventListener('loadeddata', onVideoDataLoaded);\n\t\t}\n\t\treturn ()=>{\n\t\t\tif(video){\n\t\t\t\tvideo.removeEventListener('loadeddata', onVideoDataLoaded);\n\t\t\t}\n\t\t\tdocument.removeEventListener('scroll', onScroll);\n\t\t}\n\t});\n\n\tfunction onVideoDataLoaded(){\n\t\tconst video = videoRef.current;\n\t\tif(!video)return;\n\n\t\tif(video.readyState >= 2){\n\t\t\t// setTimeout(()=>{\n\t\t\t\tsetVideoLoaded( true );\n\t\t\t\tshowVideo();\n\t\t\t// }, 5000);\n\t\t}\n\t}\n\n\tfunction onScroll(e){\n\t\tconst md = mainRef.current;\n\t\tif(!md)return;\n\n\t\tconst bdngRct = md.getBoundingClientRect();\n\t\tconst b = bdngRct.bottom;\n\n\t\tif( b < (window.screen.height * START_ANIM_ON_VIEWPORT_PRCTG) ){\n\t\t\tif( !videoPlaying.current ){\n\t\t\t\tplayVideo(true);\n\t\t\t}\n\t\t}\n\t}\n\tasync function playVideo(rg){\n\t\tconst video = videoRef.current;\n\t\tif(video){\n\t\t\ttry{\n\t\t\t\tawait video.play();\n\t\t\t\tvideo.loop = true;\n\t\t\t\tvideoPlaying.current = true;\n\t\t\t}catch(err){\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setImageSrcPath(path){\n\t\tconst img = imgRef.current;\n\t\tif(img){\n\t\t\timg.src = path;\n\t\t}\n\t}\n\tfunction showVideo(){\n\t\tconst video = videoRef.current;\n\t\tif(video){\n\t\t\tvideo.style.opacity = 1;\n\t\t\t// playVideo();\n\n\t\t\tconst img = imgRef.current;\n\t\t\tif(img){\n\t\t\t\timg.style.opacity = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst waitingBrCls = 'WaitingBarKUBU' + (imgLoaded && !videoLoaded ? ' imgLoaded' : '') + (imgLoaded && videoLoaded ? ' fadingOut' : '');\n    const waitingBar = imgLoaded && videoLoaded && waitinBarFadedOut\n        ? ''\n        : (\n            <div className={waitingBrCls}>\n                <WaitingBar\n                    fragmentCount={4}\n                    outerCurved={true}\n    \t\t\t\tinnerCurved={true}\n\t\t\t\t\tfading={true}\n                />\n            </div>\n        );\n\n\treturn (\n\t\t<div className=\"MainANIMVIDEO\"\n\t\t\t ref={mainRef}>\n\t\t\t\n\t\t\t<img className=\"ImgANIMVIDEO\"\n\t\t\t\t ref={imgRef}\n\t\t \t/>\n\t\t\t<video className=\"VideoANIMVIDEO\"\n\t\t\t\t   ref={videoRef}\n\t\t\t\t   width=\"320\" height=\"176\"\n\t\t\t>\n\t\t\t\t{videoPaths.map((vp, id)=>{\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\ttype={`video/${vp.type}`}\n\t\t\t\t\t\t\tsrc={vp.path}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</video>\n\t\t\t{waitingBar}\n\t\t</div>\n\t);\n}\n\nexport default AnimatedVideo;","import React, { useState, useEffect, useRef } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Carousel from '../CarouselDiaShow/Carousel';\nimport KubuIcon from './Kubu_icon.png';\nimport {WaitingBar} from '../WaitingBar/WaitingBar';\nimport AnimatedGif from '../AnimatedGif';\nimport AnimatedVideo from '../AnimatedVideo';\nimport './Kubu.scss';\n\n\n\nconst snapURL\t  = 'https://snapcraft.io/kubu';\nconst appImageURL = 'https://www.dropbox.com/s/tp05tllhuiuvk7d/kubu-0.1.0.AppImage?dl=0';\nconst debURL\t  = 'https://www.dropbox.com/s/f847kdundgfpqd6/kubu_0.1.0_amd64.deb?dl=0';\n\n\n\nfunction kubuImageGnrtr(tag, fileType){\n\treturn process.env.PUBLIC_URL + '/Kubu/pics/Kubu' + tag + fileType;\n}\nfunction kubuVideoPathGnrtr(tag, fileType){\n\treturn process.env.PUBLIC_URL + '/Kubu/videos/Kubu' + tag + fileType;\n}\nfunction kubuVideoGnrtr(tag){\n\treturn [\n\t\t{\n\t\t\ttype: 'webm',\n\t\t\tpath: kubuVideoPathGnrtr(tag, '.webm')\n\t\t},\n\t\t{\n\t\t\ttype: 'm4v',\n\t\t\tpath: kubuVideoPathGnrtr(tag, '.m4v')\n\t\t},\n\t\t{\n\t\t\ttype: 'mp4',\n\t\t\tpath: kubuVideoPathGnrtr(tag, '.mp4')\n\t\t}\n\t];\n}\nfunction getCheckImgPath(){\n\treturn process.env.PUBLIC_URL + '/icons/check.png';\n}\nfunction getRightArrowImgPath(){\n\treturn process.env.PUBLIC_URL + '/icons/right-arrow.png';\n}\nfunction getAppImageIconPath(){\n\treturn process.env.PUBLIC_URL + '/Kubu/downloadIcons/appimage.png';\n}\nfunction getDebIconPath(){\n\treturn process.env.PUBLIC_URL + '/Kubu/downloadIcons/deb.png';\n}\n\nfunction GiffedDescription({descrOnLeft, imgPath, gifPath, heading, descrComps}){\n\n\tconst headingDiv = (\n\t\t<div className=\"HeadingGFDDSCR\">\n\t\t\t{heading}\n\t\t</div>\n\t);\n\tconst gif = (\n\t\t<div className=\"GifGFDDSCR\">\n\t\t\t<AnimatedGif imgPath={imgPath}\n\t\t\t\t\t\t gifPath={gifPath}\n\t\t\t/>\n\t\t</div>\n\t);\n\tconst descr = (\n\t\t<div className=\"DescrGFDDSCR\">\n\t\t\t{descrComps}\n\t\t</div>\n\t);\n\n\tconst mainCls = 'MainGFDDSCR' + (descrOnLeft ? ' descrOnLeft' : ' descrOnRight');\n\treturn (\n\t\t<div className={mainCls}>\n\t\t\t{headingDiv}\n\t\t\t{gif}\n\t\t\t{descr}\n\t\t</div>\n\t)\n}\nfunction ResizingVideo({imgPath, videoPaths}){\n\tconst mainRef = useRef();\n\n\tuseEffect(()=>{\n\t\tonWindowResized();\n\t});\n\tuseEffect(()=>{\n\t\twindow.addEventListener('resize', onWindowResized);\n\t\treturn ()=>{\n\t\t\twindow.removeEventListener('resize', onWindowResized);\n\t\t};\n\t});\n\n\tfunction onWindowResized(){\n\t\tconst md = mainRef.current;\n\t\tif(!md)return;\n\n\t\tconst wdth = md.offsetWidth;\n\t\tconst hght = md.offsetWidth / 16 * 9;\n\n\t\tmd.style.height = `${hght}px`;\n\t}\n\n\treturn (\n\t\t<div className=\"ResizingVideoGFDDSCR\"\n\t\t\t ref={mainRef}\n\t\t>\n\t\t\t<AnimatedVideo \n\t\t\t\timgPath={imgPath}\n\t\t\t\tvideoPaths={videoPaths}\n\t\t\t/>\n\t\t</div>\n\t);\n}\nfunction VideodDescription({descrOnLeft, imgPath, videoPaths, heading, descrComps}){\n\n\tconst headingDiv = (\n\t\t<div className=\"HeadingGFDDSCR\">\n\t\t\t{heading}\n\t\t</div>\n\t);\n\tconst video = (\n\t\t<div className=\"GifGFDDSCR\">\n\t\t\t<ResizingVideo imgPath={imgPath}\n\t\t\t\t\t\t   videoPaths={videoPaths}\n\t\t\t/>\n\t\t</div>\n\t);\n\tconst descr = (\n\t\t<div className=\"DescrGFDDSCR\">\n\t\t\t{descrComps}\n\t\t</div>\n\t);\n\n\tconst mainCls = 'MainGFDDSCR' + (descrOnLeft ? ' descrOnLeft' : ' descrOnRight');\n\treturn (\n\t\t<div className={mainCls}>\n\t\t\t{headingDiv}\n\t\t\t{video}\n\t\t\t{descr}\n\t\t</div>\n\t)\n}\n\nfunction VideoDescr({even, descrOnLeft, videoPaths, imgPath, heading, descrComps}){\n\n\tconst mainCls = `GifedDescrDivKUBU ${even ? 'even' : 'odd'}`;\n\n\treturn (\n\t\t<div className={mainCls}>\n\t\t\t<VideodDescription\n\t\t\t\tdescrOnLeft={descrOnLeft}\n\t\t\t\tvideoPaths={ videoPaths }\n\t\t\t\timgPath={ imgPath }\n\t\t\t\theading={heading}\n\t\t\t\tdescrComps={descrComps}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nfunction Kubu({}){\n\tconst [imgPaths, setImgPaths] = useState([]);\n\tconst [imgRatio, setImgRatio] = useState({w: 16, h: 9});\n\n\tuseEffect(()=>{\n\t\twindow.scrollTo(0, 0);\n\n\t\tsetImgPaths( getImagePaths() );\n\t}, []);\n\n\tfunction getImagePaths(){\n\t\tconst pths = [];\n\t\tfor(let i=0; i < 8; ++i){\n\t\t\tpths.push( kubuImageGnrtr(i, '.jpg') );\n\t\t}\n\t\treturn pths;\n\t}\n\n\t\n\tfunction genSeparator(){\n\t\treturn <div className=\"Separator KubuSeparator\"/>;\n\t}\n\n\tfunction genIconDescrArg(iconPath, argTxtBold, argTxtPlain){\n\t\treturn (\n\t\t\t<p className=\"CheckedDescrArg\">\n\t\t\t\t<img src={iconPath} className=\"IconCHCKDDESCRARG\"/>\n\t\t\t\t<span className=\"BoldCHCKDDESCRARG\">\n\t\t\t\t\t{argTxtBold}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"PlainCHCKDDESCRARG\">\n\t\t\t\t\t{argTxtPlain}\n\t\t\t\t</span>\n\t\t\t</p>\n\t\t);\n\t}\n\tfunction genRightArrowDescrArg(argTxtBold, argTxtPlain){\n\t\treturn genIconDescrArg(getRightArrowImgPath(), argTxtBold, argTxtPlain);\n\t}\n\tfunction genCheckedDescrArg(argTxtBold, argTxtPlain){\n\t\treturn genIconDescrArg(getCheckImgPath(), argTxtBold, argTxtPlain);\n\t}\n\tfunction genElapsingDescr(){\n\t\tconst dscr = (\n\t\t\t<>with Kubu you can load an inspect not just the content\n\t\t\t  of the current directory but also the content of\n\t\t\t  all its sub directories and its ancestors. <br/>\n\t\t\t  This makes working in directories much more comfortable,\n\t\t\t  especially in cases where you want to copy/move/drag&drop files from\n\t\t\t  one folder to another.\n\t\t\t</>);\n\t\treturn (\n\t\t\t<div className=\"DescrKubu\">\n\t\t\t\t{dscr}\n\t\t\t</div>\n\t\t);\n\t}\n\tfunction genFileManipDescr(){\n\t\tconst dscr0 = genCheckedDescrArg('zip', '- zip files located in different folders');\n\t\tconst dscr1 = genCheckedDescrArg('extract', '- extract zip files');\n\t\tconst dscr2 = genCheckedDescrArg('drag & drop', '- move files comfortably from one folder to another via drag & drop');\n\t\tconst dscr3 = genCheckedDescrArg('rename', '- rename files and folders');\n\t\tconst dscr4 = genCheckedDescrArg('terminal', '- open terminals of selected folders');\n\t\tconst dscr5 = genRightArrowDescrArg('all with just a few clicks!');\n\t\treturn (\n\t\t\t<div className=\"DescrKubu\">\n\t\t\t\t{dscr0}\n\t\t\t\t{dscr1}\n\t\t\t\t{dscr2}\n\t\t\t\t{dscr3}\n\t\t\t\t{dscr4}\n\t\t\t\t{dscr5}\n\t\t\t</div>\n\t\t);\n\t}\n\tfunction genDeepSearchDescr(){\n\t\tconst dscr = (\n\t\t\t<>you can search for files in the current directory and Kubu\n\t\t\t  opens the tree structure with all the matches. <br/>\n\t\t\t  This way you retrieve all matching files and at the same\n\t\t\t  time you can see where they are located.\n\t\t\t</>);\n\t\treturn (\n\t\t\t<div className=\"DescrKubu\">\n\t\t\t\t{dscr}\n\t\t\t</div>\n\t\t);\n\t}\n\tfunction genMultiWindowingDescr(){\n\t\tconst dscr = (\n\t\t\t<>in Kubu you can split the main window into as many subwindows\n\t\t\t  as you wish and freely resize them. <br/>\n\t\t\t  Kubu also supports tabs to simultaneously work in as many\n\t\t\t  folders as possible.\n\t\t\t</>);\n\t\treturn (\n\t\t\t<div className=\"DescrKubu\">\n\t\t\t\t{dscr}\n\t\t\t</div>\n\t\t);\n\t}\n\tfunction genDescrHeading(hdng){\n\t\treturn (\n\t\t\t<div className=\"DescrHeadingKubu\">\n\t\t\t\t{hdng}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tfunction genSnapStoreDownloadButton(){\n\t\treturn (\n\t\t\t<a href={snapURL}>\n\t\t\t\t<img alt=\"Get it from the Snap Store\" src=\"https://snapcraft.io/static/images/badges/en/snap-store-black.svg\" />\n\t\t\t</a>\n\t\t);\n\t}\n\n\tfunction genDownloadButton(button, descr, onClicked){\n\t\treturn (\n\t\t\t<div className=\"DownloadBtnKUBU\"\n\t\t\t\t onClick={onClicked}\n\t\t\t>\n\t\t\t\t{button}\n\t\t\t\t<div className=\"DownloadBtnTxtKUBU\">\n\t\t\t\t\t{descr}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tfunction onSnapClicked(){\n\t\topenInNewTabOrWindow( snapURL );\n\t}\n\tfunction onAppImageCLicked(){\n\t\topenInNewTabOrWindow( appImageURL );\n\t}\n\tfunction onDebClicked(){\n\t\topenInNewTabOrWindow( debURL );\n\t}\n\tfunction openInNewTabOrWindow(url){\n\t\twindow.open( url, \"_blank\"); \n\t}\n\tconst elapsingDescrHdng = genDescrHeading('Inspect Subfolders');\n\tconst elapsingDescr = genElapsingDescr();\n\t\n\tconst fileManipHdng = genDescrHeading('File Manipulation');\n\tconst fileManipDescr = genFileManipDescr();\n\n\tconst deepSearchHdng = genDescrHeading('Deep Search');\n\tconst deepSearchDescr = genDeepSearchDescr();\n\n\tconst mltiWndwHdng = genDescrHeading('Tabs & Split Windows');\n\tconst mltiWndwDescr = genMultiWindowingDescr();\n\n\tconst appImgBtn = (\n\t\t<div className=\"DownloadBtnImgDivKUBU\">\n\t\t\t<img \n\t\t\t\tsrc={getAppImageIconPath()}\n\t\t\t\tclassName=\"DownloadBtnImgKUBU\"\n\t\t\t/>\n\t\t</div>\n\t);\n\tconst debBtn = (\n\t\t<div className=\"DownloadBtnImgDivKUBU\">\n\t\t\t<img \n\t\t\t\tsrc={getDebIconPath()}\n\t\t\t\tclassName=\"DownloadBtnImgKUBU\"\n\t\t\t/>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className=\"MainKUBU\">\n\t\t\n\t\t\t<div id=\"KubuIconContainer\">\n\t\t\t\t<img id=\"KubuIcon\"\n\t\t\t\t\t\tsrc={KubuIcon} \n\t\t\t\t\t\talt='KubuIcon'/>\n\t\t\t</div>\n\t\t\t\n\t\t\t{genSeparator()}\n\t\t\t\n\t\t\t<div id=\"CarouselDivKUBU\">\n\t\t\t\t<div id=\"CarouselKUBU\">\n\t\t\t\t\t<Carousel\n\t\t\t\t\t\timgPaths={ getImagePaths() }\n\t\t\t\t\t\timgRatio={imgRatio}\n\t\t\t\t\t\tdelay={3000}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div id=\"CarouselDescrKubu\">\n\t\t\t\t\t<div id=\"DescrHeadingKUBU\">\n\t\t\t\t\t\t<span className=\"ProgramNameKUBU\">\n\t\t\t\t\t\t\tKubu\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"ProgramHeadingKUBU\">\n\t\t\t\t\t\t\tfile manager\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"CarouselDescrTxtKubu\">\n\t\t\t\t\t\tKubu is a powerful cross platform file manager.\n\t\t\t\t\t\tIt puts emphasis on a clean look and ease of use.\n\t\t\t\t\t\tBeing a Electron.js-application, you can\n\t\t\t\t\t\texperience the same look and feel on all common platforms.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<VideoDescr\n\t\t\t\teven={true}\n\t\t\t\tdescrOnLeft={false}\n\t\t\t\tvideoPaths={ kubuVideoGnrtr('_elapse') }\n\t\t\t\timgPath={ kubuImageGnrtr('_inspect', '.jpg') }\n\t\t\t\theading={elapsingDescrHdng}\n\t\t\t\tdescrComps={elapsingDescr}\n\t\t\t/>\n\n\t\t\t<div className=\"GifedDescrDivKUBU odd\">\n\t\t\t\t<VideodDescription\n\t\t\t\t\tdescrOnLeft={true}\n\t\t\t\t\tvideoPaths={ kubuVideoGnrtr('_fileManip') }\n\t\t\t\t\timgPath={ kubuImageGnrtr('_inspect', '.jpg') }\n\t\t\t\t\theading={fileManipHdng}\n\t\t\t\t\tdescrComps={fileManipDescr}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"GifedDescrDivKUBU even\">\n\t\t\t\t<VideodDescription\n\t\t\t\t\tdescrOnLeft={false}\n\t\t\t\t\tvideoPaths={ kubuVideoGnrtr('_search') }\n\t\t\t\t\timgPath={ kubuImageGnrtr('_search', '.jpg') }\n\t\t\t\t\theading={deepSearchHdng}\n\t\t\t\t\tdescrComps={deepSearchDescr}\n\t\t\t\t/>\n\t\t\t</div>\n\n\n\t\t\t<div className=\"GifedDescrDivKUBU odd\">\n\t\t\t\t<VideodDescription\n\t\t\t\t\tdescrOnLeft={true}\n\t\t\t\t\tvideoPaths={ kubuVideoGnrtr('_windowing') }\n\t\t\t\t\timgPath={ kubuImageGnrtr('_windowing', '.jpg') }\n\t\t\t\t\theading={mltiWndwHdng}\n\t\t\t\t\tdescrComps={mltiWndwDescr}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div id=\"DownloadsDivKUBU\">\n\t\t\t\t<div id=\"DownloadsHeadingKUBU\">\n\t\t\t\t\tDownloads\n\t\t\t\t</div>\n\t\t\t\t<div id=\"DownloadButtonsGrid\">\n\t\t\t\t\t{genDownloadButton(genSnapStoreDownloadButton(), 'Linux snap 64-bit', onSnapClicked)}\n\t\t\t\t\t{genDownloadButton(appImgBtn, 'Linux AppImage 64-bit', onAppImageCLicked)}\n\t\t\t\t\t{genDownloadButton(debBtn, 'Linux deb-package 64-bit', onDebClicked)}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"DownloadsFooterKUBU\">\n\t\t\t\t\t(Kubu will soon be available for Windows and iOS)\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\n\t);\n}\n\nexport default withRouter(Kubu);\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\n//import meta_info from './info.txt';\nimport MainImage from './MainImage.png';\nimport SecondImage from './SecondImage.png';\nimport CurtainButton from '../CurtainButton';\nimport './ReferenceManager.css';\n\nclass ReferenceManager extends Component{\n\tconstructor(args){\n\t\tsuper(args);\n\t\t\n\t\tthis.downloadReferendeManager = this.downloadReferendeManager.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\twindow.scrollTo(0, 0);\n\t}\n\tdownloadReferendeManager(){\n\t\twindow.open('https://github.com/MrSoir/ReferenceManager/archive/master.zip', '_blank');\n\t}\n\trender(){\n\t\tlet programInfo = <p>There are definetely greate reference managers available. But while offering great features\n\t\t\t\t\t\t\t\t\tfor keeping your references managed, they all use the classical approach of presenting your \n\t\t\t\t\t\t\t\t\treferences in plain lists. My reference Manager is quite the other way around. It puts empahsize\n\t\t\t\t\t\t\t\t\ton presenting the refences and puts them into relationship while keeping other features basic.\n\t\t\t\t\t\t\t\t\tMy Manager organizes your references like a mind map. So\tyou can organize your literature sources by topic, content or whatever makes sense to \n\t\t\t\t\t\t\t\t\tyou. Additionally, you can add plenty of personal notes to each reference and specify \n\t\t\t\t\t\t\t\t\tto which page this note refers to. You can even link references with one another: which \n\t\t\t\t\t\t\t\t\tliterature source references another, on what page does it cite the other source and why \n\t\t\t\t\t\t\t\t\tis that important to you - just add another personal note.\n\t\t\t\t\t\t\t\t</p>;\n\t\tlet mainImageInfo = <p>The screenshot gives you an idea of how the Reference Manager works. \n\t\t\t\t\t\t\t\t\t  References are grouped together by topics (green boxes). Each Topic can \n\t\t\t\t\t\t\t\t\t  contain any number of references (blue boxes).\n\t\t\t\t\t\t\t\t\t  <br/>\n\t\t\t\t\t\t\t\t\t  You can read the screenshot as follows: The Topic \n\t\t\t\t\t\t\t\t\t  'Domestic Effects of Multinationals' contains one reference: \n\t\t\t\t\t\t\t\t\t  'Domestic Effects of the Foreign Activities of U.S. Multinationals' \n\t\t\t\t\t\t\t\t\t  by Deasi et. al, published in 2009. The article is cited by 'A Modern \n\t\t\t\t\t\t\t\t\t  Corporate Tax' by Auerbach on page 15 and itself cites 'The Use Of \n\t\t\t\t\t\t\t\t\t  Neturalities in International Tax Policy' by David A. Weisbach on page 21.'\n\t\t\t\t\t\t\t\t </p>;\n\t\tlet scndImgLst = [\"Title\", \n\t\t\t\t\t\t\t\t\"Author\",\n\t\t\t\t\t\t\t\t\"Year of publication\",\n\t\t\t\t\t\t\t\t\"Details about the journal/book that published the article: Title, year, page numbers etc.\",\n\t\t\t\t\t\t\t\t\"Local file path: If you have stored the file on your local drive, e.g. as a PDF, EPUB etc. you can open the file by clicking on the path, so you don't have to lookup the file on your filesystem.\",\n\t\t\t\t\t\t\t\t\"Personal notes: Each note is composed of the page numbers the note refers to and the actual note.\"];\n\t\tlet installationInfo = <p>\n\t\t\t\t\t\t\t\t\t\tThe Program is written in Java, so it is cross platform an runs on Windows, Mac and Linux. \n\t\t\t\t\t\t\t\t\t\tJust make sure you have installed Java version 8 or higher on your computer.\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\tClick the download-button and it will download a zipped file: \n\t\t\t\t\t\t\t\t\t\t'ReferenceManager.zip'. Extract the zip-file in a folder of your choice. \n\t\t\t\t\t\t\t\t\t\tThe zip contains a file called 'RefManager.jar'. This a runnable jar file. \n\t\t\t\t\t\t\t\t\t\tThere are plenty of ways of launching a .jar-file, e.g. have a look at:&nbsp;\n\t\t\t\t\t\t\t\t\t\t<a href=\"https://www.youtube.com/watch?v=Glhw_wZ36oI\">\n\t\t\t\t\t\t\t\t\t\t\twww.youtube.com/watch?v=Glhw_wZ36oI\n\t\t\t\t\t\t\t\t\t\t</a>. \n\t\t\t\t\t\t\t\t\t\tFor Linux-Users it's pretty simple: You can run the application by simply \n\t\t\t\t\t\t\t\t\t\tdouble clicking on it. If it doesn't launch the program you maybe have to add permissions \n\t\t\t\t\t\t\t\t\t\tto execute the file: right-click on RefManager.jar -> Properties -> \n\t\t\t\t\t\t\t\t\t\tPermissions-tab -> check 'Allow executing file as program'.\n\t\t\t\t\t\t\t\t\t  </p>;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"ProgramHeading\">\n\t\t\t\t\tReference Manager\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"ProgramDescription\">\n\t\t\t\t\t{programInfo}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"RefManSeparator\"/>\n\t\t\t\t\n\t\t\t\t<div id=\"MainImageDivRM\">\n\t\t\t\t\t<img id=\"MainImageRM\"\n\t\t\t\t\t\t  src={MainImage}\n\t\t\t\t\t\t  alt=\"logo\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"ProgramDescription\">\n\t\t\t\t\t{mainImageInfo}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<div className=\"RefManSeparator\"/>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<div id=\"SecondImageBlockRM\">\n\n\t\t\t\t\t<img id=\"SecondImageRM\"\n\t\t\t\t\t\t  src={SecondImage}\n\t\t\t\t\t\t  alt=\"logo\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div id=\"SecondImageInfoRM\"\n\t\t\t\t\t\t  className=\"ProgramDescriptionSmall\">\n\t\t\t\t\t\t  \n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tHere is a detailed example of a reference. It's content is divided into the following topics:\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<ol id=\"SecondImageListRM\">\n\t\t\t\t\t\t\t{scndImgLst.map((itm, id)=><li className=\"SecondImageListInfoRM\" key={id}>{itm}</li>)}\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"RefManSeparator\"/>\n\t\t\t\t\n\t\t\t\t<CurtainButton text=\"Download\"\n\t\t\t\t\t\t\t\t\tonClick={this.downloadReferendeManager}/>\n\t\t\t\t\n\t\t\t\t<div className=\"FootNote\">\n\t\t\t\t\t{installationInfo}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(ReferenceManager);\n","import React, {Component} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport {readTextFile} from '../StaticFunctions';\nimport './ImagedPreviews.css';\n\n// the following props must be handed over to ImagedPreviews:\n//\t\t1. baseName: e.g. Kubu or Ballin or...\n//\t\t2. meta_info_path: the info.txt-path, e.g. './Kubu/info.txt'\n\nclass ImagedPreviews extends Component {\n  constructor() {\n    super();\n\n    this.data = [];\n  }\n  componentWillMount() {\n    let txt = readTextFile(this.props.meta_info_path);\n\n    let info_lines = txt.split('\\n').filter((tn) => !!tn);\n    // first line in info_lines gives the number of images to render for Ballin'GL\n    let imgCount = parseInt(info_lines[0].split(' ').filter(s => !!s).slice(-1)[0]);\n    console.log('imgCount: ', imgCount);\n\n    let data = [];\n    let f = (fileBaseName) => {\n      let img_path = process.env.PUBLIC_URL + '/' + this.props.baseName + '/pics/' + fileBaseName + '.png';\n      let info_text_path = process.env.PUBLIC_URL + '/' + this.props.baseName + '/' + fileBaseName + '.txt';\n      let info_text = this.parseData(readTextFile(info_text_path));\n      return {name: fileBaseName, img_path: img_path, heading: info_text.heading, text: info_text.text};\n    };\n    for (let i = 0; i < imgCount; ++i) {\n      data.push(f(this.props.baseName + i));\n    }\n    console.log('ImagedPreview.data: ', data);\n    for (let i = 0; i < data.length; ++i) {\n      console.log('data ' + i + ': ', data[i]);\n    }\n\n    this.data = data;\n  }\n  parseData(txt) {\n    let paragraphs = txt.split('\\n').filter(s => !!s);\n    let heading = paragraphs[0];\n    paragraphs = paragraphs.splice(1);\n    let composedTxt = '';\n    for (let i = 0; i < paragraphs.length; ++i) {\n      composedTxt += paragraphs[i];\n      if (i < paragraphs.length - 1) {\n        composedTxt += '<br/>';\n      }\n    }\n    composedTxt = <span dangerouslySetInnerHTML={{\n        __html: composedTxt\n      }}/>\n    return {heading: heading, text: composedTxt};\n  }\n  render() {\n    return (<div>\n      {this.data.map((da, id) => <Preview key={id} name={da.name} image_path={da.img_path} heading={da.heading} text={da.text} separator={id < this.data.length - 1}/>)}\n    </div>);\n  }\n}\n\nclass Preview extends Component {\n  constructor() {\n    super();\n\n    this.onClick = this.onClick.bind(this);\n  }\n  onClick() {\n    let name = this.props.name;\n    console.log(name);\n  }\n\n  render() {\n    let sep = this.props.separator\n      ? <div className=\"Separator\"></div>\n      : '';\n    return (<div>\n      <div className=\"PreviewContainer\">\n        <img src={this.props.image_path} alt=\"logo\" className=\"PreviewImage\" onClick={this.onClick}/>\n        <div className=\"PreviewText PreviewTextSizing\">\n          <u className=\"PreviewTextHeading PreviewHeadingSizing\">\n            {this.props.heading}\n          </u>\n          :\n          <p className=\"PreviewTextHeadingSpace\"/>{this.props.text}\n        </div>\n      </div>\n      {sep}\n    </div>);\n  }\n}\n\nexport default withRouter(ImagedPreviews);\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport meta_info from './info.txt';\nimport ImagedPreviews from '../ImagedPreviews/ImagedPreviews';\nimport './Notes.css';\nimport CurtainButton from '../CurtainButton';\n\nclass Notes extends Component{\n\tconstructor(args){\n\t\tsuper(args);\n\t\tthis.downloadNotes = this.downloadNotes.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\twindow.scrollTo(0, 0);\n\t}\n\tdownloadNotes(){\n\t\twindow.open('https://github.com/MrSoir/HandWriting/archive/master.zip', '_blank');\n\t}\n\trender(){\n\t\tlet installationInfo = <p>\n\t\t\t\t\t\t\t\t\t  \t\tThe Program is written in Python3 making it a cross platform application. It runs on Windows, Mac and Linux.\n\t\t\t\t\t\t\t\t\t  \t\t <br/>\n\t\t\t\t\t\t\t\t\t  \t\t Just make sure Python3 alonside the famous python-packages Numpy, Scipy and PyQt5 is installed on your system.\n\t\t\t\t\t\t\t\t\t  </p>;\n\t\treturn (\n\t\t\t<div className=\"Notes\">\n\t\t\t\t<div className=\"ProgramHeading\">\n\t\t\t\t\tNotes\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<ImagedPreviews baseName=\"Notes\"\n\t\t\t\t\t\t\t\t\tmeta_info_path={meta_info}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<div className=\"SmallSeparator\"/>\n\t\t\t\t\n\t\t\t\t<CurtainButton text=\"Download\"\n\t\t\t\t\t\t\t\t\tonClick={this.downloadNotes}/>\n\t\t\t\t\n\t\t\t\t<div className=\"FootNote\">\n\t\t\t\t\t{installationInfo}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Notes);\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport meta_info from './info.txt';\nimport './SlideShow.css';\nimport '../SlideShow.css';\nimport {readTextFile} from '../StaticFunctions';\nimport CurtainButton from '../CurtainButton';\nimport * as WAITINGBAR  from '../WaitingBar/WaitingBar';\nimport WaveWaitingBar from '../WaveWaitingBar/WaveWaitingBar';\n\n//import {SlideShowGL} from '../SlideShowGL/SlideShowGL';\n//const SlideShowGL = require('slideshowgl');\nconst SlideShowGL = require('../SlideShowGL');\n\n\nclass SlideShow extends Component{\n\tconstructor(args){\n\t\tsuper(args);\n\n\t\tthis.imgPaths = [];\n\t\tthis.images = [];\n\t\tthis.imgsLoading = 0;\n\n\t\tthis.startAnim = this.startAnim.bind(this);\n\t\tthis.stopAnim = this.stopAnim.bind(this);\n\t\tthis.setAnimationID = this.setAnimationID.bind(this);\n\t\tthis.compDidMnt = false;\n\n\t\tthis.loadImages = this.loadImages.bind(this);\n\t\tthis.loadImage = this.loadImage.bind(this);\n\t\tthis.imagesLoaded = this.imagesLoaded.bind(this);\n\n\t\tthis.onImagesLoaded = this.onImagesLoaded.bind(this);\n\t\tthis.onErrorOccured = this.onErrorOccured.bind(this);\n\t\tthis.onWebGL_InitError = this.onWebGL_InitError.bind(this);\n\n\t\tthis.downloadCode = this.downloadCode.bind(this);\n\n//\t\tthis.onCanvasResize = this.onCanvasResize.bind(this);\n\n\t\tthis.loadingDiv = React.createRef();\n\t\tthis.loadingMsg = 'loading...';\n\n\t\tthis.state = {\n\t\t\tselctdAnimID: 'Wave2',\n\t\t\tstopWaitingBar: false\n\t\t};\n\t}\n\tloadImages(){\n\t\tthis.imgsLoading = this.imgPaths.length;\n\t\tconsole.log('loadImages -> imgsLoading: ', this.imgsLoading);\n\n\t\tthis.imgPaths.map((pth, id)=>{\n\t\t\tthis.loadImage(id);\n\t\t});\n\t}\n\tloadImage(id){\n\t\tlet image = new Image();\n\n\t\tlet onImgLded = (evnt=>{\n\t\t\tthis.images[id] = image;\n\t\t\tthis.imgsLoading -= 1;\n\t\t\tconsole.log('image loaded -> imgsLoading: ', this.imgsLoading);\n\t\t\tif(this.imgsLoading === 0 &&\n\t\t\t\tthis.sldShw && this.sldShw.supportsWebGL2()){\n\n\t\t\t\tthis.onImagesLoaded();\n\t\t\t}\n\t\t}).bind(this);\n\t\timage.addEventListener('load', onImgLded);\n\n\t\timage.src = this.imgPaths[id];\n\t}\n\timagesLoaded(){\n\t\treturn this.imgsLoading === 0;\n\t}\n\tcomponentWillMount(){\n\t\tthis.animationIDs = SlideShowGL.getAnimationIdentifiers();\n\n\t\tlet txt = readTextFile(meta_info);\n\n\t\tlet info_lines = txt.split('\\n').filter((tn)=>!!tn);\n\t\t// first line in info_lines gives the number of images to render for Ballin'GL\n\t\tlet imgCount   = parseInt(info_lines[0].split(' ').filter(s=>!!s).slice(-1)[0]);\n\n   \tlet f = (id)=>{\n   \t\tlet imgPath = process.env.PUBLIC_URL + '/SlideShow/pics/HippoPreview'  + id + '.jpg';\n   \t\tthis.imgPaths.push( imgPath );\n   \t};\n   \tfor(let i=0; i < imgCount; ++i){\n   \t\tf(i);\n   \t}\n\n   \tconsole.log('componentWillMount -> loading images...');\n   \tthis.loadImages();\n\n//   \twindow.addEventListener(\"resize\", this.onCanvasResize);\n   }\n   componentDidMount(){\n   \twindow.scrollTo(0, 0);\n\n   \tthis.sldShw  = new SlideShowGL('slideShowCanvas');\n//   \tthis.sldShw.onImagesLoaded = this.onImagesLoaded;\n   \tthis.sldShw.onWebGL_InitError = this.onImagesLoaded;\n\n   \tthis.compDidMnt = true;\n   \tconsole.log('component did mount');\n\n\t\tif(this.sldShw.supportsWebGL2()){\n\t\t\tif(this.imagesLoaded()){\n\t\t\t\tthis.startAnim();\n\t\t\t}\n\t   }else{\n\t   \tthis.onWebGL_InitError();\n\t   }\n   }\n   componentWillUnmount(){\n   \tthis.stopAnim();\n   }\n\tdownloadCode(){\n\t\twindow.open('https://www.npmjs.com/package/slideshowgl');//'https://github.com/MrSoir/SlideShowGL/archive/master.zip', '_blank');\n\t}\n\tstartAnim(){\n\t\tif( !(this.sldShw && this.sldShw.supportsWebGL2()) ){\n\t\t\tconsole.log('SlideShow::startAnim -> sldShw not valid or does not support WebGL2 => exiting startAnim!!!');\n\t\t\treturn\n\t\t}\n\n\t\tlet fastAnimation = this.state.selctdAnimID === 'Scale' \t\t\t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'Cyclone' \t\t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'Flip' \t\t\t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'Tile' \t\t\t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'TileDelayed' \t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'TileRandom' \t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'Mirror' \t\t||\n\t\t\t\t\t\t\t\t  this.state.selctdAnimID === 'CenterSplit';\n\t\tlet smallPolygonSplit = this.state.selctdAnimID === 'Scale' ||\n\t\t\t\t\t\t\t\t  \t\tthis.state.selctdAnimID === 'Flip' ||\n\t\t\t\t\t\t\t\t  \t\tthis.state.selctdAnimID === 'Tile' ||\n\t\t\t\t\t\t\t\t  \t\tthis.state.selctdAnimID === 'TileDelayed' ||\n\t\t\t\t\t\t\t\t  \t\tthis.state.selctdAnimID === 'TileRandom' ||\n\t\t\t\t\t\t\t\t  \t\tthis.state.selctdAnimID === 'Mirror';\n\n\t\tlet imgPaths = this.imgPaths;\n\t\tlet imgs = this.images;\n\t\tlet animationDuration = 1000 * (fastAnimation ? 3 : 10);\n\t\tlet delayDuration = 2000;\n\t\tlet slMeta = {\n\t\t\t// mandatory:\n//\t\t\timgPaths: imgPaths,\n\t\t\timages: imgs,\n\t\t\t// optional:\n\t\t\tanimationDuration: animationDuration,\n\t\t\tdelayDuration: delayDuration,\n\t\t\tbackgroundColor: [0,0,0, 0.0],\n\t\t\tanimationType: this.state.selctdAnimID,\n\t\t\tsplitDepth: smallPolygonSplit ? 10 : 16 // 15\n\t\t};\n\t\tlet startedSuccessfully = this.sldShw.startAnimation(slMeta);\n\t\tif( !startedSuccessfully ){\n\t\t\tthis.onErrorOccured();\n\t\t}\n\t}\n\tstopAnim(){\n\t\tthis.sldShw.stopAnimation();\n\t}\n/*\tonCanvasResize(){\n\t\tconsole.log('canvas resized!!!');\n\t\tsldShw.onCanvasResize();\n\t}*/\n\n\tonErrorOccured(){\n\t\tconst warningNode = document.querySelectorAll('#loadingDivMsgSS')[0];\n\t\twarningNode.innerHTML = `Sorry, your browser <br/> doesn't seem to like <br/> WebGL2...`;\n\t}\n\tonWebGL_InitError(){\n\t\tconst warningNode = document.querySelectorAll('#loadingDivMsgSS')[0];\n\t\twarningNode.innerHTML = `Sorry, your browser <br/> doesn't support <br/> WebGL2!`;\n\t}\n\tonImagesLoaded(){\n\t\tsetTimeout(()=>{\n\t\t\tconst loadingDiv = this.loadingDiv.current;\n\t\t\tif(!loadingDiv)return;\n\t\t\tloadingDiv.style.display = 'none';\n\t\t\tloadingDiv.style.animationPlayState = 'paused';\n\t\t\tthis.setState({stopWaitingBar: true});\n\t\t\tif(this.compDidMnt){\n\t\t\t\tthis.startAnim();\n\t\t\t}\n\t\t}, 3000);\n\t}\n\tsetAnimationID(animID){\n\t\tlet state = this.state;\n\t\tif(state.selctdAnimID != animID){\n\t\t\tstate.selctdAnimID = animID;\n\t\t\tthis.setState(state);\n\t\t\tthis.sldShw.onStoppingAnimation = (()=>{\n\t\t\t\tthis.sldShw.onStoppingAnimation = undefined;\n\t\t\t\tthis.startAnim();\n\t\t\t}).bind(this);\n\t\t\tthis.sldShw.stopAnimation();\n\t\t}\n\n\t}\n\trender(){\n\t\tlet installationInfo = <p>\n\t\t\t\t\t\t\t\t\t  \t\tThe Program is written in Python3 making it a cross platform application. It runs on Windows, Mac and Linux.\n\t\t\t\t\t\t\t\t\t  \t\t <br/>\n\t\t\t\t\t\t\t\t\t  \t\t Just make sure Python3 alonside the famous python-packages Numpy, Scipy and PyQt5 is installed on your system.\n\t\t\t\t\t\t\t\t\t  </p>;\n\n\t\tlet info = \t<p id=\"SlideShowInfo\"\n\t\t\t\t\t\t\tclassName=\"ProgramDescription\">\n\t\t\t\t\t\t\tA little while ago I discovered WebGL2. It's an amazing framework for rendering 3D-graphics.\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\tBecause the standard CSS-animations are quite limited, I wrote a little library to calculate and\n\t\t\t\t\t\t\trender some advanced image transformations. The above demo demonstrates it's capabilities.\n\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\tThe library ist highly optimized. The demo renders 2^16 = 65,536 polygons every single frame and still achieves the maximum of 60 fps\n\t\t\t\t\t\t\tthat modern browsers support (on mobile devices only 2^13 = 8,192 are rendered, some old smartphones seem to struggle with larger Javascript-arrays).\n\t\t\t\t\t\t\tOn a standard latop the library performs 60 fps up to 2^19 = 524,288 polygons.\n\t\t\t\t\t\t\tOn my 5-year-old laptop the performance started to drop to still reasonable 55 fps while rendering 2^20 = 1,048,576 polygons. But this is rather a\n\t\t\t\t\t\t\ttheoretcial limit. Splitting the image into more than 1 million polygons is somewhat pointless because the eye won't recognize any difference at that high level of detail.\n\t\t\t\t\t\t\tSo the library is sufficiently fast even for computationally expensive transformation algorithms.\n\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\tWith this library you can compute almost any image transformation. You only have\n\t\t\t\t\t\t\tto write a small part of the GLSL-shader-code that computes the actual transformations.\n\t\t\t\t\t\t\tThe library takes care of all the rest, i.e. loading WebGL2 components, attributes, uniforms and\n\t\t\t\t\t\t    images as textures. I've also implemented several functions in the GLSL-shader-code that make some of the most common 3D-calculations easier\n\t\t\t\t\t\t   (e.g. computing rotation matrices using quaternions).\n\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\tThe library is also useful for non-programmers. If you are a web-devoloper, you can easily\n\t\t\t\t\t\t\tembed this library in your website and choose from the already implemented transformation algorithms.\n\t\t\t\t\t\t\tIt requires only few lines of code. The above demo is embedded in this\n\t\t\t\t\t\t\twebsite (created with the awesome React.js-framework) with just 4 lines of code.\n\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\tThis code is free of any license. You are free to modify this code and use it in your projects/homepages!\n\t\t\t\t\t\t\tI published the library as a npm-package. Detailed instructions on how to install and use SlideShowGL can be found here:\n\t\t\t\t\t  \t</p>;\n\n\t\treturn (\n\t\t\t<div id=\"SlideShow\">\n\t\t\t\t<div className=\"ProgramHeading\">\n\t\t\t\t\tSlideShow\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"AnimationKeyHeading PlainTextSize\">\n\t\t\t\t\tSelect an animation:\n\t\t\t\t\t<div className=\"AnimationKeyButtons PlainTextSize\">\n\t\t\t\t\t\t{this.animationIDs.sort().map(animID=>{\n\t\t\t\t\t\t\tlet clsNme = \"AnimKeyBtn\" + (animID === this.state.selctdAnimID ? \" AnimKeyBtnSelected\" : \"\");\n\t\t\t\t\t\t\treturn <div className={clsNme}\n\t\t\t\t\t\t\t\t\t\t\tkey={animID}\n\t\t\t\t\t\t\t\t\t\t\tonClick={()=>{this.setAnimationID(animID);}}>\n\t\t\t\t\t\t\t\t\t\t{animID}\n\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br/>\n\n\t\t\t\t<div id=\"canvasDiv\">\n\t\t\t\t\t<div id=\"loadingDivSS\" ref={this.loadingDiv}>\n\t\t\t\t\t\t<div id=\"WaitingBarDivSS\">\n\t\t\t\t\t\t\t<WaveWaitingBar\n\t\t\t\t\t\t\t\tr={0}\n\t\t\t\t\t\t\t\tg={1}\n\t\t\t\t\t\t\t\tb={0}\n\t\t\t\t\t\t\t\troundedEdges={false}\n\t\t\t\t\t\t\t\tstop={this.state.stopWaitingBar}\n\t\t\t\t\t\t\t/>\n\t\t\t\t    </div>\n\n\t\t\t\t\t\t{/*<div id=\"loadingDivMsgSS\">\n\t\t\t\t\t\t\t{this.loadingMsg}\n\t\t\t\t\t\t</div>*/}\n\t\t\t\t\t</div>\n\t\t\t\t\t<canvas id=\"slideShowCanvas\"/>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"CredentialsDiv\"\n\t\t\t\t\t  className=\"PlainTextSize\">\n\t\t\t\t\t<div id=\"ImageCredentialsHeading\"\n\t\t\t\t\t\t\tclassName=\"PlainTextSize\">\n\t\t\t\t\t\tImages from\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"ImageCredentials\">\n\t\t\t\t\t\t<a className=\"ImageCredentialTag\"\n\t\t\t\t\t\t\thref=\"https://unsplash.com/@pawel_czerwinski?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\"\n\t\t\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t\t\tPawe Czerwiski\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className=\"ImageCredentialInset\"/>\n\t\t\t\t\t\t<a className=\"ImageCredentialTag\"\n\t\t\t\t\t\t\thref=\"https://unsplash.com/@lkverwoerd?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\"\n\t\t\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t\t\tLisette Verwoerd\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className=\"ImageCredentialInset\"/>\n\t\t\t\t\t\t<a className=\"ImageCredentialTag\"\n\t\t\t\t\t\t\thref=\"https://unsplash.com/@the_bracketeer?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\"\n\t\t\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t\t\tHendrik Cornelissen\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className=\"ImageCredentialInset\"/>\n\t\t\t\t\t\t<a className=\"ImageCredentialTag\"\n\t\t\t\t\t\t\thref=\"https://unsplash.com/@coffeebluv?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\"\n\t\t\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t\t\tMichael Rodock\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className=\"ImageCredentialInset\"/>\n\t\t\t\t\t\t<a className=\"ImageCredentialTag\"\n\t\t\t\t\t\t\thref=\"https://unsplash.com/@hebo79?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\"\n\t\t\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t\t\tHenning Borgersen\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className=\"ImageCredentialInset\"/>\n\t\t\t\t\t\t<a className=\"ImageCredentialTag\"\n\t\t\t\t\t\t\thref=\"https://unsplash.com/@huchenme?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge\"\n\t\t\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t\t\tChen Hu\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/*<div className=\"SmallSeparator\"/>*/}\n\n\t\t\t\t<div id=\"SliderShowCodeInfo\">\n\t\t\t\t\t{info}\n\t\t\t\t</div>\n\n\t\t\t\t<CurtainButton id=\"DownloadCode\"\n\t\t\t\t\t\t\t\t\ttext=\"SlideShowGL npm-package\"\n\t\t\t\t\t\t\t\t\tonClick={this.downloadCode}/>\n\n\t\t\t\t<div className=\"invisibleVertSep\"/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(SlideShow);\n","import React, {Component} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport {readTextFile} from '../StaticFunctions';\nimport meta_info from './info.txt';\nimport './ArduinoFullstack.css';\nimport CurtainButton from '../CurtainButton';\nimport ReactPlayer from 'react-player';\n\nclass ArduinoFullstack extends Component {\n  constructor(props) {\n    super(props);\n\n    this.goToArduinoHomepage = this.goToArduinoHomepage.bind(this);\n\n    this.state = {}\n  }\n  goToArduinoHomepage() {\n    window.location.href = 'https://create.arduino.cc/projecthub/MrSoir/fullstack-restful-m-ern-irrigation-system-159338';\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n  render() {\n    let video_path = process.env.PUBLIC_URL + '/ArduinoFullstack/Fullstack.mp4';\n    let video_img_path = process.env.PUBLIC_URL + '/ArduinoFullstack/irrigation.mp4';\n\n    let arduinosDesrcp = (<ul className=\"ulAFS\">\n      <li className=\"liAFS\">\n        an irrigation system that takes care of 7 plants on my balcony\n      </li>\n\n      <li className=\"liAFS\">\n        two WS2812b LED-strips that illuminate my living room.\n      </li>\n    </ul>);\n    let arduinoCornerstones = (<ul className=\"ulAFS\">\n      <li className=\"liAFS\">\n        <div className='CornerstonesNameAFS'>\n          Node.js/Express.js server:\n        </div>\n        <div className='CornerstonesDescrAFS'>\n          The server is running on a RaspberryPi (Zero W), saves all settings in a MongoDB database and forwards any changes in settings to the respective microcontrollers.\n        </div>\n      </li>\n\n      <li className=\"liAFS\">\n        <div className='CornerstonesNameAFS'>\n          Front-end:\n        </div>\n        <div className='CornerstonesDescrAFS'>\n          a React.js based website. On the website you can control the microcontrollers and track sensor data in real time.\n        </div>\n      </li>\n\n      <li className=\"liAFS\">\n        <div className='CornerstonesNameAFS'>\n          WiFi-capable Microcontrollers\n        </div>\n        <div className='CornerstonesDescrAFS'>\n          that make the devices 'smart' using relays and several sensors (moisture sensors, motion sensors etc.)\n        </div>\n      </li>\n    </ul>);\n    let disadvantages = (<ul id=\"DisadvantagesUlAFS\" className=\"ulAFS\">\n      <li className=\"liAFS DisadvantagesLiAFS\">\n        <div className='CornerstonesDescrAFS'>\n          Whenever you unplug an Arduino from the power supply, all settings will be lost and you have to re-configure the Arduino with the smartphone.\n        </div>\n      </li>\n\n      <li className=\"liAFS DisadvantagesLiAFS\">\n        <div className='CornerstonesDescrAFS'>\n          If you want to control the Arduino with multiple devices (smarphone, latop, tablet), you have to install and configure the app on every device. And you will probably run into compatibility issues - one app won't work on all of your devices (MS Windows computer vs Android Phone vs Mac Os Tablet).\n        </div>\n      </li>\n\n      <li className=\"liAFS DisadvantagesLiAFS\">\n        <div className='CornerstonesDescrAFS'>\n          There's no chance to keep the devices synchronized.\n        </div>\n      </li>\n    </ul>);\n    let advantages = (<ul id=\"DisadvantagesUlAFS\" className=\"ulAFS\">\n      <li className=\"liAFS AdvantagesLiAFS\">\n        <div className='CornerstonesDescrAFS'>\n          The first thing an Arduino does when it (re)boots is to automatically and autonomously request it's settings from the server.\n        </div>\n      </li>\n\n      <li className=\"liAFS AdvantagesLiAFS\">\n        <div className='CornerstonesDescrAFS'>\n          Because everything is controlled over the React.js website there's no need to install any software on the devices. Additionally, you don't need to update the devices' software after modifying the website or the server software.\n        </div>\n      </li>\n\n      <li className=\"liAFS AdvantagesLiAFS\">\n        <div className='CornerstonesDescrAFS'>\n          All devices are kept synchronzied. Even when multiple devices simultaneously operate on the website, updated data is instantaneously pushed to each device whenever any device modifies settings using technologies like Socket.io.\n        </div>\n      </li>\n    </ul>);\n    let infoText = <div className=\"ProgramDescription ArduinoFullStackInfoMargins\">\n      After several plants on my balcony died because I insufficiently irrigated them, I decided to create an automated irrigation system. Therefore I implemented a server-based approach to control several Microcontrollers in my household. The server runs on a Raspberry Pi Zero W. Arduino-compatible microcontrollers operate devices like a water pump and several sensors. So far, I've installed 2 Wemos D1 mini microcontrollers that control {arduinosDesrcp}\n      This is a three-tier system: {arduinoCornerstones}\n      The cool thing about this system is it let's you control and monitor all microcontrollers from any device that is connected to your local WiFi (laptop, smartphone, tablet, etc.). Usually Arduinos are controlled over the smartphone using thrid party apps link Blynk. This has several disadvantages. {disadvantages}\n      My MERN implementation overcomes all these issues. {advantages}\n      <div className=\"TextBlockAFS\">\n        I put emphasis on writing clean, modular code. The code that runs on the Arduinos is modularized and much of the code is exported to external libraries. The microcontrollers share a large portion of code despite the entirely different requirements (irrigation vs. LED-strips). Therefore the system is easily extensible and makes adding additional microcontrolers a breeze. You can use my code as is or as a starting point to implement your own custom solution.\n      </div>\n    </div>;\n\n    return (<div className=\"ArduinoFullStack\">\n      <div className=\"ProgramHeading\">Full stack RESTful MERN Arduino infrastructure</div>\n\n      {infoText}\n\n      <div id=\"VideoASF\">\n        <ReactPlayer width='100%' height='100%' playing=\"playing\" url=\"https://youtu.be/O4mRwfDxEPg\"/>\n      </div>\n      <div id=\"VideoDescriptionASF\">\n        a short video demonstrating the most siginificant features of my server-client based approach\n      </div>\n\n      <div id=\"DocBtnDescrAFS\" className=\"ProgramDescription ProgramDescriptionAFS\">\n        I published a detailed documentation on the official Arduino projecthub:\n      </div>\n\n      <div id=\"DocsBtnAFS\">\n        <CurtainButton text=\"go to detailed documentation\" onClick={this.goToArduinoHomepage}/>\n      </div>\n    </div>);\n  }\n}\n\nexport default withRouter(ArduinoFullstack);\n","import React, { Component } from 'react';\nimport * as THREE from 'three';\nimport './LineAnimation.css';\n\n\n\n//-------------------constants-------------------\n\nlet MATERIAL_COLOR = 0x00aa00;\nlet USE_PHONG = false;\nlet POINT_COUNT = 10;\n\n//-------------------constants-------------------\n\nconst {\n\tWebGLRenderer, Scene, PerspectiveCamera, Mesh, Color,\n\tVector3, SplineCurve, Path,\n} = THREE\n\nfunction genRandomFloat(mi, mx){\n\treturn (Math.random() * (mx - mi) + mi);\n}\n\nlet windowWidth \t= window.innerWidth;\nlet windowHeight \t= window.innerHeight;\n\nclass Webgl {\n\tconstructor(w, h) {\n\t\tthis.meshListeners = [];\n\n\t\tthis.renderer = new WebGLRenderer({ antialias: true, alpha: true });\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\n\n\t\tthis.scene = new Scene();\n\n\t\tlet cameraZ = 500;\n\n\t\tthis.camera = new PerspectiveCamera(45, w / h, 1, 1000);\n\t\tthis.camera.position.set(0, 0, cameraZ);\n\n\t\tthis.light = new THREE.DirectionalLight( 0xffffff );\n\t\tthis.light.position.set( -300, 0, cameraZ );\n\t\tthis.scene.add(this.light);\n\n\t\tthis.dom = this.renderer.domElement;\n\t\tthis.update = this.update.bind(this);\n\t\tthis.resize = this.resize.bind(this);\n\t\tthis.resize(w, h); // set render size\n\t}\n\tadd(mesh) {\n\t\tthis.scene.add(mesh);\n\t\tif (!mesh.update)\n\t\t\treturn;\n\t\tthis.meshListeners.push(mesh.update);\n\t}\n\taddCircle(mesh){\n\t\tthis.scene.add(mesh);\n\t\tif(!this.circles){\n\t\t\tthis.circles = [];\n\t\t}\n\t\tthis.circles.push(mesh);\n\t}\n\tclearCircles(){\n\t\tif(!this.circles){\n\t\t\treturn;\n\t\t}\n\t\tthis.circles.forEach(c=>{\n\t\t\tthis.scene.remove(c);\n\t\t});\n\t\tthis.circles.splice(0, this.circles.length);\n\t}\n\tremove(mesh) {\n\t\tthis.scene.remove(mesh);\n\n\t\tconst idx = this.meshListeners.indexOf(mesh.update);\n\t\tif (idx < 0){\n\t\t\treturn;\n\t\t}\n\t\tthis.meshListeners.splice(idx, 1);\n\n\t}\n\tupdate() {\n\t\tfor(let i=0; i < this.meshListeners.length; ++i){\n\t\t\tthis.meshListeners[i].apply();\n\t\t}\n\t\tthis.renderer.render(this.scene, this.camera);\n\t}\n\tresize(w, h) {\n\t\tthis.camera.aspect = w / h;\n\t\tthis.camera.updateProjectionMatrix();\n\t\tthis.renderer.setSize(w, h);\n\t}\n}\n/*const webgl = new Webgl(windowWidth, windowHeight);\ndocument.body.appendChild(webgl.dom);*/\n\nconst LINE_WIDTH = 1.5;\nconst COLOR_IDS = [\n\t0xff0000,\n\t0xff00ff,\n\t0x0000ff,\n\t0x00ff00,\n];\n\nfunction genMaterial(materialOptions={color: MATERIAL_COLOR,\n\t\t\t\t\t\t\tmetalness: 0.0,\n\t\t\t\t\t\t\troughness: 0.25}){\n\treturn (USE_PHONG\n\t\t\t\t? new THREE.MeshPhongMaterial(materialOptions)\n\t\t\t\t: new THREE.MeshBasicMaterial(materialOptions) );\n}\n\nclass PipeCurve extends THREE.Curve{\n\tconstructor(points){\n\t\tsuper();\n\t\tthis.points = points;\n\t\tthis.getPoint = this.getPoint.bind(this);\n\t}\n\tevalPointId(t){\n\t\treturn t * (this.points.length-1);\n\t}\n\tgetPoint(t){\n\t\tif(t === 0){\n\t\t\treturn this.points[0];\n\t\t}else if(t === this.points.length-1){\n\t\t\treturn this.points[this.points.length-1];\n\t\t}\n\n\t\tlet pid = this.evalPointId(t);\n\t\tlet lid = Math.floor(pid);\n\t\tlet uid = lid + 1;\n\t\tlet offs = pid % 1;\n\n\t\tif(uid === this.points.length){\n\t\t\treturn this.points[uid-1];\n\t\t}\n\n/*\t\tconsole.log('t: ', t, '\tpoints.length: ', this.points.length,\n\t\t\t\t\t\t'\tpid: ', pid, '\tlid: ', lid, '\tuid: ', uid, '\toffs: ', offs);*/\n\n\t\tlet lp = this.points[lid].clone();\n\t\tlet up = this.points[uid].clone();\n\n\t\tlet dst = up.clone().sub(lp);\n\n\t\treturn lp.add( dst.multiplyScalar(offs) );\n\n\n/*\t\tconsole.log('t: ', t);\n\t\tlet tx = t * 3 - 1.5;\n\t\tlet ty = Math.sin( 2 * Math.PI * t );\n\t\tlet tz = 0;\n\n\t\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( 50 );*/\n\t}\n}\n\nclass Pipe extends Mesh {\n\tconstructor(points, {\n\t\t\t\t\t\ttubularSegments = 6,\n\t\t\t\t\t\tradius = 1,\n\t\t\t\t\t\tradialSegments = 4,\n\t\t\t\t\t\tclosed = false,\n\t\t\t\t\t\tcolor = MATERIAL_COLOR\n\t\t\t\t\t}={}){\n\t\tlet path = new PipeCurve(points);\n\n\t\tlet geometry = new THREE.TubeGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t\tlet material = genMaterial({color});\n\n\t\tsuper(geometry, material);\n\n\t\tthis.points = points;\n\t}\n}\n\n\n//-------------------------\n\n\nclass LineAnimation extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.mainDivRef = React.createRef();\n\n\t\tthis.MAX_DIST = 500;\n\t\tthis.WEBGL_BOUNDARIES_WIDTH  = 1000;\n\t\tthis.WEBGL_BOUNDARIES_HEIGHT = 500;\n\t\tthis.WEBGL_BOUNDARIES_DEPTH = 800;\n\n\t\tthis.XMIN = -this.WEBGL_BOUNDARIES_WIDTH * 0.5;\n\t\tthis.XMAX =  this.WEBGL_BOUNDARIES_WIDTH * 0.5;\n\t\tthis.YMIN = -this.WEBGL_BOUNDARIES_HEIGHT * 0.4;\n\t\tthis.YMAX =  this.WEBGL_BOUNDARIES_HEIGHT * 0.4;\n\t\tthis.ZMIN = -this.WEBGL_BOUNDARIES_DEPTH * 0.4;\n\t\tthis.ZMAX =  this.WEBGL_BOUNDARIES_DEPTH * 0.4;\n\n\t\tthis.QUADRANT_COUNT = 4;\n\t\tthis.QUADRANT_COMPARISON_OFFS = 2;\n\n\t\tthis.LIGHT_VEL = 1;\n\n\t\tthis.MIN_VEL = -0.01;\n\t\tthis.MAX_VEL =  0.01;\n\n\t\tthis.Z_VEL_FCTR = 2;\n\t\tthis.useZ = false;\n\n\t\tthis.PIPE_RADIUS = 1;\n\t\tthis.SPHERE_RADIUS = 3;\n\n\t\tthis.POINT_COUNT = POINT_COUNT;\n\n\t\tthis.LIFE_GROWTH_RATE = 0.05;\n\n\t\tthis.update = this.update.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tthis.webgl = new Webgl(windowWidth, windowHeight);\n\t\tthis.mainDivRef.current.appendChild(this.webgl.dom);\n\n\t\tconst onResize = ()=>{\n\t\t\twindowWidth = window.innerWidth;\n\t\t\twindowHeight = window.innerHeight;\n\t\t\tthis.webgl.resize(windowWidth, windowHeight);\n\t\t};\n\t\twindow.addEventListener('resize', onResize);\n\t\twindow.addEventListener('orientationchange', onResize);\n\n\t\tthis.init();\n\t\tthis.webgl.update();\n\n\t\trequestAnimationFrame(this.update);\n\t}\n\tinit(){\n\t\tthis.vecId = 0;\n\n\t\tthis.points \t\t\t= [];\n\t\tthis.quadrants\t\t\t= new Map();\n\t\tthis.pipeIds \t\t\t= new Map();\n\t\tthis.killedPipes \t\t= [];\n\t\tthis.closestPoints \t= new Map();\n\n\t\tfor(let i=0; i < this.POINT_COUNT; ++i){\n\t\t\tthis.createPoint();\n\t\t}\n\n\t\tthis.genCircles();\n\n\t\tthis.createPipePoints();\n\n//\t\tconsole.log('this.points: ', this.points);\n\t}\n\t//--------------------------------------------------------------------------__\n\tcreatePoint(){\n\t\tconst vec = new THREE.Vector3( genRandomFloat(this.XMIN, this.XMAX),\n\t\t\t\t\t\t\t\t\t \t\t\t genRandomFloat(this.YMIN, this.YMAX),\n\t\t\t\t\t\t\t\t\t \t\t\t (this.useZ ? genRandomFloat(this.ZMIN, this.ZMAX) : 0) );\n\t\tvec.id = this.vecId;\n\t\tthis.vecId += 1; // keep track of all points and ensure unique id for every point\n\n\t\tvec.vel = new THREE.Vector3( genRandomFloat(this.MIN_VEL, this.MAX_VEL),\n\t\t\t\t\t\t\t\t\t\t\t  genRandomFloat(this.MIN_VEL, this.MAX_VEL),\n\t\t\t\t\t\t\t\t\t\t\t  (this.useZ ? genRandomFloat(this.MIN_VEL, this.MAX_VEL) * this.Z_VEL_FCTR : 0) );\n\t\tthis.points.push( vec );\n\n\n\n\t\treturn vec;\n\t}\n\t//--------------------------------------------------------------------------__\n\tcreatePipePoints(){\n\t\tthis.pipepnts = [];\n\t\tthis.pipepnts.push( new THREE.Vector3(-0.5, 0, 0) );\n\t\tthis.pipepnts.push( new THREE.Vector3( 0.5, 0, 0) );\n\t}\n\tcreatePipe(v0, v1){\n\t\tlet pipe = new Pipe(this.pipepnts, {radius: this.PIPE_RADIUS});\n\t\tpipe.kill = false;\n\t\tpipe.life = 0.0;\n\t\tpipe.cpId = this.evalPointId(v0, v1);\n\t\tpipe.pos = new THREE.Vector3(0,0,0);\n\t\tpipe.v0 = v0;\n\t\tpipe.v1 = v1;\n\n\t\tif(this.pipeIds.has(pipe.cpId)){\n\t\t\tthis.killPipe( this.pipeIds.get(pipe.cpId) );\n\t\t}\n\t\tthis.pipeIds.set(pipe.cpId, pipe);\n\t\tthis.webgl.add( pipe );\n\t}\n\tremovePipe(killedPipeArrId){\n\t\tlet pipe = this.killedPipes[killedPipeArrId];\n\t\tthis.killedPipes.splice(killedPipeArrId, 1);\n\t\tthis.webgl.remove(pipe);\n\t}\n\tkillPipe(pipe){\n\t\tlet pipeId = pipe.cpId;\n\t\tpipe.kill = true;\n\n\t\tthis.pipeIds.delete(pipeId);\n\t\tthis.killedPipes.push(pipe);\n\t}\n\t//--------------------------------------------------------------------------__\n\tevalSquaredDist(v0, v1){\n\t\treturn v0.distanceToSquared(v1);\n\t}\n\tevalComparePoints(quadrant){\n\t\tconst qoffs = this.QUADRANT_COMPARISON_OFFS;\n\t\tlet minx = Math.max(quadrant.x - qoffs, 0);\n\t\tlet maxx = Math.min(quadrant.x + qoffs, this.QUADRANT_COUNT-1);\n\n\t\tlet miny = Math.max(quadrant.y - qoffs, 0);\n\t\tlet maxy = Math.min(quadrant.y + qoffs, this.QUADRANT_COUNT-1);\n\n\t\tlet minz = Math.max(quadrant.z - qoffs, 0);\n\t\tlet maxz = Math.min(quadrant.z + qoffs, this.QUADRANT_COUNT-1);\n\n\t\tlet points = [];\n\t\tfor(let qx=minx; qx <= maxx; ++qx){\n\t\t\tfor(let qy=miny; qy <= maxy; ++qy){\n\t\t\t\tfor(let qz=minz; qz <= maxz; ++qz){\n\t\t\t\t\tlet quadrantPoints = this.quadrants.get( this.evalQuadrantId(qx,qy,qz) );\n\n\t\t\t\t\tpoints.push.apply(points, quadrantPoints);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn points;\n\t}\n\tupdateClosestPoints(){\n\t\tthis.closestPoints.clear();\n\n\t\tlet qdrntsPnts = [...this.quadrants.values()];\n\t\tqdrntsPnts.forEach(qrdntPnts=>{\n\t\t\tlet points = qrdntPnts;\n\n\t\t\tif(points.length <= 0){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet comprPnts = this.evalComparePoints(points[0].quadrant);\n\n\t\t\tfor(let i=0; i < points.length; ++i){\n\t\t\t\tconst v0 = points[i];\n\n\t\t\t\tlet mindst = this.evalSquaredDist(v0, comprPnts[0]);\n\t\t\t\tlet id = 0;\n\n\t\t\t\tlet cmpCnt = comprPnts.length;//Math.floor(points.length * 0.5);\n\n\t\t\t\tfor(let j=1; j < cmpCnt; ++j){\n\t\t\t\t\tlet v1 = comprPnts[j];\n\n\t\t\t\t\tif(v0 !== v1){\n\t\t\t\t\t\tlet curdst = this.evalSquaredDist(v0, v1);\n\t\t\t\t\t\tif(curdst < mindst){\n\t\t\t\t\t\t\tmindst = curdst;\n\t\t\t\t\t\t\tid = j;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n//\t\t\t\tif(mindst <= this.MAX_DIST ** 2){\n\t\t\t\t\tlet v1 = comprPnts[id];\n\t\t\t\t\tlet pointId = this.evalPointId(v0, v1);\n\t\t\t\t\tthis.closestPoints.set(pointId, [v0, v1]);\n//\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tkeepPointInBoundaries(vec){\n\t\tlet [minx, miny, minz, maxx, maxy, maxz] = this.evalWebGlBoundaries();\n\n\t\tif(vec.x < minx){\n\t\t\tvec.x = minx;\n\t\t\tvec.vel.x *= -1;\n\t\t}else if(vec.x > maxx){\n\t\t\tvec.x = maxx;\n\t\t\tvec.vel.x *= -1;\n\t\t}\n\n\t\tif(vec.y < miny){\n\t\t\tvec.y = miny;\n\t\t\tvec.vel.y *= -1;\n\t\t}else if(vec.y > maxy){\n\t\t\tvec.y = maxy;\n\t\t\tvec.vel.y *= -1;\n\t\t}\n\n\t\tif(vec.z < minz){\n\t\t\tvec.z = minz;\n\t\t\tvec.vel.z *= -1;\n\t\t}else if(vec.z > maxz){\n\t\t\tvec.z = maxz;\n\t\t\tvec.vel.z *= -1;\n\t\t}\n\t}\n\tevalQuadrantId(qx,qy,qz){\n\t\tconst sgmnts = this.QUADRANT_COUNT;\n\t\treturn qx + qy * sgmnts + qz * sgmnts**2;\n\t}\n\tevalQuadrant(vec){\n\t\tconst sgmnts = this.QUADRANT_COUNT;\n\t\tlet [wc, dc, hc]= [sgmnts, sgmnts, sgmnts];\n\t\tconst [minx, miny, minz, maxx, maxy, maxz] = this.evalWebGlBoundaries();\n\t\tlet [x,y,z] = [vec.x, vec.y, vec.z];\n\n\t\tlet qx = Math.floor( (x - minx) / ((maxx - minx) / wc) );\n\t\tlet qy = Math.floor( (y - miny) / ((maxy - miny) / hc) );\n\t\tlet qz = Math.floor( (z - minz) / ((maxz - minz) / dc) );\n\n/*\t\tif(id===0){\n\t\t\tconsole.log('x: ', x, 'y: ', y, 'z: ', z);\n\t\t\tconsole.log('qx: ', qx, 'qy: ', qy, 'qz: ', qz);\n\t\t\tconsole.log('minx: ', minx, 'miny: ', miny, 'minz: ', minz, 'maxx: ', maxx, 'maxy: ', maxy, 'maxz: ', maxz);\n\t\t}*/\n\n\t\treturn {\n\t\t\tid: this.evalQuadrantId(qx, qy, qz),\n\t\t\tx: qx,\n\t\t\ty: qy,\n\t\t\tz: qz\n\t\t};\n\t}\n\taddPointToQuadrant(quadrant, vec){\n\t\tvec.quadrant = quadrant;\n\n\t\tif( !this.quadrants.has(quadrant.id) ){\n\t\t\tthis.quadrants.set(quadrant.id, []);\n\t\t}\n\t\tthis.quadrants.get(quadrant.id).push(vec);\n\t}\n\tmovePoints(dt){\n\t\tif(dt > 0){\n\t\t\tthis.quadrants.clear();\n\n\t\t\tthis.points.forEach((vec)=>{\n\t\t\t\tvec.add(vec.vel.clone().multiplyScalar(dt));\n\t\t\t\tthis.keepPointInBoundaries(vec);\n\n\t\t\t\tlet quadrant = this.evalQuadrant(vec);\n\t\t\t\tthis.addPointToQuadrant(quadrant, vec);\n\t\t\t});\n\t\t\tthis.moveCircles();\n\t\t}\n\t}\n\t//--------------------------------------------------------------------------__\n\tmoveCircles(){\n\t\tif(!this.sphereRot){\n\t\t\tthis.sphereRot = 0.0;\n\t\t}\n\t\tfor(let i=0; i < this.circles.length; ++i){\n\t\t\tlet circle = this.circles[i];\n\t\t\tlet lastPos = circle.position;\n\t\t\tlet newPos = this.points[i];\n\t\t\tlet offs = newPos.clone().sub(lastPos);\n\t\t\tcircle.rotation.set(this.sphereRot, 0, 0);\n\t\t\tcircle.position.set(newPos.x, newPos.y, newPos.z);\n\t\t}\n\t\tthis.sphereRot += 0.1;\n\t}\n\tgenCircles(){\n\t\tthis.webgl.clearCircles();\n\t\tthis.circles = [];\n\t\tthis.points.forEach(p=>{\n\t\t\tthis.circles.push( this.genCircle(p, {color: MATERIAL_COLOR, radius: this.SPHERE_RADIUS }) );\n\t\t});\n\t}\n\tgenCircle(p0, {\n\t\t\t\t\t\t\tcolor = MATERIAL_COLOR,\n\t\t\t\t\t\t\tradius = 1,\n\t\t\t\t\t\t\twidthSegments = 3,\n\t\t\t\t\t\t\theightSegments = 2\n\t\t\t\t\t\t} = {}){\n//\t\tlet geometry = new THREE.CircleGeometry(radius, segments);\n\t\tlet geometry = new THREE.SphereGeometry(radius, widthSegments, heightSegments);\n\n\t\tlet material = genMaterial({color});\n\n\t\tlet circle = new THREE.Mesh( geometry, material );\n\t\tcircle.position.set(p0.x, p0.y,p0.z);\n\n\t\tthis.webgl.addCircle( circle );\n\n\t\treturn circle;\n\t}\n\n\t//--------------------------------------------------------------------------__\n\tevalAngle(v0, v1){\n\t\treturn Math.atan2(v1.y, v1.x) - Math.atan2(v0.y, v0.x);\n\t}\n\tevalQuaternion(v0, v1){\n\t\tlet vref = new THREE.Vector3(1,0,0);\n\t\tlet vtar   = v1.clone().sub(v0.clone()).normalize();\n\n\t\tlet cross = vref.clone().cross(vtar).normalize();\n\t\tlet angle = vref.clone().angleTo(vtar);\n\n\t\tlet quat = new THREE.Quaternion().setFromAxisAngle( cross, angle );\n\n\t\treturn quat;\n\t}\n\tevalRotation(v0, v1){\n\t\tlet dst = v1.clone().sub(v0);\n\t\tlet angle = dst.angleTo(new THREE.Vector3(1,0,0));\n\t\tif(v0.y > v1.y){\n\t\t\tangle = Math.PI * 2 - angle;\n\t\t}\n\n\t\tdst = dst.normalize();\n\n\t\tlet vref = new THREE.Vector3(1,0,0);\n\n\t\tlet dot = dst.dot(vref);\n\n//\t\tlet angle = this.evalAngle(v1,v0);\n\t\treturn new THREE.Vector3(0,0, angle);\n\t}\n\t//--------------------------------------------------------------------------__\n\tevalPointId(v0, v1){\n\t\tlet lid = v0.id < v1.id ? v0.id : v1.id;\n\t\tlet uid = v0.id > v1.id ? v0.id : v1.id;\n\t\treturn '' + lid + '-' + uid;\n\t}\n\t//--------------------------------------------------------------------------__\n\tupdateKilledPipe(pipe){\n\t\tpipe.scale.set(pipe.scl * Math.max(pipe.life, 0.01), 1, 1);\n\t}\n\tupdatedKilledPipes(){\n\t\tlet kps = this.killedPipes;\n\n\t\tfor(let i=0; i < kps.length; ){\n\t\t\tlet pipe = kps[i];\n\n\t\t\tpipe.life -= this.LIFE_GROWTH_RATE * 2;\n\n\t\t\tif(pipe.life <= 0.0){\n\t\t\t\tthis.removePipe(i);\n\t\t\t}else{\n\t\t\t\tthis.updateKilledPipe(pipe);\n\t\t\t\t++i;\n\t\t\t}\n\t\t}\n\t}\n\t//--------------------------------------------------------------------------__\n\tupdatePipe(pipe){\n\t\tlet v0 = pipe.v0.clone();\n\t\tlet v1 = pipe.v1.clone();\n\n\t\tlet quat = this.evalQuaternion(v0, v1);\n//\t\tlet rot = this.evalRotation(v0, v1);\n\t\tlet dst = v1.clone().sub(v0).length();\n\t\tlet scl = dst;\n\t\tlet offs = v0.clone().add(v1.clone().sub(v0).multiplyScalar(0.5));\n\t\tlet pos = pipe.pos;\n\t\tlet relOffs = offs.clone().sub(pos);\n\n\t\tpipe.rotation.setFromQuaternion( quat );\n\n\t\tlet tarScl = scl * pipe.life;\n\t\tif(tarScl > 0.1){\n\t\t\t// only scale if tarScle is greater than threshold -> otherwiese determinant === zero!!\n\t\t\tpipe.scale.set( tarScl, 1, 1 );\n\t\t}\n\n\t\tpipe.position.set(offs.x, offs.y, offs.z);\n\n\t\tpipe.pos.add(relOffs);\n\t\tpipe.scl = scl;\n\n\t\tif(pipe.life < 1.0){\n\t\t\tpipe.life = Math.min(pipe.life + this.LIFE_GROWTH_RATE, 1.0);\n\t\t}\n\t}\n\tevalDT(){\n\t\tlet curtime = new Date().getTime();\n\t\tlet dt = !!this.lasttime ? curtime - this.lasttime : 0;\n\t\tthis.lasttime = curtime;\n\n\t\tif(dt > 100){\n\t\t\tdt = 100;\n\t\t}\n\t\treturn dt;\n\t}\n\tupdatePipes(){\n\t\tthis.updateClosestPoints();\n\n\t\tlet pipes = [...this.pipeIds.values()];\n\t\tpipes.forEach(pipe=>{\n\t\t\tif( !this.closestPoints.has(pipe.cpId) ){\n\t\t\t\tthis.killPipe(pipe);\n\t\t\t}\n\t\t});\n\n\t\tlet it = this.closestPoints[Symbol.iterator]();\n\t\tfor(let [id, [v0,v1]] of it){\n\t\t\tif( !this.pipeIds.has(id) ){\n\t\t\t\tthis.createPipe(v0, v1);\n\t\t\t}\n\t\t\tlet pipe = this.pipeIds.get(id);\n\t\t\tthis.updatePipe(pipe);\n\t\t}\n\n\t\tthis.updatedKilledPipes();\n\t}\n\tevalWebGlBoundaries(){\n\t\tlet [w,h,d] = [this.WEBGL_BOUNDARIES_WIDTH, this.WEBGL_BOUNDARIES_HEIGHT, this.WEBGL_BOUNDARIES_DEPTH]\n\t\treturn [-w*0.5, -h*0.5, -d*0.5, w*0.5, h*0.5, d*0.5];\n\t}\n\tgetDivSize(){\n\t\treturn [this.mainDivRef.current.offsetWidth, this.mainDivRef.current.offsetHeight];\n\t}\n\t//--------------------------------------------------------------------------__\n\tupdateLight(){\n\t\tlet light = this.webgl.light;\n\t\tlight.position.x += this.LIGHT_VEL;\n\t\tlight.position.set(light.position.x, light.position.y, light.position.z);\n\t}\n\tupdate(){\n\t\tlet dt = this.evalDT();\n\n\t\tthis.movePoints(dt);\n//\t\tthis.updateLight(dt);\n\n\t\tthis.updatePipes();\n\n\n\t\tthis.webgl.update();\n\n\t\trequestAnimationFrame(this.update);\n\t}\n\t//--------------------------------------------------------------------------__\n\trender(){\n\t\treturn (\n\t\t\t<div id=\"LineAnimationDiv\"\n\t\t\t\t\tref={this.mainDivRef}\n\t\t\t\t  className=\"LineAnimation\">\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LineAnimation;\n","import React, {Component} from 'react';\n\n// local files:\nimport './SpinningWheel.css';\n\nclass RotatedDiv extends Component {\n  render() {\n    const tag = this.props.tag;\n\n    let lblRot = this.props.labelRotation;\n    let rotRad = this.props.rotationRad;\n    rotRad %= Math.PI * 2;\n    if (rotRad < 0) {\n      rotRad = (Math.PI * 2) + rotRad;\n    }\n\n    let lblTranslX = '-50%';\n\n    let rotOffs = Math.PI * 0.5;\n\n    let flipRotatinStartRad = rotOffs + Math.PI * 0.5;\n    let flipRotatinEndRad = flipRotatinStartRad + Math.PI;\n\n    if ((rotRad > flipRotatinStartRad) && (rotRad < flipRotatinEndRad)) {\n      lblRot += Math.PI;\n      lblTranslX = '50%';\n    }\n\n    let lblStyle = {\n      fontSize: this.props.fontSize\n        ? this.props.fontSize\n        : '20px',\n      transform: 'rotate(' + lblRot + 'rad) translateX(' + lblTranslX + ')'\n    };\n    let lblClass = !!this.props.selected\n      ? \"SpinningEntryLabel selected\"\n      : \"SpinningEntryLabel\";\n    this.div = (<button style={lblStyle} className={lblClass} onClick={() => {\n        if (!!this.props.onLabelClicked) {\n          this.props.onLabelClicked();\n        }\n      }}>\n      {tag}\n    </button>);\n\n    let xOffs = this.props.xOffset;\n    let yOffs = this.props.yOffset;\n\n    let translateX = this.props.width * 0.5 + Math.sin(rotRad) * (this.props.width * 0.5 * xOffs);\n    let translateY = this.props.height * 0.5 - Math.cos(rotRad) * (this.props.height * 0.5 * yOffs);\n\n    let adjRotRad = (rotRad > Math.PI && rotRad < Math.PI * 2)\n      ? (rotRad + Math.PI)\n      : rotRad;\n    const rot = {\n      transform: ' translateX(calc(' + translateX + 'px - 50%)) ' + ' translateY(calc(' + translateY + 'px - 50%)) ' + ' rotate(' + rotRad + 'rad)',\n\n      transitionDuration: this.props.transitionDuration\n    };\n\n    return (<div style={rot} className=\"SpinningEntry\">\n      {this.div}\n    </div>);\n  }\n}\n\nclass SpinningWheel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.spinningWheelDivRef = React.createRef();\n\n    this.state = {\n      focusedId: 0,\n      transitionDuration: '0.15s',\n      spinningWheelDivSize: [0, 0]\n    }\n    this.initTagAlreadySet = false;\n\n    this.rotateElementsAtOnce = this.rotateElementsAtOnce.bind(this);\n    this.rotateElementsIncremental = this.rotateElementsIncremental.bind(this);\n    this.setSpinningWheelFontSize = this.setSpinningWheelFontSize.bind(this);\n    this.setSpinningWheelSize = this.setSpinningWheelSize.bind(this);\n  }\n  elementClicked(elmntId) {\n    this.rotateToElementId(elmntId);\n\n    this.props.onTagClicked(this.props.tags[elmntId], elmntId);\n  }\n  rotateToElementId(elmntId) {\n    let dx;\n\n    let tagsCount = this.props.tags.length;\n\n    let curFocusedId = this.state.focusedId;\n\n    let clockwise;\n    let counterclock;\n\n    if (elmntId > curFocusedId) {\n      clockwise = elmntId - curFocusedId;\n      counterclock = (tagsCount - elmntId) + curFocusedId;\n    } else {\n      clockwise = (tagsCount - curFocusedId) + elmntId;\n      counterclock = curFocusedId - elmntId;\n    }\n    dx = clockwise < counterclock\n      ? clockwise\n      : -counterclock;\n\n    this.rotateElementsIncremental(dx);\n  }\n  focuseInitTagIfNotAlreadyDone() {\n    // on initialization - make sure initSelection is focused:\n    if (this.initTagAlreadySet) {\n      return;\n    }\n\n    const initSelTag = this.props.initSelection;\n    if (!initSelTag) {\n      return;\n    }\n\n    const tags = this.props.tags;\n    for (let i = 0; i < tags.length; ++i) {\n      if (tags[i] === initSelTag) {\n        this.initTagAlreadySet = true;\n        if (this.state.focusedId !== i) {\n          this.setState({focusedId: i});\n        }\n        return;\n      }\n    }\n  }\n  componentDidMount() {\n    this.setSpinningWheelFontSize();\n\n    try {\n      if (ResizeObserver) {\n        console.log('ResizeObserver available!');\n        this.resizeObserver = new ResizeObserver(entries => {\n          for (let entry in entries) {\n            console.log('observer - entry: ', entry);\n            this.setSpinningWheelFontSize();\n          }\n        });\n        this.resizeObserver.observe(this.spinningWheelDivRef.current);\n      }\n    } catch (e) {\n      console.log('ResizeObserver error: ', e);\n    }\n  }\n  componentDidUpdate() {\n    this.focuseInitTagIfNotAlreadyDone();\n  }\n  componentWillUnmount() {\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.spinningWheelDivRef.current);\n    }\n  }\n  rotateElementsAtOnce(idOffs) {\n    this.setState({transitionDuration: '1s'});\n    let focusedId = this.state.focusedId;\n    let newFocusedId = (focusedId + idOffs) % this.props.tags.length;\n    if (newFocusedId < 0) {\n      newFocusedId = this.props.tags.length + newFocusedId;\n    }\n\n    this.setState({focusedId: newFocusedId});\n  }\n  rotateElementsIncremental(idOffs) {\n    console.log('idOffs: ', idOffs);\n    this.setState({transitionDuration: '0s'});\n    let totalDuration = Math.abs(idOffs) * 200; // 500;\n    let dt = 16;\n\n    let tagCount = this.props.tags.length;\n    let fctnToOffs = idOffs / tagCount;\n\n    let steps = totalDuration / dt;\n\n    let rotIncrmnt = idOffs / steps;\n\n    let cntr = 0;\n\n    let incrmntRot = () => {\n      let focusedId = this.state.focusedId;\n\n      let newFocusedId = focusedId + rotIncrmnt;\n      if (newFocusedId < 0) {\n        newFocusedId = tagCount + newFocusedId;\n      }\n      newFocusedId = newFocusedId % tagCount;\n\n      this.setState({focusedId: newFocusedId});\n\n      cntr += 1;\n      if (cntr >= steps) {\n        let finalId = Math.round(focusedId) % tagCount;\n\n        this.setState({focusedId: finalId});\n\n        return;\n      }\n      setTimeout(incrmntRot, dt);\n    };\n    setTimeout(incrmntRot, dt);\n  }\n\n  getRotRadPerTag() {\n    const tagsSize = this.props.tags.length;\n    return Math.PI * 2 / tagsSize;\n  }\n  setSpinningWheelFontSize() {\n    this.setSpinningWheelSize();\n    let sw = this.spinningWheelDivRef.current;\n    let w = sw.offsetWidth;\n    let h = sw.offsetHeight;\n    let mn = w < h\n      ? w\n      : h;\n    if (mn < 300) {\n      this.setState({spinningWheelFontSize: '12px'});\n    } else if (mn < 500) {\n      this.setState({spinningWheelFontSize: '15px'});\n    } else if (mn < 800) {\n      this.setState({spinningWheelFontSize: '25px'});\n    } else {\n      this.setState({spinningWheelFontSize: '35px'});\n    }\n  }\n  setSpinningWheelSize() {\n    let sw = this.spinningWheelDivRef.current;\n    let sze = sw.getBoundingClientRect();\n    this.setState({\n      spinninWheelSize: [sw.offsetWidth, sw.offsetHeight]\n    });\n  }\n  render() {\n    const focusedId = this.state.focusedId;\n\n    const tagsSize = this.props.tags.length;\n    const rotRadPerTag = this.getRotRadPerTag();\n    const rotRadOffs = -rotRadPerTag * focusedId + Math.PI * 0.5;\n\n    let width = this.props.width;\n    let height = this.props.height;\n\n    let rad = 0.9;\n    let labelRotation = Math.PI / 2 * 3;\n\n    const testTag = this.props.tags[0];\n\n    let isFocused = (i) => {\n      let rng = 0.5\n      return i > focusedId - rng && i < focusedId + rng;\n    };\n\n    return (<div className=\"SpinningWheel TextNotSelectable\" ref={this.spinningWheelDivRef}>\n      {\n        this.props.tags.map((tag, i) => {\n          return <RotatedDiv key={i} className=\"SpinningEntry\" transitionDuration={this.state.transitionDuration} tag={tag} width={this.state.spinninWheelSize[0]} height={this.state.spinninWheelSize[1]} fontSize={this.state.spinningWheelFontSize} xOffset={rad} yOffset={rad} selected={isFocused(i)} labelRotation={labelRotation} rotationRad={i * rotRadPerTag + rotRadOffs} onLabelClicked={() => {\n              this.elementClicked(i)\n            }}/>;\n        })\n      }\n    </div>);\n  }\n}\n\nexport default SpinningWheel;\n","import React, { Component } from 'react';\nimport './IndicatorBar.css';\n\nclass IndicatorBar extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.rf = React.createRef();\n\t}\n\tcomponentDidMount(){\n\t\tlet ind = this.rf.current;\n\t}\n\trender(){\n\t\tlet val = !!this.props.value ? this.props.value * 100 * 0.8 : 0;\n\t\tlet style = {\n\t\t\tleft: '' + val + '%'\n\t\t};\n\t\tlet indicator = (\n\t\t\t\t\t<div className=\"IndicatorBarRuler\" style={style}\n\t\t\t\t\t\t  ref={this.rf}>\n\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\n\t\treturn (\n\t\t\t<div className=\"IndicatorBarDiv\">\n\t\t\t\t<div className=\"IndicatorBarLabel IndicatorBarCentered\">\n\t\t\t\t\t{this.props.label ? this.props.label : \"\"}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"IndicatorBarBackground IndicatorBarCentered\"\n\t\t\t\t>\n\t\t\t\t\t{indicator}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default IndicatorBar;","import React, { Component } from 'react';\nimport './DiaSelector.css';\n\n\nclass DiaSelector extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.previewBarDSRef \t  \t\t= React.createRef();\n\t\tthis.previewBarShowBtnLblRef  = React.createRef();\n\t\tthis.mainWindowRef \t\t  \t\t= React.createRef();\n\n\t\tthis.onOverPreviewBarShowBtn = this.onOverPreviewBarShowBtn.bind(this);\n\t\tthis.onClickedPreviewBarShowBtn = this.onClickedPreviewBarShowBtn.bind(this);\n\t\tthis.closePrevBar = this.closePrevBar.bind(this);\n\t\tthis.onPreviewClicked = this.onPreviewClicked.bind(this);\n\t\tthis.activatePrevBar = this.activatePrevBar.bind(this);\n\n\t\tthis.executingPrevBarAnimation = false;\n\n\t\tthis.prevBarActive = false;\n\n\t\tthis.state = {\n\t\t\tshowPreviewBar: true,\n\t\t\timgPaths: this.props.previewImagePaths\n\t\t};\n\t}\n\tactivatePrevBar(){\n\t\tthis.prevBarActive = true;\n\t}\n\tclosePrevBar(){\n\t\tthis.executingPrevBarAnimation = true;\n\t\tthis.activatePrevBar();\n\n\t\tlet showPreviewBar = !this.state.showPreviewBar;\n\n\t\tlet previewBarDSRef = this.previewBarDSRef.current;\n\t\tlet previewBarShowBtnLblRef = this.previewBarShowBtnLblRef.current;\n\n\t\tif(showPreviewBar){\n\t\t\tpreviewBarDSRef.style.width = '25%';\n\t\t\tpreviewBarDSRef.style.minWidth = '100px';\n\t\t\tpreviewBarDSRef.style.maxWidth = '250px';\n\t\t\tpreviewBarShowBtnLblRef.style.opacity = '0';\n\t\t\tsetTimeout(()=>{\n\t\t\t\tpreviewBarShowBtnLblRef.innerHTML = '';\n\t\t\t\tpreviewBarShowBtnLblRef.style.opacity = '1';\n\t\t\t\tthis.executingPrevBarAnimation = false;\n\t\t\t}, 500);\n\t\t}else{\n\t\t\tpreviewBarDSRef.style.width = '0px';\n\t\t\tpreviewBarDSRef.style.minWidth = '0px';\n\t\t\tpreviewBarShowBtnLblRef.style.opacity = '0';\n\t\t\tsetTimeout(()=>{\n\t\t\t\tpreviewBarShowBtnLblRef.innerHTML = '';\n\t\t\t\tpreviewBarShowBtnLblRef.style.opacity = '1';\n\t\t\t\tthis.executingPrevBarAnimation = false;\n\t\t\t}, 500);\n\t\t}\n\n\t\tthis.setState({showPreviewBar});\n\t}\n\tonClickedPreviewBarShowBtn(){\n\t\tthis.closePrevBar();\n\t}\n\tonOverPreviewBarShowBtn(){\n\t\tif(this.executingPrevBarAnimation){\n\t\t\treturn;\n\t\t}\n\t\tif( !this.prevBarActive && !window.mobilecheck() ){\n\t\t\treturn;\n\t\t}\n\t\tthis.closePrevBar();\n\t}\n\tonPreviewClicked(id){\n\t\tlet mainWindowRef = this.mainWindowRef.current;\n\t\tmainWindowRef.style.opacity = '0';\n\t\tmainWindowRef.style.transform = 'scale(0)';\n\t\tmainWindowRef.scrollTo(0,0);\n\t\tsetTimeout(()=>{\n\t\t\tif(!!this.props.previewSelected){\n\t\t\t\tthis.props.previewSelected(id);\n\t\t\t}\n\t\t\tsetTimeout(()=>{\n\t\t\t\tmainWindowRef.style.opacity = '1';\n\t\t\t\tmainWindowRef.style.transform = 'scale(1)';\n\t\t\t}, 10);\n\t\t}, 500);\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"DiaSelector\">\n\t\t\t\t<div className=\"PreviewBarDS\"\n\t\t\t\t\t  ref={this.previewBarDSRef}\n\t\t\t\t\t  onMouseEnter={()=>{if(!window.mobilecheck()){this.activatePrevBar();}}}>\n\t\t\t\t\t<div className=\"PreviewBarImgContainerDS\">\n\t\t\t\t\t\t<div className=\"PreviewBarImgFlexDS\">\n\t\t\t\t\t\t\t{this.state.imgPaths.map((imgPath,id)=>{\n\t\t\t\t\t\t\t\treturn <img className={\"PreviewImgDS\" + ((id===this.props.selectedId) ? \" chckd\" : \" unchckd\")}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={()=>{this.onPreviewClicked(id)}}\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgPath}\n\t\t\t\t\t\t\t\t\t\t\t\twidth={'80%'}\n\t\t\t\t\t\t\t\t\t\t\t\theight={'150px'}/>;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"PreviewBarShowBtnDS\"\n\t\t\t\t\t  onMouseOver={()=>{if(!window.mobilecheck()){this.onOverPreviewBarShowBtn();}}}\n\t\t\t\t\t  onClick    ={this.onClickedPreviewBarShowBtn}>\n\t\t\t\t\t\t<div className=\"PreviewBarShowBtnTxtDS\"\n\t\t\t\t\t\t\t  ref={this.previewBarShowBtnLblRef}\n\t\t\t\t\t\t\t  onMouseOver={()=>{if(!window.mobilecheck()){this.onOverPreviewBarShowBtn();}}}\n\t\t\t\t\t  \t\t  onClick    ={this.onClickedPreviewBarShowBtn}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"MainWindowContainerDS\">\n\t\t\t\t\t<div className=\"MainWindowDS\"\n\t\t\t\t\t\t  ref={this.mainWindowRef}>\n\t\t\t\t\t\t{this.props.mainContent}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DiaSelector;\n","import React, { Component } from 'react';\nimport './FlipSelector.css';\n\nclass FlipSelector extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.dropDownContentRef = React.createRef();\n\t\t\n\t\tthis.incrementIndex = this.incrementIndex.bind(this);\n\t\tthis.decrementIndex = this.decrementIndex.bind(this);\n\t\tthis.setIndex = this.setIndex.bind(this);\n\t\t\n\t\tthis.value0Ref = React.createRef();\n\t\tthis.value1Ref = React.createRef();\n\t\tthis.val0Active = true;\n\t\t\n\t\tthis.ANIM_DUR_NORMAL = 500;\n\t}\n\tgenAnimDurCssStr(){\n\t\treturn '' + (this.animDur / 1000)  + 's';\n\t}\n\tsetHiddenValue(val, increment, callback){\n\t\tlet v0 = this.value0Ref.current;\n\t\tlet v1 = this.value1Ref.current;\n\t\tif(this.val0Active){\n\t\t\tv1.style.transitionDuration = '';\n\t\t\tv1.innerHTML = val;\n\t\t\tv1.style.transform = increment ? 'translateY(-200%) translateX(-50%)' \n\t\t\t\t\t\t\t\t\t\t\t : 'translateY( 200%) translateX(-50%)';\n\t\t}else{\n\t\t\tv0.style.transitionDuration = '';\n\t\t\tv0.innerHTML = val;\n\t\t\tv0.style.transform = increment ? 'translateY(-200%) translateX(-50%)' \n\t\t\t\t\t\t\t\t\t\t\t : 'translateY( 200%) translateX(-50%)';\n\t\t}\n\t\tsetTimeout(callback, 0);\n\t}\n\tfadeOutDiv(div, increment){\n\t\tdiv.style.opacity = '0.0';\n\t\tdiv.style.transform = increment ? 'translateY( 200%) translateX(-50%)' \n\t\t\t\t\t\t\t\t\t\t\t\t  : 'translateY(-200%) translateX(-50%)';\n\t}\n\tfadeInDiv(div){\n\t\tdiv.style.opacity = '';\n\t\tdiv.style.transform = '';\n\t}\n\tswitchValuesAnimation(nextValue, increment, callbackAfterAnim){\n\t\tconst callback = ()=>{\n\t\t\tlet v0 = this.value0Ref.current;\n\t\t\tlet v1 = this.value1Ref.current;\n\t\t\t\n\t\t\tv0.style.transitionDuration = this.genAnimDurCssStr();\n\t\t\tv1.style.transitionDuration = this.genAnimDurCssStr();\n\t\t\t\n\t\t\tif(this.val0Active){\n\t\t\t\tthis.fadeOutDiv(v0, increment);\n\t\t\t\tthis.fadeInDiv (v1);\n\t\t\t}else{\n\t\t\t\tthis.fadeInDiv (v0);\n\t\t\t\tthis.fadeOutDiv(v1, increment);\n\t\t\t}\n\t\t\tthis.val0Active = !this.val0Active;\n\t\t\t\n\t\t\tif(this.inUpdateTimeout){\n\t\t\t\tcallbackAfterAnim();\n\t\t\t}else{\n\t\t\t\tthis.inUpdateTimeout = true;\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.inUpdateTimeout = false;\n\t\t\t\t\tcallbackAfterAnim();\n\t\t\t\t}, this.animDur);\n\t\t\t}\n\t\t};\n\t\tthis.setHiddenValue(nextValue, increment, callback);\n\t}\n\tincrementIndex(){\n\t\tlet nextId = (this.props.selectedId + 1) % this.props.values.length;\n\t\tconst callbackAfterAnim = ()=>{\t\t\t\n\t\t\tthis.setIndex(nextId);\n\t\t};\n\t\tthis.switchValuesAnimation(this.props.values[nextId], true, callbackAfterAnim);\n\t}\n\tdecrementIndex(){\n\t\tlet prevId = this.props.selectedId - 1;\n\t\tif(prevId < 0){\n\t\t\tprevId = this.props.values.length - 1;\n\t\t}\n\t\tconst callbackAfterAnim = ()=>{\n\t\t\tthis.setIndex(prevId);\n\t\t};\n\t\tthis.switchValuesAnimation(this.props.values[prevId], false, callbackAfterAnim);\n\t}\n\tsetIndex(id){\n\t\tif( !!this.props.onIndexSelected ){\n\t\t\tthis.props.onIndexSelected(id);\n\t\t}\t\t\n\t\tif( !!this.props.onValueSelected ){\n\t\t\tthis.props.onValueSelected(this.props.values[id]);\n\t\t}\n\t}\n\tstartIncrement(){\n\t\tthis.startIncrDecr_hlpr(this.incrementIndex);\n\t}\n\tstartDecrement(){\n\t\tthis.startIncrDecr_hlpr(this.decrementIndex);\n\t}\n\tstartIncrDecr_hlpr(tarFunction){\n\t\tthis.execute = true;\n\t\tthis.animDur = this.ANIM_DUR_NORMAL;\n\t\tlet cntr = 0;\n\t\tconst incrmnt = ()=>{\n\t\t\tif( !this.execute ){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(cntr++ > 1){\n\t\t\t\tthis.animDur = 100;\n\t\t\t}else if(cntr > 15){\n\t\t\t\tthis.animDur = 50;\n\t\t\t}\n\t\t\ttarFunction();\n\t\t\tsetTimeout(incrmnt, this.animDur + 5);\n\t\t};\n\t\tincrmnt();\n\t}\n\tstopIncrement(){\n\t\tthis.endTouchEvent();\n\t\tthis.execute = false;\n\t\tthis.animDur = this.ANIM_DUR_NORMAL;\n\t}\n\t//------------------\n\tstartMouseIncrement(){\n\t\tif(!this.useTouch){\n\t\t\tthis.startIncrement();\n\t\t}\n\t}\n\tstartMouseDecrement(){\n\t\tif(!this.useTouch){\n\t\t\tthis.startDecrement();\n\t\t}\n\t}\n\t//--------\n\tstartTouchIncrement(){\n\t\tthis.initTouchEvent();\n\t\tthis.startIncrement();\n\t}\n\tstartTouchDecrement(){\n\t\tthis.initTouchEvent();\n\t\tthis.startDecrement();\n\t}\n\t//------------------\n\tinitTouchEvent(){\n\t\tthis.useTouch = true;\n\t}\n\tendTouchEvent(){\n\t\tthis.useTouch = false;\n\t}\n\t//------------------\n\trender(){\n\t\tlet vals = this.props.values;\n\t\tlet id \t= this.props.selectedId;\n\t\t\n\t\tlet tarVal = vals[id];\n\t\t\n\t\treturn (\n\t\t\t<div className=\"FlipPicker TextNotSelectable\">\n\t\t\t\t<div className=\"IncrementButtonFP\"\n\t\t\t\t\tonMouseDown  = { !window.mobilecheck() ? this.startMouseIncrement.bind(this) : ()=>{}}\n\t\t\t\t\tonTouchStart = {  window.mobilecheck() ? this.startTouchIncrement.bind(this) : ()=>{}}\n\t\t\t\t\t\n\t\t\t\t\tonMouseUp\t\t= {this.stopIncrement.bind(this)}\t\t\t\t\t\n\t\t\t\t\tonTouchEnd\t\t= {this.stopIncrement.bind(this)}\n\t\t\t\t\tonTouchCancel\t= {this.stopIncrement.bind(this)}\n\t\t\t\t>\n\t\t\t\t\t&#10574;\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ValueDivFP\">\n\t\t\t\t\t<div className=\"ValueFP\"\n\t\t\t\t\t\t\tref={this.value0Ref}>\n\t\t\t\t\t\t{tarVal}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ValueFP\"\n\t\t\t\t\t\t\tref={this.value1Ref}>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"IncrementButtonFP\"\n\t\t\t\t\tonMouseDown\t = { !window.mobilecheck() ? this.startMouseDecrement.bind(this) : ()=>{}}\n\t\t\t\t\tonTouchStart = {  window.mobilecheck() ? this.startTouchDecrement.bind(this) : ()=>{}}\n\t\t\t\t\t\n\t\t\t\t\tonMouseUp\t\t= {this.stopIncrement.bind(this)}\t\t\t\t\t\n\t\t\t\t\tonTouchEnd\t\t={this.stopIncrement.bind(this)}\n\t\t\t\t\tonTouchCancel\t= {this.stopIncrement.bind(this)}\n\t\t\t\t>\n\t\t\t\t\t&#10576;\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FlipSelector;\n\n","import React, { Component } from 'react';\nimport FlipSelector from '../FlipSelector';\nimport './FlipSelectorRSC.css';\n\n\nclass FlipSelectorRSC extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.setHour = this.setHour.bind(this);\n\t\tthis.setMin  = this.setMin.bind(this);\n\t\tthis.setSec  = this.setSec.bind(this);\n\t\t\n\t\tthis.state = {\n\t\t\thour: 8,\n\t\t\tmin: 10,\n\t\t\tsec: 30\n\t\t};\n\t}\n   componentDidMount(){\n   \t\n\t}\n\tsetHour(hour){\n\t\tthis.setState({hour});\n\t}\n\tsetMin(min){\n\t\tthis.setState({min});\n\t}\n\tsetSec(sec){\n\t\tthis.setState({sec});\n\t}\n\tensureTowDigitString(x){\n\t\treturn (x.length === 1) ? ('0' + x) : x;\n\t}\n\trender(){\n\t\tlet hourValues = [];\n\t\tfor(let i=0; i < 24; ++i){\n\t\t\thourValues.push( '' + i + ' hours');\n\t\t}\n\t\tlet minValues = [];\n\t\tlet secValues = [];\n\t\tfor(let i=0; i < 60; ++i){\n\t\t\tminValues.push( '' + i + ' minutes');\n\t\t\tsecValues.push( '' + i + ' seconds');\n\t\t}\n\t\t\n\t\tlet hour = this.state.hour;\n\t\tlet min = this.state.min;\n\t\tlet sec = this.state.sec;\n\t\t\n\t\tlet indicatorString = 'selected: ' \n\t\t\t\t\t\t\t\t\t\t + this.ensureTowDigitString('' + hour) + ' : ' \n\t\t\t\t\t\t\t\t\t\t + this.ensureTowDigitString('' + min)  + ' : ' \n\t\t\t\t\t\t\t\t\t\t + this.ensureTowDigitString('' + sec);\n\t\t\n\t\tconst heading = 'Flip Selector';\n\t\tconst description = <div>\n\t\t\tThis selector makes it easy to select a value within a predetermined range. \n\t\t\tEspecially on mobile devices it is much more comfortable to use than\n\t\t\tmost other input components.<br/><br/>\n\t\t\tIf you hold the up (down) button pressed, the value keeps incrementing\n\t\t\t(decrementing) at a fast pace.\n\t\t</div>;\n\t\t\n\t\treturn (\n\t\t\t<div className=\"FlipSelectorRSC\">\n\t\t\t\t<div className=\"HeadingRSC\">\n\t\t\t\t\t{heading}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"DescriptionRSC\">\n\t\t\t\t\t{description}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"FlipSelectorFlexRSC\">\n\t\t\t\t\t<div className=\"FlipSelectorDiv\">\n\t\t\t\t\t\t<FlipSelector\n\t\t\t\t\t\t\tvalues={hourValues}\n\t\t\t\t\t\t\tselectedId={this.state.hour}\n\t\t\t\t\t\t\tonIndexSelected={this.setHour}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"FlipSelectorDiv\">\n\t\t\t\t\t\t<FlipSelector\n\t\t\t\t\t\t\tvalues={minValues}\n\t\t\t\t\t\t\tselectedId={this.state.min}\n\t\t\t\t\t\t\tonIndexSelected={this.setMin}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"FlipSelectorDiv\">\n\t\t\t\t\t\t<FlipSelector\n\t\t\t\t\t\t\tvalues={secValues}\n\t\t\t\t\t\t\tselectedId={this.state.sec}\n\t\t\t\t\t\t\tonIndexSelected={this.setSec}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"IndicatorDivRSC\">\n\t\t\t\t\t{indicatorString}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FlipSelectorRSC;\n\n\t","import React, { Component } from 'react';\nimport './SlideBar.css';\n\n\nclass SlideBar extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\n\t\t\n\t\tthis.slideBar = React.createRef();\n\t}\n\tonMouseUp(e){\n\t\tconst val = e.target.value / 100;\n\t\tif(this.props.onMouseUp){\n\t\t\tthis.props.onMouseUp(val);\n\t\t}\n\t}\n\trender(){\n\t\tlet showIndicator = this.props.indicatorValue !== undefined;\n\t\tlet indicator;\n\t\tif( showIndicator ){\n\t\t\tlet val = !!this.props.indicatorValue ? this.props.indicatorValue * 100 : 0;\n\t\t\tlet style = {\n\t\t\t\tleft: '' + val + '%',\n\t\t\t};\n\t\t\tindicator = \n\t\t\t\t(\n\t\t\t\t\t<div className=\"IndicatorBarDivSB\">\n\t\t\t\t\t\t<div className=\"IndicatorBarRulerSB\" style={style}\n\t\t\t\t\t\t\t  ref={this.rf}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t\t\n\t\treturn (\n\t\t<div className=\"SlideBarDivSB\">\n\t\t\t<div className=\"SliderBarLabel SliderBarCentered\">\n\t\t\t\t{this.props.label ? this.props.label : \"\"}\n\t\t\t</div>\n\t\t\t{showIndicator ? indicator : \"\"}\n\t\t\t<input type=\"range\"\n\t\t\t\tref={this.slideBar}\n\t\t\t\tmin=\"0\"\n\t\t\t\tmax=\"100\"\n\t\t\t\tvalue={this.props.sliderVal * 100}\n\t\t\t\tclassName=\"SlideBar SliderBarCentered\"\n\n\t\t\t\tonChange={this.onMouseUp}\n\t\t\t/>\n\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SlideBar;","import React, { Component } from 'react';\nimport SlideBar from '../SlideBar';\nimport './SlideBarRSC.css';\n\n\nclass SlideBarRSC extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.setSlideBarValue = this.setSlideBarValue.bind(this);\n\t\t\n\t\tthis.state = {\n\t\t\tslideBarValue: 0.5,\n\t\t\tindicatorValue: 0.25\n\t\t};\n\t}\n\tsetSlideBarValue(val){\n\t\tconsole.log('slideBarValue: ', val);\n\t\tthis.setState({slideBarValue: val});\n\t}\n   componentDidMount(){\n   \tsetInterval(()=>{\n   \t\tlet oldVal = this.state.indicatorValue;\n   \t\tlet offs = Math.random() * 0.2;\n   \t\tlet sign = Math.random() > 0.5 ? -1 : 1;\n   \t\tlet val = Math.min(Math.max(oldVal + offs * sign, 0.1), 0.9);\n   \t\tthis.setState({indicatorValue: val});\n   \t}, 1000);\n\t}\n\tnumberToShortString(x){\n\t\tlet s = '' + x;\n\t\tif(s.length > 3){\n\t\t\ts = s.substr(0,4);\n\t\t}\n\t\treturn s;\n\t}\n\trender(){\n\t\tlet slideBarValue = this.state.slideBarValue;\n\t\tlet indicatorValue = this.state.indicatorValue;\n\t\tlet selectedValue = 'selected value: ' + this.numberToShortString(slideBarValue) + ' %';\n\t\tlet refValue = 'reference value: ' + this.numberToShortString(indicatorValue) + ' %';\n\t\t\n\t\tconst heading = 'SlideBar';\n\t\tconst description = <div>\n\t\t\tThis is an advanced range slider. In addition to the range slider html tag,\n\t\t\tyou can add a label that is rendered at the center of it.\n\t\t\tYou can also add a reference value. This comes in handy when you,\n\t\t\tfor example, need to display real time values like sensor data.\n\t\t</div>;\n\t\t\n\t\treturn (\n\t\t\t<div className=\"SlideBarRSC\">\n\t\t\t\t<div className=\"HeadingRSC\">\n\t\t\t\t\t{heading}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"DescriptionRSC\">\n\t\t\t\t\t{description}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SlideBarDivRSC\">\n\t\t\t\t\t<SlideBar\n\t\t\t\t\t\tsliderVal={this.state.slideBarValue}\n\t\t\t\t\t\tindicatorValue={this.state.indicatorValue}\n\t\t\t\t\t\tlabel='demo SlideBar'\n\t\t\t\t\t\tonMouseUp={(val)=>{this.setState({slideBarValue: val})}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SlideBarResultsRSC\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{selectedValue}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{refValue}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SlideBarRSC;\n\n\t","import React, { Component } from 'react';\nimport SpinningWheel from '../SpinningWheel';\nimport './SpinningWheelRSC.css';\n\n\nclass SpinningWheelRSC extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.onTagClicked = this.onTagClicked.bind(this);\n\t\t\n\t\tthis.state = {\n\t\t\ttags: [],//this.genTags(1),\n\t\t\tselectedTag: 0,\n\t\t};\n\t}\n\tgetNTags(n){\n\t\tlet tags = ['Sun', 'Mercury', 'Venus', 'Mother Earth', 'Moon', 'Juipter', 'Saturn', 'Uranus', 'Neptune', 'Pluto'];\n\t\treturn tags.slice(0,n);\n\t}\n\tgenTags(){\n\t\tlet i = 1;\n   \tlet genTagsCaller = (i)=>{\n   \t\tthis.setState({tags: this.getNTags(i)});\n   \t\tif(i <= 9){\n   \t\t\tsetTimeout(()=>{genTagsCaller(i+1)}, 200);\n   \t\t}\n   \t};\n   \tgenTagsCaller(i);\n\t}\n\tonTagClicked(tag, tagId){\n\t\tthis.setState({selectedTag: tagId});\n\t}\n   componentDidMount(){\n   \tthis.genTags();\n\t}\n\trender(){\n\t\tlet resultsString = 'selected: ' +this.state.tags[this.state.selectedTag];\n\t\tconst heading = 'Spinner';\n\t\tconst description = `\n\t\t\tThis spinner is inspired by rotary dials and \n\t\t\tlets the user select between several options.\n\t\t\tIt takes up more space than a drop down menu but is \n\t\t\tmuch more intuitive.\n\t\t`;\n\t\tconsole.log('spinninWheelSize: ', this.state.spinninWheelSize);\n\t\treturn (\n\t\t\t<div className=\"SpinningWheelRSC\">\n\t\t\t\t<div className=\"HeadingRSC\">\n\t\t\t\t\t{heading}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"DescriptionRSC\">\n\t\t\t\t\t{description}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"SpinningWheelHelperGrid\">\n\t\t\t\t\t<div className=\"SpinningWheelDivRSC\">\n\t\t\t\t\t\t<SpinningWheel\n\t\t\t\t\t\t\ttags={this.state.tags}\n\t\t\t\t\t\t\tonTagClicked={this.onTagClicked}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SpinningWheelResultsRSC\">\n\t\t\t\t\t{resultsString}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SpinningWheelRSC;\n\n\t","import React, { Component } from 'react';\nimport './CheckBox.css';\n\n\nclass CheckBox extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\tonClick(){\n\t\tif( !!this.props.onClick ){\n\t\t\tthis.props.onClick();\n\t\t}\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div \n\t\t\t\t\tclassName={\"checkbox \" + (!!this.props.checked ? \"checked\" : \"unchecked\")} \n\t\t\t\t\t\tonClick={this.onClick}\n\t\t\t>\n\t\t\t\t{!!this.props.checked ? String.fromCharCode(10003) : \"\"}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CheckBox;","import React, { Component } from 'react';\nimport * as WAITINGBAR from '../WaitingBar/WaitingBar';\nimport CheckBox from '../CheckBox';\nimport SlideBar from '../SlideBar';\nimport './WaitingBarRSC.css';\n\n\nclass WaitingBarRSC extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.updateValue = this.updateValue.bind(this);\n\t\tthis.changeFadingState = this.changeFadingState.bind(this);\n\n\t\tthis.state = {\n\t\t\tfading: true,\n\t\t\touterCurved: true,\n\t\t\tinnerCurved: true,\n\n\t\t\tfragmentCount: {\n\t\t\t\tval: 4,\n\t\t\t\tmin: 3,\n\t\t\t\tmax: 100\n\t\t\t},\n\t\t\tfragmentPadding: {\n\t\t\t\tval: (Math.PI * 2 / 300),\n\t\t\t\tmin: 0,\n\t\t\t\tmax: (Math.PI * 2 / 20)\n\t\t\t},\n\t\t\tprogressSpeed: {\n\t\t\t\tval: 0.02,\n\t\t\t\tmin: 0.005,\n\t\t\t\tmax: 0.25\n\t\t\t},\n\t\t\tscaleSpeed: {\n\t\t\t\tval: 0.015,\n\t\t\t\tmin: 0.001,\n\t\t\t\tmax: 0.05\n\t\t\t},\n\t\t\tinnerRadius: {\n\t\t\t\tval: 0.4,\n\t\t\t\tmin: 0.0,\n\t\t\t\tmax: 0.5\n\t\t\t},\n\t\t\touterRadius: {\n\t\t\t\tval: 0.45,\n\t\t\t\tmin: 0.0,\n\t\t\t\tmax: 0.5\n\t\t\t}\n\t\t};\n\t}\n   componentDidMount(){\n\t}\n\tchangeFadingState(){\n\t\tthis.setState({fading: !this.state.fading});\n\t}\n\t//----------------------------\n\tupdateValue(stateObj, val){\n\t\tstateObj.val = val;\n\t\tthis.setState(stateObj);\n\t}\n\tupdatePercentageValue(prctg, stateObj, floor=false){\n\t\tthis.updateValue(stateObj, this.evalRangeValue(prctg, stateObj, floor));\n\t}\n\tevalRangeValue(prctg, stateObj, floor=false){\n\t\tlet x =  stateObj.min + prctg * (stateObj.max - stateObj.min);\n\t\tconsole.log('x: ', x);\n\t\treturn !!floor ? Math.floor(x) : x;\n\t}\n\tgenPercentageSetter(stateObj, floor=false){\n\t\treturn (prctg)=>{this.updatePercentageValue(prctg, stateObj, floor)}\n\t}\n\t//----------------------------\n\tevalRangePercentage(stateObj){\n\t\treturn (stateObj.val - stateObj.min) / (stateObj.max - stateObj.min);\n\t}\n\tevalRangePercentageInt(stageObj){\n\t\treturn Math.floor( this.evalRangePercentage(stageObj) );\n\t}\n\trender(){\n\t\tconst heading = 'A customizable waiting \"bar\"';\n\t\treturn (\n\t\t\t<div className=\"WaitingBarRSC\">\n\t\t\t\t<div className=\"HeadingRSCWB\">\n\t\t\t\t\t{heading}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"WaitingBarDivRSC\">\n\t\t\t\t\t<WAITINGBAR.WaitingBar\n\t\t\t\t\t\tinnerRadius={this.state.innerRadius.val}\n\t\t\t\t\t\touterRadius={this.state.outerRadius.val}\n\t\t\t\t\t\tfading={this.state.fading}\n\t\t\t\t\t\tfragmentCount={Math.floor(this.state.fragmentCount.val)}\n\t\t\t\t\t\tfragmentPadding={this.state.fragmentPadding.val}\n\t\t\t\t\t\tprogressSpeed={this.state.progressSpeed.val}\n\t\t\t\t\t\tscaleSpeed={this.state.scaleSpeed.val}\n\t\t\t\t\t\tfillColor={new WAITINGBAR.Color(80,80,80)}\n\t\t\t\t\t\tselectedFillColor={new WAITINGBAR.Color(0,180,0)}\n\t\t\t\t\t\touterCurved={this.state.outerCurved}\n\t\t\t\t\t\tinnerCurved={this.state.innerCurved}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"SettingsDivRSC\">\n\t\t\t\t\t<div className=\"CheckBoxFlexWB\">\n\t\t\t\t\t\t<div className=\"CheckBoxLabelRSCWB\">\n\t\t\t\t\t\t\tfading:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CheckBox\n\t\t\t\t\t\t\t\t\t checked={this.state.fading}\n\t\t\t\t\t\t\t\t\t onClick={this.changeFadingState}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"CheckBoxFlexWB\">\n\t\t\t\t\t\t<div className=\"CheckBoxLabelRSCWB\">\n\t\t\t\t\t\t\t{\"outer border curved:\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CheckBox\n\t\t\t\t\t\t\t\t\t checked={this.state.outerCurved}\n\t\t\t\t\t\t\t\t\t onClick={ (()=>{this.setState({outerCurved: !this.state.outerCurved})}).bind(this) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"CheckBoxFlexWB\">\n\t\t\t\t\t\t<div className=\"CheckBoxLabelRSCWB\">\n\t\t\t\t\t\t\t{\"inner border curved:\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CheckBox\n\t\t\t\t\t\t\t\t\t checked={this.state.innerCurved}\n\t\t\t\t\t\t\t\t\t onClick={ (()=>{this.setState({innerCurved: !this.state.innerCurved})}).bind(this) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t<SlideBar label=\"inner radius\"\n\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentage(this.state.innerRadius)}\n\t\t\t\t\t\t\t\t\t onMouseUp={this.genPercentageSetter(this.state.innerRadius)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t<SlideBar label=\"outer radius\"\n\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentage(this.state.outerRadius)}\n\t\t\t\t\t\t\t\t\t onMouseUp={this.genPercentageSetter(this.state.outerRadius)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t<SlideBar label=\"fragment count\"\n\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentage(this.state.fragmentCount)}\n\t\t\t\t\t\t\t\t\t onMouseUp={this.genPercentageSetter(this.state.fragmentCount)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t<SlideBar label=\"fragment padding\"\n\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentage(this.state.fragmentPadding)}\n\t\t\t\t\t\t\t\t\t onMouseUp={this.genPercentageSetter(this.state.fragmentPadding)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t<SlideBar label=\"progress speed\"\n\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentage(this.state.progressSpeed)}\n\t\t\t\t\t\t\t\t\t onMouseUp={this.genPercentageSetter(this.state.progressSpeed)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t<SlideBar label=\"scale speed\"\n\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentage(this.state.scaleSpeed)}\n\t\t\t\t\t\t\t\t\t onMouseUp={this.genPercentageSetter(this.state.scaleSpeed)}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WaitingBarRSC;\n","import React, { Component, useState, useEffect, useLayoutEffect } from 'react';\nimport SlideBar from '../SlideBar';\nimport CheckBox from '../CheckBox';\nimport WaveWaitingBar from '../WaveWaitingBar/WaveWaitingBar';\nimport './WaveWaitingBarRSC.css';\n\nfunction WaveWaitingBarRSC(props){\n\tconst mobile = window.mobilecheck();\n\n\tconst [red, setRed] = useState(0);\n\tconst [green, setGreen] = useState(1);\n\tconst [blue, setBlue] = useState(0);\n\tconst [elementCount, setElementCount] = useState(mobile ? 50 : 200);\n\tconst [stopAnimation, setStopAnimation] = useState(false);\n\tconst [roundedEdges, setRoundedEdges] = useState(false);\n\n\tconst MAX_ELEMENT_COUNT = mobile ? 200 : 1000;\n\tconst MIN_ELEMENT_COUNT = 10;\n\n\tuseEffect(()=>{\n\t\treturn ()=>{\n\t\t\tconsole.log('stopping animation!');\n\t\t\tsetStopAnimation(true);\n\t\t}\n\t}, []);\n\n\tfunction setPercentageElementCount(prctg){\n\t\tsetElementCount( MIN_ELEMENT_COUNT + prctg * (MAX_ELEMENT_COUNT - MIN_ELEMENT_COUNT) );\n\t}\n\tfunction evalPrctgElementCount(){\n\t\treturn (elementCount - MIN_ELEMENT_COUNT) / (MAX_ELEMENT_COUNT - MIN_ELEMENT_COUNT);\n\t}\n\n\tlet heading = `\n\t\tanother 'waiting bar'...\n\t`;\n\t\n\tlet description = `\n\t\ta waiting bar following no real sense, just one of those lazy days\n\t\tas a programmer where You play around and try out some new things\n\t`;\n\n\treturn (\n\t\t<div className=\"MainDivWWBRSC\">\n\t\t\t<div id=\"HeadingWWBRSC\"className=\"HeadingRSC\">\n        {heading}\n      </div>\n      <div id=\"DescriptionWWBRSC\" className=\"DescriptionRSC\">\n        {description}\n      </div>\n\t\t\t<div id=\"WaitingBarWBRSC\">\n\t\t\t\t<WaveWaitingBar r={red}\n\t\t\t\t\t\t\t\t\t\t\t\tg={green}\n\t\t\t\t\t\t\t\t\t\t\t\tb={blue}\n\t\t\t\t\t\t\t\t\t\t\t\telementCount={elementCount}\n\t\t\t\t\t\t\t\t\t\t\t\tstop={stopAnimation}\n\t\t\t\t\t\t\t\t\t\t\t\troundedEdges={roundedEdges}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"SettingsWBRSC\">\n\t\t\t\t<div className=\"CheckBoxFlexWB CheckBoxWWBRSC\">\n\t\t\t\t\t<div className=\"CheckBoxLabelRSCWB\">\n\t\t\t\t\t\t{\"rounded edges:\"}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CheckBox\n\t\t\t\t\t\t\t\t checked={roundedEdges}\n\t\t\t\t\t\t\t\t onClick={ ()=>{setRoundedEdges( !roundedEdges)} }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SliderWBRSC\">\n\t\t\t\t\t<SlideBar label=\"red\"\n\t\t\t\t\t\t\t\t sliderVal={red}\n\t\t\t\t\t\t\t\t onMouseUp={(v)=>{setRed(v);}}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SliderWBRSC\">\n\t\t\t\t\t<SlideBar label=\"green\"\n\t\t\t\t \t\t\t sliderVal={green}\n\t\t\t\t \t\t\t onMouseUp={(v)=>{setGreen(v);}}/>\n\t\t\t  </div>\n\t\t\t\t<div className=\"SliderWBRSC\">\n\t\t\t\t  <SlideBar label=\"blue\"\n\t\t\t\t\t \t\t\t sliderVal={blue}\n\t\t\t\t\t \t\t\t onMouseUp={(v)=>{setBlue(v);}}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SliderWBRSC\">\n\t\t\t\t\t<SlideBar label=\"element count\"\n\t\t\t\t \t\t\t\t sliderVal={ evalPrctgElementCount() }\n\t\t\t\t \t\t\t\t onMouseUp={setPercentageElementCount}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default WaveWaitingBarRSC;\n","import * as THREE from 'three';\n\nfunction evalQuaternion(v0, v1, refVertex=new THREE.Vector3(0,1,0)){\n\tlet vref = refVertex;\n\tlet vtar = v1.clone().sub(v0.clone()).normalize();\n\t\n\tlet cross = vref.clone().cross(vtar).normalize();\n\tlet angle = vref.clone().angleTo(vtar);\n\t\n\tlet quat = new THREE.Quaternion().setFromAxisAngle( cross, angle );\n\t\n\treturn quat;\n}\n\nclass PipeCurve extends THREE.Curve{\n\tconstructor(points){\n\t\tsuper();\n\t\tthis.points = points;\n\t\tthis.getPoint = this.getPoint.bind(this);\n\t}\n\tevalPointId(t){\n\t\treturn t * (this.points.length-1);\n\t}\n\tgetPoint(t){\n\t\tif(t === 0){\n\t\t\treturn this.points[0];\n\t\t}else if(t === this.points.length-1){\n\t\t\treturn this.points[this.points.length-1];\n\t\t}\n\t\t\n\t\tlet pid = this.evalPointId(t);\n\t\tlet lid = Math.floor(pid);\n\t\tlet uid = lid + 1;\n\t\tlet offs = pid % 1;\n\t\t\n\t\tif(uid === this.points.length){\n\t\t\treturn this.points[uid-1];\n\t\t}\n\t\t\n\t\tlet lp = this.points[lid].clone();\n\t\tlet up = this.points[uid].clone();\n\t\t\n\t\tlet dst = up.clone().sub(lp);\n\t\t\n\t\treturn lp.add( dst.multiplyScalar(offs) );\n\t}\n}\n\nclass PipeGeometry extends THREE.TubeGeometry {\n\tconstructor(points, {\n\t\t\t\t\t\ttubularSegments = 6,\n\t\t\t\t\t\tradius = 1,\n\t\t\t\t\t\tradialSegments = 4,\n\t\t\t\t\t\tclosed = false,\n\t\t\t\t\t\tcolor = 0x003300\n\t\t\t\t\t\t\n\t\t\t\t\t}={}){\n\t\tlet path = new PipeCurve(points);\n\t\t\n\t\tsuper( path, tubularSegments, radius, radialSegments, closed );\n\t\t\n\t\tthis.points = points;\n\t}\n}\nclass StraightPipeGeometry extends PipeGeometry{\n\t\tconstructor({\n\t\t\t\t\t\ttubularSegments = 6,\n\t\t\t\t\t\tradius = 1,\n\t\t\t\t\t\tradialSegments = 4,\n\t\t\t\t\t\tclosed = false,\n\t\t\t\t\t\tcolor = 0x003300\n\t\t\t\t\t\t\n\t\t\t\t\t}={}){\n\t\tlet pipepnts = [];\n\t\tpipepnts.push( new THREE.Vector3(-0.5, 0, 0) );\n\t\tpipepnts.push( new THREE.Vector3( 0.5, 0, 0) );\n\t\t\n\t\tsuper(pipepnts, {\n\t\t\t\t\t\ttubularSegments,\n\t\t\t\t\t\tradius,\n\t\t\t\t\t\tradialSegments,\n\t\t\t\t\t\tclosed,\n\t\t\t\t\t\tcolor\n\t\t\t\t\t\t});\n\t}\n}\nclass StraightPipeMesh extends THREE.Mesh{\n\tconstructor(v0, v1, \n\t\t\t\t\tmaterial, \n\t\t\t\t\t{\n\t\t\t\t\t\ttubularSegments = 6,\n\t\t\t\t\t\tradius = 0.1,\n\t\t\t\t\t\tradialSegments = 4,\n\t\t\t\t\t\tclosed = false,\n\t\t\t\t\t\tcolor = 0x003300\n\t\t\t\t\t}={}){\n\t\t\n\t\tlet geometry = new StraightPipeGeometry({\n\t\t\t\t\t\ttubularSegments,\n\t\t\t\t\t\tradius,\n\t\t\t\t\t\tradialSegments,\n\t\t\t\t\t\tclosed,\n\t\t\t\t\t\tcolor\n\t\t\t\t\t});\n\t\tsuper(geometry, material);\n\t\t\n\t\tthis.pos = new THREE.Vector3(0,0,0);\n\t\t\n\t\tthis.updatePoints(v0, v1);\n\t}\n\tupdatePoints(v0, v1){\t\t\n\t\tlet quat = evalQuaternion(v0, v1, new THREE.Vector3(1,0,0));\n\t\tlet dst = v1.clone().sub(v0).length();\n\t\tlet scl = dst;\n\t\tlet offs = v0.clone().add(v1.clone().sub(v0).multiplyScalar(0.5));\n\t\tlet pos = this.pos;\n\t\tlet relOffs = offs.clone().sub(pos);\n\t\t\n\t\tthis.rotation.setFromQuaternion( quat );\n\t\t\n\t\tif(scl > 0.1){\n\t\t\t// only scale if tarScle is greater than threshold -> otherwiese determinant === zero!!\n\t\t\tthis.scale.set( scl, 1, 1 );\n\t\t}\n\t\t\n\t\tthis.position.set(offs.x, offs.y, offs.z);\n\t\t\n\t\tthis.pos.add(relOffs);\n\t\tthis.scl = scl;\n\t}\n}\nclass PipeArrow extends THREE.Group{\n\tconstructor(v0, v1, \n\t\t\t\t\tmaterial, \n\t\t\t\t\t{\n\t\t\t\t\t\ttubularSegments = 6,\n\t\t\t\t\t\tradius = 0.05,\n\t\t\t\t\t\tradialSegments = 4,\n\t\t\t\t\t\tclosed = false,\n\t\t\t\t\t\tcolor = 0x003300\n\t\t\t\t\t}={}){\t\t\n\t\tsuper();\n\t\t\n\t\tthis.coneWidth = 0.125;\n\t\tthis.coneHeight = 0.5;\n\t\t\n\t\tlet lineMesh = new StraightPipeMesh(v0, v1, material, {\n\t\t\t\t\t\ttubularSegments,\n\t\t\t\t\t\tradius,\n\t\t\t\t\t\tradialSegments,\n\t\t\t\t\t\tclosed,\n\t\t\t\t\t\tcolor\n\t\t\t\t\t});\n\t\tlet coneGeometry = new THREE.ConeGeometry( this.coneWidth, this.coneHeight, 5 );\n\t\tlet coneMesh = new THREE.Mesh( coneGeometry, material );\n\t\t\n\t\tthis.add( lineMesh );\n\t\tthis.add( coneMesh );\n\t\t\n\t\tthis.coneMesh = coneMesh;\n\t\tthis.lineMesh = lineMesh;\n\t\t\n\t\tthis.updatePoints(v0, v1);\n\t}\n\n\tupdatePoints(v0, v1){\n\t\tlet dx = v1.clone().sub(v0).normalize().multiplyScalar(this.coneHeight * 0.5);\n\t\t\n\t\tlet lineV1 = v1.clone().sub(dx);\n\t\tthis.lineMesh.updatePoints(v0, lineV1);\n\t\t\n\t\tlet coneV1 = v1.clone().sub(dx);\n\t\t\n\t\tthis.coneMesh.position.set(coneV1.x, coneV1.y, coneV1.z);\n\t\tlet quat = evalQuaternion(v0, v1, new THREE.Vector3(0,1,0));\n\t\tthis.coneMesh.rotation.setFromQuaternion( quat );\n\t}\n}\n\nconst PIPE = {\n\tStraightPipeGeometry,\n\tPipeGeometry,\n\tStraightPipeMesh,\n\tPipeArrow\n};\n\n\nexport default PIPE;\n","import * as THREE from 'three';\nimport PIPE from './PipeThree';\n\nclass Grid extends THREE.Group{\n\tconstructor(dims, stepsx, stepsy, material, labels, labelGenerator, axisLabelFontSize){\n\t\tsuper();\n\t\t\n\t\tthis.dims = dims;\n\t\tthis.stepsx = stepsx;\n\t\tthis.stepsy = stepsy;\n\t\t\n\t\tlet gridStrokeWidth = 0.025;\n\t\tlet gridAxisPadding = 0.5;\n\t\t\n\t\tlet xlines = [];\n\t\tlet ylines = [];\n\t\t\n\t\tlet xlabels = [];\n\t\tlet ylabels = [];\n\t\tlet labelColor = 0x00aaff;\n\t\tlet labelAxisPadding = gridAxisPadding;\n\t\tlet fontSize = axisLabelFontSize;\n\t\t\n\t\tif(!!stepsx){\n\t\t\tlet stepx = dims.width / stepsx;\n\t\t\tfor(let x=0; x <= stepsx; ++x){\n\t\t\t\tlet xstart = dims.x + x * stepx;\n\t\t\t\tlet v0 = new THREE.Vector3(xstart, dims.y - gridAxisPadding,           0);\n\t\t\t\tlet v1 = new THREE.Vector3(xstart, dims.y + dims.height, 0);\n\t\t\t\tlet lineMesh = new PIPE.StraightPipeMesh(v0, v1, material, {radius: gridStrokeWidth});\n\t\t\t\txlines.push(lineMesh);\n\t\t\t\t\n\t\t\t\tif(!!labels && !!labels.xlabels && labels.xlabels.length > x){\n\t\t\t\t\tlet label = labels.xlabels[x];\n\t\t\t\t\tlet labelPos = new THREE.Vector3(xstart, dims.y - labelAxisPadding, 0);\n\t\t\t\t\tlet labelMesh = labelGenerator({label: label, \n\t\t\t\t\t\tposition: labelPos,\n\t\t\t\t\t\tcolor: labelColor,\n\t\t\t\t\t\tfontSize\n\t\t\t\t\t});\n\t\t\t\t\tlabelMesh.geometry.rotateZ(Math.PI * 0.1);\n\t\t\t\t\t\n\t\t\t\t\tlet bndngBox = this.evalMeshBoundingBox(labelMesh);\n\t\t\t\t\tlet bndngSze = bndngBox.getSize();\n\t\t\t\t\tlabelMesh.position.set(labelPos.x - bndngSze.x * 0.5, labelPos.y - bndngSze.y * 0.5 - 0.1, labelPos.z);\n\t\t\t\t\t\n\t\t\t\t\txlabels.push( labelMesh );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!!stepsy){\n\t\t\tlet stepy = dims.height / stepsy;\n\t\t\tfor(let y=0; y <= stepsy; ++y){\n\t\t\t\tlet ystart = dims.y + y * stepy;\n\t\t\t\tlet v0 = new THREE.Vector3(dims.x - gridAxisPadding,              ystart, 0);\n\t\t\t\tlet v1 = new THREE.Vector3(dims.x + dims.width, ystart, 0);\n\t\t\t\tlet lineMesh = new PIPE.StraightPipeMesh(v0, v1, material, {radius: gridStrokeWidth});\n\t\t\t\tylines.push(lineMesh);\n\t\t\t\t\n\t\t\t\tif(!!labels && !!labels.ylabels && labels.ylabels.length > y){\n\t\t\t\t\tlet label = labels.ylabels[y];\n\t\t\t\t\tlet labelPos = new THREE.Vector3(dims.x - labelAxisPadding, ystart, 0);\n\t\t\t\t\tlet labelMesh = labelGenerator({\n\t\t\t\t\t\tlabel: label,\n\t\t\t\t\t\tposition: labelPos,\n\t\t\t\t\t\tcolor: labelColor,\n\t\t\t\t\t\tfontSize\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tlet bndngBox = this.evalMeshBoundingBox(labelMesh);\n\t\t\t\t\tlet bndngSze = bndngBox.getSize();\n\t\t\t\t\tlabelMesh.position.set(labelPos.x - bndngSze.x + 0.2, labelPos.y - bndngSze.y * 0.5, labelPos.z);\n\t\t\t\t\t\n\t\t\t\t\tylabels.push( labelMesh );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\txlines.forEach(mesh=>this.add(mesh));\n\t\tylines.forEach(mesh=>this.add(mesh));\n\t\txlabels.forEach(mesh=>this.add(mesh));\n\t\tylabels.forEach(mesh=>this.add(mesh));\n\t}\n\tevalMeshBoundingBox(mesh){\n\t\tmesh.geometry.computeBoundingBox(); // 1. compute boundingBox\n\t\treturn mesh.geometry.boundingBox.clone(); // 2. then fetch, clone and return boundingBox\n\t}\n}\n\n\nexport default Grid;\n","import { WEBGL } from 'three/examples/jsm/WebGL.js';\nimport * as THREE from 'three';\nimport PIPE from './PipeThree';\nimport Grid from './GridThree';\n\nif ( WEBGL.isWebGL2Available() === false ) {\n\tconsole.log('no webgl2 available');\n}\n\nfunction formatDateToStr(date){\n\treturn date.toISOString().split('T')[0];\n}\nfunction addDaysToDate(days, date){\n\treturn addSecondsToDate(days * 24*60*60, date);\n}\nfunction addHoursToDate(hours, date){\n\treturn addSecondsToDate(hours * 60*60, date);\n}\nfunction addMinutesToDate(mins, date){\n\treturn addSecondsToDate(mins * 60, date);\n}\nfunction addSecondsToDate(seconds, date){\n\tlet dcpy = new Date(date); // clone - don't touch original date!\n\tdcpy.setTime(dcpy.getTime()  + seconds * 1000);\n\treturn dcpy;\n}\n\nclass Plot3DThree{\n\tconstructor(canvas, props={}){\n\t\tthis.updateCamera = this.updateCamera.bind(this);\n\t\tthis.onResize = this.onResize.bind(this);\n\t\tthis.render = this.render.bind(this);\n\t\tthis.setLight = this.setLight.bind(this);\n\t\tthis.createCustomShaderMaterial = this.createCustomShaderMaterial.bind(this);\n\t\tthis.genLabel = this.genLabel.bind(this);\n\t\t\n\t\t//------------------------------------------\n\t\t\n\t\tthis.props = props;\n\t\t\n\t\tthis.DATA_COLORS = [0xff00ff, 0xff4444, 0x8888ff, 0xffa500];\n\t\tthis.DATA_Z_PADDING = 1.5;\n\t\tthis.DATA_STROKE_WIDTH = 0.2;\n\t\t\n\t\tthis.AXIS_LABEL_FONT_SIZE_IF_NOT_SET = 0.3;\n\t\tthis.FONT_SIZE_SETTING_SCALE_FACTOR = 0.1;\n\t\t\n\t\tthis.resetData();\n\t\t\n\t\tthis.DATA_WIDTH  = 15;\n\t\tthis.DATA_HEIGHT = 10;\n\t\t\n\t\tconst fontURI =  process.env.PUBLIC_URL + 'fonts/testFont.typeface.json';\n\t\tvar fontLoader = new THREE.FontLoader();\n\t\t\n\t\tthis.threeFont = undefined;\n\t\t\n\t\t//------------------------------------------\n\t\t\n\t\tthis.windowWidth = window.innerWidth;\n\t\tthis.windowHeight = window.innerHeight;\n\t\tthis.cameraZ = 30;\n\t\t\n\t\tthis.canvas = canvas;\n\t\tthis.context = canvas.getContext('webgl2', {antialias: true, alpha: true});\n\t\tthis.renderer = new THREE.WebGLRenderer({canvas: canvas, context: this.context});\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\n\t\t\n\t\tthis.onResize();\n\t\t\n\t\tthis.scene = new THREE.Scene();\n\t\t\n\t\tthis.setLight();\n\t\t\n\t\tthis.dataGroup = new THREE.Group();\n\t\tthis.scene.add(this.dataGroup);\n\t\tthis.axisGroup = new THREE.Group();\n\t\tthis.scene.add(this.axisGroup);\n\t\t\n\t\tfontLoader.load( fontURI, function( font ){\n\t\t\tthis.threeFont = font;\n\t\t\tconsole.log('font loaded!');\n\t\t\t\n\t\t\tthis.onLoaded();\n\t\t\t\n\t\t}.bind(this) );\n\t\t\n\t\twindow.addEventListener('resize', \t\t\t\tthis.onResize);\n\t\twindow.addEventListener('orientationchange', this.onResize);\n\t\t\n\t\tthis.rot = 0.0;\n\t\tthis.render();\n\t}\n\tonLoaded(){\n\t\tthis.setCanvasResolution();\n\t\t\n\t\tif( !!this.props.onLoaded ){\n\t\t\tthis.props.onLoaded(this);\n\t\t}\n\t\t\n\t\tthis.genAxis();\n\t\t\n/*\t\tlet labels = ['Nila', 'Hippo', 'Wolfi', 'Schaffi', 'Pappi', 'Nilhorn', 'Nildrache'];\n\t\tfor(let i=0; i < 3; ++i){\n\t\t\tthis.addData( {points: this.generateRandomPoints(100), label: labels[i % labels.length]} );\n\t\t}*/\n\t}\n\tsetOrthographicCamera(){\n\t\tthis.props.orthographic = true;\n\t\tthis.updateCamera();\n\t}\n\tsetPerspectiveCamera(){\n\t\tthis.props.orthographic = false;\n\t\tthis.updateCamera();\n\t}\n\taddData(data){\n\t\tthis.addDataPoints({points: data.points, label: data.label});\n\t\tthis.alignAxis();\n\t}\n\tresetData(){\n\t\tthis.data = {\n\t\t\toriginalData: [],\n\t\t\tdataMeshes: [],\n\t\t\tdataLabelMeshes: []\n\t\t};\n\t}\n\tclearAxis(){\n\t\tthis.clearThreeContainer( this.axisGroup );\n\t}\n\tclearData(){\n\t\tthis.clearDataGroup();\n\t\tthis.resetData();\n\t}\n\tclearDataGroup(){\n\t\tthis.clearThreeContainer( this.dataGroup );\n\t}\n\tclearScene(){\n\t\tthis.clearThreeContainer( this.scene );\n\t}\n\tclearThreeContainer(target){\n\t\twhile(target.children.length > 0){ \n\t\t\ttarget.remove(target.children[0]); \n\t\t}\n\t}\n\taddLabel(labelData){\n\t\tlet labelMesh = this.genLabel(labelData);\n\t\tthis.data.dataLabelMeshes.push( labelMesh );\n\t\tthis.dataGroup.add( labelMesh );\n\t}\n\tgenLabel(labelData){\n\t\tconst label = labelData.label;\n\t\tconst pos = labelData.position;\n\t\tconst col = labelData.color;\n\t\t\n\t\tvar textGeo = new THREE.TextGeometry( label, {\n\t\t\tfont: this.threeFont,\n\t\t\tsize: !!labelData.fontSize ? labelData.fontSize : 0.5,\n\t\t\theight: 0.2,\n\t\t\tcurveSegments: 20,\n\t\t} );\n\t\t\n\t\tvar textMaterial = new THREE.MeshPhongMaterial( { color: col } );\n\t\t\n\t\tvar labelMesh = new THREE.Mesh( textGeo, textMaterial );\n\t\tlabelMesh.position.set( pos.x, pos.y, pos.z);\n\t\t\n\t\treturn labelMesh;\n\t}\n\tsetAxisLabels(axisLabels){\n\t\tthis.props.axisLabels = axisLabels;\n\t\tthis.updateAxis();\n\t}\n\tupdateAxis(){\n\t\tthis.clearAxis();\n\t\tthis.genAxis();\n\t}\n\tgenAxis(){\n\t\tlet z = this.evalMaxZOffs();\n\t\tthis.genAxisMesh();\n\t\tif(this.data.originalData.length > 1){\n\t\t\tthis.genAxisMesh();\n\t\t}\n\t\tthis.alignAxis();\n\t}\n\talignAxis(){\n\t\tlet z = this.evalMaxZOffs();\n\t\tif(this.axisGroup.children.length === 1){\n\t\t\tlet axis = this.axisGroup.children[0];\n\t\t\taxis.position.set(0, 0, this.evalMaxZOffs());\n\t\t}else if(this.axisGroup.children.length > 1){\n\t\t\tlet axis0 = this.axisGroup.children[0];\n\t\t\taxis0.position.set(0, 0, 0.1);\n\t\t\tlet axis1 = this.axisGroup.children[1];\n\t\t\taxis1.position.set(0, 0, z);\n\t\t}\n\t}\n\tgenAxisMesh(){\n\t\tlet axis = new THREE.Group();\n\t\t\n\t\t// axis-arrows/indicators:\n\t\tlet xAxisMesh = new PIPE.PipeArrow(new THREE.Vector3(-this.DATA_WIDTH*0.5, 0, 0),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tnew THREE.Vector3( this.DATA_WIDTH*0.5, 0, 0),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tnew THREE.MeshPhongMaterial({color: 0x00aaFF})); \n\t\tlet yAxisMesh = new PIPE.PipeArrow(new THREE.Vector3(-this.DATA_WIDTH*0.5, 0, 0),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tnew THREE.Vector3(-this.DATA_WIDTH*0.5, this.DATA_HEIGHT, 0),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tnew THREE.MeshPhongMaterial({color: 0x00aaFF}));\n\t\taxis.add(xAxisMesh);\n\t\taxis.add(yAxisMesh);\n\t\t\n\t\t// grid:\n\t\tlet gridDims = {x: -this.DATA_WIDTH*0.5, y: 0, width: this.DATA_WIDTH, height: this.DATA_HEIGHT};\n\t\tlet gridMaterial = new THREE.MeshPhongMaterial({color: 0xFF00ff});\n\t\tgridMaterial.transparent = true;\n\t\tgridMaterial.opacity = 0.4;\n\t\tlet stepsx = this.evalGridStepsX();\n\t\tlet stepsy = this.evalGridStepsY();\n\t\tlet date = new Date();\n/*\t\tlet axisLabels = {\n\t\t\txlabels: [],//'0', '1', '2', '3', '4'],\t\t\t\n\t\t\tylabels: ['0', '1', '2', '3']\n\t\t};\n\t\tlet curDate = new Date();\n\t\tfor(let i=0; i < 5; ++i){\n\t\t\tlet d = addDaysToDate(i, curDate);\n\t\t\tlet dstr = formatDateToStr(d);\n\t\t\taxisLabels.xlabels.push(dstr);\n\t\t}*/\n\t\tlet axisLabels = this.evalAxisLabels();\n\t\tlet grid = new Grid(gridDims, stepsx, stepsy, gridMaterial, axisLabels, this.genLabel, this.evalAxisLabelFontSize());\n\t\taxis.add( grid );\n\t\t\n\t\tthis.axisGroup.add( axis );\n\t}\n\tevalAxisLabelFontSize(){\n\t\tconsole.log('this.props.axisLabelFontSize: ', this.props.axisLabelFontSize);\n\t\tlet axisLabels = this.evalAxisLabels();\n\t\tlet axisLabelFontSize = this.AXIS_LABEL_FONT_SIZE_IF_NOT_SET;\n\t\t\n\t\tif(axisLabels && axisLabels.fontSize){\n\t\t\taxisLabelFontSize = axisLabels.fontSize * this.FONT_SIZE_SETTING_SCALE_FACTOR;\n\t\t}else if(this.props.axisLabelFontSize){\n\t\t\taxisLabelFontSize = this.props.axisLabelFontSize * this.FONT_SIZE_SETTING_SCALE_FACTOR;\n\t\t}\n\t\treturn axisLabelFontSize;\n\t}\n\tevalAxisLabels(){\n\t\treturn this.props.axisLabels ? this.props.axisLabels : [];\n\t}\n\tevalGridStepsX(){\n\t\tlet labels = this.props.axisLabels;\n\t\treturn (!!labels && !!labels.xlabels) ? labels.xlabels.length-1 : 0;\n\t}\n\tevalGridStepsY(){\n\t\tlet labels = this.props.axisLabels;\n\t\treturn (!!labels && !!labels.ylabels) ? labels.ylabels.length-1 : 0;\n\t}\n\tcopyPoints(points){\n\t\treturn points.map(p=>p);\n\t}\n\taddDataPoints(data){\n\t\tthis.data.originalData.push( data );\n\t\t\n\t\tthis.generateDataMesh(data.points);\n\t\t\n\t\tlet labelData = {\n\t\t\tlabel: data.label,\n\t\t\tposition: new THREE.Vector3(this.DATA_WIDTH * 0.5 + 0.5, 0, this.evalMaxZOffs()),\n\t\t\tcolor: this.evalDataColor(),\n\t\t\tfontSize: this.evalDataLabelFontSize()\n\t\t};\n\t\tthis.addLabel( labelData );\n\t\t\n\t\tthis.alignDataLabels();\n\t}\n\tevalDataLabelFontSize(){\n\t\treturn !!this.props.dataLabelFontSize ? this.props.dataLabelFontSize * this.FONT_SIZE_SETTING_SCALE_FACTOR : 0.3;\n\t}\n\talignDataLabels(){\n\t\t// set y-position of most front label to zero and \n\t\t// then increment y-position of every label a little bit the\n\t\t// => the farther away the label is, the higher it hangs in the air \n\t\tlet dataLabelMeshes = this.data.dataLabelMeshes;\n\t\tlet yoffs = 0;\n\t\tfor(let i=dataLabelMeshes.length-1; i >= 0; --i){\n\t\t\tlet pos = dataLabelMeshes[i].position.clone();\n\t\t\tdataLabelMeshes[i].position.set(pos.x, yoffs, pos.z);\n\t\t\tyoffs += 1;\n\t\t}\n\t}\n\tevalMaxZOffs(){\n\t\treturn this.data.dataMeshes.length * this.DATA_Z_PADDING;\n\t}\n\tevalDataColor(){\n\t\treturn this.DATA_COLORS[ this.data.originalData.length % this.DATA_COLORS.length ];\n\t}\n\tgenerateLabel(label){\n\t\t\n\t}\n\tgenerateDataMesh(points){\n\t\tlet prcsdPoints       = this.processDataPoints(this.copyPoints(points), 0, this.DATA_HEIGHT);\n\t\tlet prcsdStrokePoints = this.processStrokeDataPoints(this.copyPoints(points), 0, this.DATA_HEIGHT);\n\t\t\n\t\tlet datacolor = this.evalDataColor();\n\t\tlet dataMesh       = this.genCustomShapeMesh(prcsdPoints);\n\t\tlet strokeDataMesh = this.genCustomShapeMesh(prcsdStrokePoints, \n\t\t\t\t\t\t\tnew THREE.MeshBasicMaterial({color: datacolor}));\n\t\t\n\t\tthis.data.dataMeshes.push( {dataMesh, strokeDataMesh} );\n\t\t\n\t\tlet zoffs = this.evalMaxZOffs();\n\t\tdataMesh.geometry.translate(0, 0, zoffs);\n\t\tstrokeDataMesh.geometry.translate(0, 0, zoffs + 0.01);\n\t\t\n\t\tthis.dataGroup.add(dataMesh);\n\t\tthis.dataGroup.add(strokeDataMesh);\n\t}\n\tprocessDataPoints(points, ymin, ymax){\n\t\treturn this.processDataPoints_hlpr(points, ymin, ymax, false);\n\t}\n\tprocessStrokeDataPoints(points, ymin, ymax){\n\t\treturn this.processDataPoints_hlpr(points, ymin, ymax, true);\n\t}\n\tprocessDataPoints_hlpr(points, ymin, ymax, stroked=false){\n\t\tpoints = this.interpolDataPoints(points, ymin, ymax);\n\t\tpoints = stroked ? this.finalizeStrokePoints(points, this.DATA_STROKE_WIDTH) : this.finalizePoints(points, 0.1);\n\t\treturn points;\n\t}\n\tinterpolDataPoints(points, ymin, ymax){\n\t\tlet intrpolPnts = [];\n\t\tlet x = -Math.floor(this.DATA_WIDTH * 0.5);\n\t\tlet xstep = this.DATA_WIDTH / points.length;\n\t\t\n\t\tfor(let i=0; i < points.length; ++i){\n\t\t\tlet ytar = points[i][1];\n\t\t\tlet yintrpl = (ytar - ymin) / (ymax-ymin) * this.DATA_HEIGHT;\n\t\t\tintrpolPnts.push( [x, yintrpl] );\n\t\t\tx += xstep;\n\t\t}\n\t\treturn intrpolPnts;\n\t}\n\tfinalizePoints(interpolatedPoints){\n\t\tlet dwh = Math.floor( this.DATA_WIDTH * 0.5 );\n\t\tinterpolatedPoints.unshift( [-dwh,0] );\n\t\tinterpolatedPoints.push(    [ dwh,0] );\n\t\treturn interpolatedPoints;\n\t}\n\tfinalizeStrokePoints(interpolatedPoints, strokeWidth){\n\t\tfor(let i=interpolatedPoints.length-1; i >= 0; --i){\n\t\t\tinterpolatedPoints.push( [interpolatedPoints[i][0], interpolatedPoints[i][1]-strokeWidth] );\n\t\t}\n\t\treturn interpolatedPoints;\n\t}\n\tgenerateRandomPoints(n){\n\t\tlet pnts = [];\n\t\tlet rv = this.generateRandomValues(n);\n\t\tfor(let i=0; i < n; ++i){\n\t\t\tpnts.push( [i, rv[i]] );\n\t\t}\n\t\treturn pnts;\n\t}\n\tgenerateSinePoints(n){\n\t\tlet pnts = [];\n\t\tlet rv = this.generateSineValues(n);\n\t\tfor(let i=0; i < n; ++i){\n\t\t\tpnts.push( [i, rv[i]] );\n\t\t}\n\t\treturn pnts;\n\t}\n\tgenerateSineValues(n){\n\t\tlet v = [];\n\t\tconst offs = 0.01;\n\t\tfor(let i=0; i < n ; ++i){\n\t\t\tlet cv = Math.sin(i/n * 2 * Math.PI) + 5;\n\t\t\tv.push( cv );\n\t\t}\n\t\treturn v;\n\t}\n\tgenerateRandomValues(n){\n\t\tlet v = [];\n\t\tv.push(2);\n\t\tconst offs = 0.1;\n\t\tfor(let i=1; i < n ; ++i){\n\t\t\tlet uptick = 1 + offs;\n\t\t\tlet ups = Math.random() > 0.5 ? uptick : (1 / uptick);\n\t\t\tv.push( v[i-1] *  ups );\n\t\t}\n\t\treturn v;\n\t}\n\tgenCustomShape(points){\n\t\tlet shp = new THREE.Shape();\n\t\tshp.moveTo(...points[0]);\n\t\tfor(let i=1; i < points.length; ++i){\n\t\t\tshp.lineTo(...points[i]);\n\t\t}\n\t\treturn shp;\n\t}\n\tgenCustomShapeMesh(points, material = this.createCustomShaderMaterial()){\n\t\tlet shp = this.genCustomShape(points);\n\t\t\n\t\tlet extrudeSettings = { amount: 0.1, bevelEnabled: false, bevelSegments: 2, steps: 2, bevelSize: 1, bevelThickness: 0.1 };\n\t\t\n\t\tlet geometry = new THREE.ShapeGeometry( shp );\n\t\tlet mesh = new THREE.Mesh( geometry, material);//new THREE.MeshPhongMaterial() );\n\t\treturn mesh;\n\t}\n\tcreateCustomShaderMaterial(){\n\t\tlet vertexShader = `#version 300 es\n\t\t\n\t\t\tout vec3 frgmntPos;\n\t\t\tout vec2 vUv;\n\t\t\t\n\t\t\tvoid main(){\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\tfrgmntPos = position;\n\t\t\t\tvUv = uv;\n\t\t\t}\n\t\t`;\n\t\tlet fragmentShader = `#version 300 es\n\t\t\n\t\t\tprecision highp float;\n\t\t\tprecision highp int;\n\t\t\t\n\t\t\tin vec3 frgmntPos;\n\t\t\tin vec2 vUv;\n\t\t\t\n\t\t\tuniform float maxY;\n\t\t\tuniform float minY;\n\t\t\t\n\t\t\tconst vec3 col = vec3(0.0, 1.0, 0.0);\n\t\t\t\n\t\t\tout vec4 out_FragColor;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tfloat a = (vUv.y - minY) / (maxY - minY);\n\t\t\t\t\n\t\t\t\tout_FragColor = vec4(col, a);\n\t\t\t}\n\t\t`;\n\t\t\n\t\tlet material = new THREE.ShaderMaterial({\n\t\t\tuniforms: {\n//\t\t\t\tresolution: { value: new THREE.Vector2() },\n\t\t\t\tminY: {value: 0.0},\n\t\t\t\tmaxY: {value: this.DATA_HEIGHT}\n\t\t\t},\n\t\t\ttransparent: true,\n\t\t\tblending: THREE.NormalBlending,\n\t\t\tside: THREE.DoubleSide,\n\t\t\n\t\t\tvertexShader,\n\t\t\tfragmentShader\n\t\t});\n\t\t\n\t\treturn material;\n\t}\n\tsetLight(){\n\t\tthis.light = new THREE.DirectionalLight( 0xffffff );\n\t\tthis.light.position.set( 50, 50, 100 );\n\t\tthis.scene.add(this.light);\n\t}\n\tsetCanvasResolution(){\n//\t\tthis.onResize();\n\t}\n\tonResize(){\n\t\tthis.windowWidth = window.innerWidth;\n\t\tthis.windowHeight = window.innerHeight;\n\t\tthis.renderer.setSize(this.windowWidth, this.windowHeight);\n\t\n\t\tthis.updateCamera();\n\t}\n\tgenPerspectiveCamera(){\n\t\treturn new THREE.PerspectiveCamera(45, this.windowWidth/this.windowHeight, 1,1000);\n\t}\n\tgenOrthographicCamera(){\n\t\tlet width = this.DATA_WIDTH * 1.5;\n\t\tlet height = this.DATA_HEIGHT * 3;\n\t\treturn new THREE.OrthographicCamera( width / (-1.5), width / 1.5, height / 2, height / (-2), 1, 1000 );\n\t}\n\tupdateCamera(){\n\t\tthis.camera = this.props.orthographic ? this.genOrthographicCamera() : this.genPerspectiveCamera();\n\t\tthis.camera.position.set(0, 0, this.cameraZ);\n\t}\n\tmoveCamera(){\n\t\tlet cameraPrctg = Math.sin( (this.rot * 0.25) % (2 * Math.PI) ) * 1;\n\t\tlet cameraYPrctg = Math.sin( ((this.rot + 1) * 0.5) % (Math.PI * 2) ) * 0.25 + 0.25;\n\t\tlet cameraMaxAngle = Math.PI * 0.2;\n\t\tlet cameraAngle = cameraMaxAngle * cameraPrctg;\n\t\tthis.camera.position.set( Math.sin(cameraAngle)  * this.cameraZ,\n\t\t\t\t\t\t\t\t\t\t  Math.sin(cameraYPrctg) * this.cameraZ, \n\t\t\t\t\t\t\t\t\t\t  Math.cos(cameraAngle)  * this.cameraZ );\n\t\tthis.camera.lookAt(0,0,0);\n\t\tthis.rot += 0.01;\n\t}\n\trender(){\n\t\tthis.renderer.render(this.scene, this.camera);\n\t\trequestAnimationFrame(this.render);\n//\t\tthis.sphere.geometry.rotateY(this.rot);\n\t\tthis.moveCamera();\n\t}\n}\n\nexport default Plot3DThree;\n","import React, { Component } from 'react';\nimport './Plot3D.css';\nimport Plot3DThree from './Plot3DThree';\n\nclass Plot3D extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.onResize = this.onResize.bind(this);\n\t\t\n\t\tthis.canvas = React.createRef();\n\t}\n\tgoToArduinoHomepage(){\n\t}\n   componentDidMount(){\n   \tthis.setCanvasSize();\n   \t\n   \tlet props3D = {\n   \t\tonLoaded: \t\t\t this.props.onLoaded,\n   \t\tdata: \t\t\t\t this.props.data,\n   \t\taxisLabels: \t\t this.props.axisLabels,\n   \t\tdataLabelFontSize: this.props.dataLabelFontSize,\n   \t\taxisLabelFontSize: this.props.axisLabelFontSize\n   \t};\n   \t\n   \t/*let plot = */new Plot3DThree(this.canvas.current, props3D);\n   \t\n   \twindow.addEventListener('resize', \t\t\t\tthis.onResize);\n\t\twindow.addEventListener('orientationchange', this.onResize);\n\t}\n\tonResize(){\n\t\tlet canvas = this.canvas.current;\n\t\tif( !canvas ){\n\t\t\treturn;\n\t\t}\n\t\tthis.setCanvasSize();\n\t}\n\tsetCanvasSize(){\n\t\tlet canvas = this.canvas.current;\n\t\tif( !canvas ){\n\t\t\treturn;\n\t\t}\n\t\tlet style = canvas.style;\n\t\tstyle.width = '100%';\n\t\tstyle.height = '100%';\n\t\tstyle.minWidth  = this.props.minWidth ? this.props.minWidth + 'px' : '600px';\n\t\tstyle.maxWidth  = this.props.maxWidth ? this.props.maxWidth + 'px' : '100%';\n\t\tstyle.minHeight = this.props.minHeight ? this.props.minHeight + 'px' : '400px';\n\t\tstyle.maxHeight = this.props.maxHeight ? this.props.maxHeight + 'px' : '600px';\n\t}\n\trender(){\n\t\tthis.setCanvasSize();\n\t\treturn (\n\t\t\t<canvas className=\"ThreeCanvasRSC\"\n\t\t\t\t\t  ref={this.canvas}>\n\t\t\t</canvas>\n\t\t);\n\t}\n}\n\n\n\nexport default Plot3D;\n\n","import React, { Component } from 'react';\nimport Plot3D from '../Plot3D/Plot3D';\nimport CheckBox from '../CheckBox';\nimport SlideBar from '../SlideBar';\nimport './DataVisualizationRSC.css';\n\n//------------------------------------------------------------\n\nfunction formatDateToStr(date){\n\treturn date.toISOString().split('T')[0];\n}\nfunction addDaysToDate(days, date){\n\treturn addSecondsToDate(days * 24*60*60, date);\n}\nfunction addHoursToDate(hours, date){\n\treturn addSecondsToDate(hours * 60*60, date);\n}\nfunction addMinutesToDate(mins, date){\n\treturn addSecondsToDate(mins * 60, date);\n}\nfunction addSecondsToDate(seconds, date){\n\tlet dcpy = new Date(date); // clone - don't touch original date!\n\tdcpy.setTime(dcpy.getTime()  + seconds * 1000);\n\treturn dcpy;\n}\n\t\n//------------------------------------------------------------\n\n\nclass DataVisualizationRSC extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.onDataVisualizationReady = this.onDataVisualizationReady.bind(this);\n//\t\tthis.generateRandomDataPoints = this.generateRandomDataPoints.bind(this);\n\t\tthis.changeCamera = this.changeCamera.bind(this);\n\t\t\n\t\tthis.state = {\n\t\t\txLabelsCount: 4,\n\t\t\tyLabelsCount: 3,\n\t\t\tdataLabelFontSize: 3,\n\t\t\taxisLabelFontSize: 3.5,\n\t\t\t\n\t\t\tdata: [],\n\t\t\taxisLabels: [],\n\t\t\t\n\t\t\torthographic: false,\n\t\t\t\n\t\t\tdataCount: {\n\t\t\t\tval: 3,\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10\n\t\t\t}\n\t\t};\n\t}\n   componentDidMount(){\n\t}\n\tchangeFadingState(){\n\t\tthis.setState({fading: !this.state.fading});\n\t}\n\t//----------------------------\n\tupdateValue(stateObj, val){\n\t\tstateObj.val = val;\n\t\tthis.setState(stateObj);\n\t}\n\tupdatePercentageValue(prctg, stateObj, floor=false){\n\t\tthis.updateValue(stateObj, this.evalRangeValue(prctg, stateObj, floor));\n\t}\n\tevalRangeValue(prctg, stateObj, floor=false){\n\t\tlet x =  stateObj.min + prctg * (stateObj.max - stateObj.min);\n\t\treturn !!floor ? Math.floor(x) : x;\n\t}\n\tgenPercentageSetter(stateObj, floor=false){\n\t\treturn (prctg)=>{this.updatePercentageValue(prctg, stateObj, floor)}\n\t}\n\t//----------------------------\n\tevalRangePercentage(stateObj){\n\t\treturn (stateObj.val - stateObj.min) / (stateObj.max - stateObj.min);\n\t}\n\tevalRangePercentageInt(stageObj){\n\t\treturn this.evalRangePercentage(stageObj) ;\n\t}\n\t//-----------------------------------\n\tonDataVisualizationReady(plot3DThree){\n\t\tthis.plot3DThree = plot3DThree;\n\t\t\n\t\tsetTimeout(()=>{\n\t\t\tthis.generateRandomDataPoints();\n\t\t\tthis.generateAxisLabels();\n\t\t}, 100);\n\t}\n\tgenerateRandomDataPoints(){\n\t\tlet plot3DThree = this.plot3DThree;\n\t\tlet randomLabelGenerator = (id)=>{\n\t\t\treturn 'random data #' + id;\n\t\t};\n\t\t\n\t\tlet data = [];\n\t\tfor(let i=0; i < Math.floor(this.state.dataCount.val); ++i){\n\t\t\tdata.push( {points: this.generateRandomPoints(100), label: randomLabelGenerator(i)} );\n\t\t}\n\t\t\n\t\tif(!!plot3DThree){\n\t\t\tplot3DThree.clearData();\n\t\t\tdata.forEach(d => plot3DThree.addData( d ) );\n\t\t}\n\n\t\tthis.setState({data});\n\t}\n\tgenerateAxisLabels(){\n\t\tlet plot3DThree = this.plot3DThree;\n\t\tif(!plot3DThree){\n\t\t\treturn;\n\t\t}\n\t\tlet axisLabels = {\n\t\t\txlabels: [],//'0', '1', '2', '3', '4'],\t\t\t\n\t\t\tylabels: ['80.0', '90.0', '100.0', '110.0']\n\t\t};\n\t\tlet curDate = new Date();\n\t\tfor(let i=0; i < 5; ++i){\n\t\t\tlet d = addDaysToDate(i, curDate);\n\t\t\tlet dstr = formatDateToStr(d);\n\t\t\taxisLabels.xlabels.push(dstr);\n\t\t}\n\t\tplot3DThree.setAxisLabels( axisLabels );\n\t}\n\tchangeCamera(){\n\t\tif(!this.plot3DThree){\n\t\t\treturn;\n\t\t}\n\t\tlet newState = !this.state.orthographic;\n\t\tif(newState){\n\t\t\tthis.plot3DThree.setOrthographicCamera();\n\t\t}else{\n\t\t\tthis.plot3DThree.setPerspectiveCamera();\n\t\t}\n\t\tthis.setState({orthographic: newState});\n\t\t\n\t}\n\tupdatePlotDataCount(){\n\t\tif( !this.plot3DThree ){\n\t\t\treturn;\n\t\t}\n\t\tthis.generateRandomDataPoints();\n\t}\n\trender(){\n\t\tlet description = `\n\t\t\tMost diagrams that plot time series data leverage only two dimensions. \n\t\t\tThat sometimes makes it more difficult to distinguish each graph\n\t\t\tthan it needs to be.\n\t\t\tI programmed a plot that adds the third dimension to it. Most of the time\n\t\t\tit in deed makes it easier zu distinguish the graphs and their values.\n\t\t\tThis diagram plots random data. The camera randomly rotates to give an impression\n\t\t\tof the three dimensional rendering. In production code the user can\n\t\t\tcontrol the viewing angle.\n\t\t\tThe code uses the Three.js library with WebGL 2 enabled.\n\t\t`;\n\t\treturn (\n\t\t\t<div className=\"DataVisualizationRSC\">\n\t\t\t\t<div className=\"HeadingRSC\">\n\t\t\t\t\t3D time series plot\n\t\t\t\t</div>\n\t\t\t\t<div className=\"DescriptionRSC\">\n\t\t\t\t\t{description}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"DataVisualizationCanvasDivRSC\">\n\t\t\t\t\t<Plot3D onLoaded={this.onDataVisualizationReady}\n\t\t\t\t\t\t\t\tdataLabelFontSize={this.state.dataLabelFontSize}\n\t\t\t\t\t\t\t\taxisLabelFontSize={this.state.axisLabelFontSize}/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"SettingsDivRSC SettingsDivDataVisualizationRSC\">\n\t\t\t\t\t<div className=\"CheckBoxDivRSC\">\n\t\t\t\t\t\t<div className=\"CheckBoxLabelRSC\">\n\t\t\t\t\t\t\t{\"orthographic camera:\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"CheckBoxRSC\">\n\t\t\t\t\t\t\t<CheckBox checked={this.state.orthographic}\n\t\t\t\t\t\t\t\t\t \t onClick={this.changeCamera}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"SliderContainerRSC\">\n\t\t\t\t\t\t<div className=\"SliderDivRSC\">\n\t\t\t\t\t\t\t<SlideBar label=\"graph count\"\n\t\t\t\t\t\t\t\t\t\t sliderVal={this.evalRangePercentageInt(this.state.dataCount)}\n\t\t\t\t\t\t\t\t\t\t onMouseUp={(value)=>{\n\t\t\t\t\t\t\t\t\t\t \tlet lastVal = Math.floor(this.state.dataCount.val);\n\t\t\t\t\t\t\t\t\t\t \tlet setter = this.genPercentageSetter(this.state.dataCount);\n\t\t\t\t\t\t\t\t\t\t \tsetter(value);\n\t\t\t\t\t\t\t\t\t\t \tlet newVal = Math.floor(this.state.dataCount.val);\n\t\t\t\t\t\t\t\t\t\t \tif(lastVal != newVal){\n\t\t\t\t\t\t\t\t\t\t \t\tthis.updatePlotDataCount();\n\t\t\t\t\t\t\t\t\t\t \t}\n\t\t\t\t\t\t\t\t\t\t }}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\t//----------------------------------\n\t\n\tgenerateRandomPoints(n){\n\t\tlet pnts = [];\n\t\tlet rv = this.generateRandomValues(n);\n\t\tfor(let i=0; i < n; ++i){\n\t\t\tpnts.push( [i, rv[i]] );\n\t\t}\n\t\treturn pnts;\n\t}\n\tgenerateSinePoints(n){\n\t\tlet pnts = [];\n\t\tlet rv = this.generateSineValues(n);\n\t\tfor(let i=0; i < n; ++i){\n\t\t\tpnts.push( [i, rv[i]] );\n\t\t}\n\t\treturn pnts;\n\t}\n\tgenerateSineValues(n){\n\t\tlet v = [];\n\t\tconst offs = 0.01;\n\t\tfor(let i=0; i < n ; ++i){\n\t\t\tlet cv = Math.sin(i/n * 2 * Math.PI) + 5;\n\t\t\tv.push( cv );\n\t\t}\n\t\treturn v;\n\t}\n\tgenerateRandomValues(n, min=0, max=8){\n\t\tlet v = [];\n\t\tv.push(2);\n\t\tconst offs = 0.1;\n\t\tfor(let i=1; i < n ; ++i){\n\t\t\tlet uptick = 1 + offs;\n\t\t\tlet ups = Math.random() > 0.5 ? uptick : (1 / uptick);\n\t\t\tlet tarVal = Math.max(Math.min(max, v[i-1] * ups), min);\n\t\t\tv.push( tarVal );\n\t\t}\n\t\treturn v;\n\t}\n}\n\nexport default DataVisualizationRSC;\n\n\t","import React, {Component} from 'react';\nimport Carousel from '../CarouselDiaShow/Carousel';\nimport './CarrouselDiaShowRSC.css';\n\nclass CarrouselDiaShowRSC extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      stopAnimation: false\n    };\n  }\n  generateImagePaths() {\n    // let imgGenerator = (id) => process.env.PUBLIC_URL + '/pics/testImgs/test' + id + '.png';\n    let imgGenerator = (id) => process.env.PUBLIC_URL + '/SlideShow/pics/HippoPreview' + id + '.jpg';\n    let imgPaths = [];\n    for (let i = 0; i < 6; ++i) {\n      imgPaths.push(imgGenerator(i));\n    }\n    return imgPaths;\n  }\n  render() {\n    const heading = 'Carousel Image Gallery';\n    const description = <div>\n      This responsive carousel image gallery uses a canvas to render the images.<br/>\n      The user can click on the images to scroll back and forth and let the carousel rotate automatically.<br/>\n      You can specify the rotation speed and the image ratio. In the demo the ratio is set to 16:9. The images are automatically resized to retain the ratio whenever the carousel-component is resized.<br/>\n      You can jump to a specific image by clicking on the respective indicator at the bottom section of the carousel.\n    </div>;\n\n    return (<div id=\"CarrouselDiaShoMainDivwRSC\">\n      <div id=\"HeadingCDS\" className=\"HeadingRSC\">\n        {heading}\n      </div>\n      <div id=\"CarouselDivRSC\">\n        <Carousel imgPaths={this.generateImagePaths()}\n                  stopAnimation={this.state.stopAnimation}\n                  imgRatio={ {w:16, h:9} }/>\n      </div>\n      <div id=\"DescriptionCDS\" className=\"DescriptionRSC\">\n        {description}\n      </div>\n      <div id=\"SettingsCDS\"></div>\n    </div>);\n  }\n}\n\nexport default CarrouselDiaShowRSC;\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\n\nimport CurtainButton from '../CurtainButton';\nimport IndicatorBar from '../IndicatorBar';\nimport SpinningWheel from '../SpinningWheel';\nimport DiaSelector from '../DiaSelector/DiaSelector';\n\nimport FlipSelectorRSC from './FlipSelectorRSC';\nimport SlideBarRSC from './SlideBarRSC';\nimport SpinningWheelRSC from './SpinningWheelRSC';\nimport WaitingBarRSC from './WaitingBarRSC';\nimport WaveWaitingBarRSC from './WaveWaitingBarRSC';\nimport DataVisualizationRSC from './DataVisualizationRSC';\nimport CarrouselDiaShowRSC from './CarrouselDiaShowRSC';\n\n\nimport './ReactShowCase.css';\n\nimport Prism from 'prismjs';\nimport \"../prism/themes/Okaidia.css\";\n\nclass ReactShowCase extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.previewSelected = this.previewSelected.bind(this);\n\t\tthis.getPreviewImagePaths = this.getPreviewImagePaths.bind(this);\n\t\tthis.setFullScreen = this.setFullScreen.bind(this);\n\t\tthis.onFullScreenChange = this.onFullScreenChange.bind(this);\n\n\t\tthis.showcase = React.createRef();\n\n\t\tthis.addFullScreenChangeListener();\n\n\t\tthis.state = {\n\t\t\tselectedPreviewId: 0,\n\t\t\tpreviewImagePaths: this.getPreviewImagePaths(),\n\t\t\tfullScreen: false\n\t\t}\n\t}\n\tgetPreviewImagePaths(){\n\t\tlet basePath = process.env.PUBLIC_URL + '/ReactShowCase/previews/';\n\t\treturn [basePath + 'Carousel.jpg',\n\t\t\t\tbasePath + 'WaitingBar.jpg',\n\t\t\t\tbasePath + 'WaveWaitingBar.jpg',\n\t\t\t\tbasePath + 'DataVisualization.jpg',\n\t\t\t\tbasePath + 'SpinningSelector.jpg',\n\t\t\t\tbasePath + 'FlipSelector.jpg',\n\t\t\t\tbasePath + 'SlideBar2.jpg'\n\t\t\t\t  ];\n\t}\n   componentDidMount(){\n\t\t window.scrollTo(0,0);\n\t}\n\tgenMainComponent(){\n\t\tswitch(this.state.selectedPreviewId){\n\t\t\tcase 0:\n\t\t\t\treturn this.genCarrouselDiaShow();\n\t\t\tcase 1:\n\t\t\t\treturn this.genWaitingBar();\n\t\t\tcase 2:\n\t\t\t\treturn this.genWaveWaitingBar();\n\t\t\tcase 3:\n\t\t\t\treturn this.genDataVisualization();\n\t\t\tcase 4:\n\t\t\t\treturn this.genSpinningWheel();\n\t\t\tcase 5:\n\t\t\t\treturn this.genFlipSelector();\n\t\t\tcase 6:\n\t\t\t\treturn this.genSlideBar();\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\tinvalid selection!\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t}\n\tgenCarrouselDiaShow(){\n\t\treturn (\n\t\t\t<CarrouselDiaShowRSC/>\n\t\t);\n\t}\n\tgenFlipSelector(){\n\t\treturn (\n\t\t\t<FlipSelectorRSC/>\n\t\t);\n\t}\n\tgenSlideBar(){\n\t\treturn (\n\t\t\t<SlideBarRSC/>\n\t\t);\n\t}\n\tgenSpinningWheel(){\n\t\treturn (\n\t\t\t<SpinningWheelRSC/>\n\t\t);\n\t}\n\tgenWaitingBar(){\n\t\treturn (\n\t\t\t<WaitingBarRSC/>\n\t\t);\n\t}\n\tgenWaveWaitingBar(){\n\t\treturn (\n\t\t\t<WaveWaitingBarRSC/>\n\t\t);\n\t}\n\tgenDataVisualization(){\n\t\treturn (\n\t\t\t<DataVisualizationRSC/>\n\t\t)\n\t}\n\tpreviewSelected(previewId){\n\t\tthis.setState({selectedPreviewId: previewId});\n\t}\n\taddFullScreenChangeListener(){\n\t\t/* Standard syntax */\n/*\t\tdocument.addEventListener(\"fullscreenchange\", this.onFullScreenChange);*/\n\t\t/* Firefox */\n\t\tdocument.addEventListener(\"mozfullscreenchange\", this.onFullScreenChange);\n\t\t/* Chrome, Safari and Opera */\n\t\tdocument.addEventListener(\"webkitfullscreenchange\", this.onFullScreenChange);\n\t\t/* IE / Edge */\n\t\tdocument.addEventListener(\"msfullscreenchange\", this.onFullScreenChange);\n\t}\n\tonFullScreenChange(e){\n\t\tif(this.dontChangeStateOnFullScreenChangeEvent){\n\t\t\tthis.dontChangeStateOnFullScreenChangeEvent = false;\n\t\t\treturn;\n\t\t}\n\t\tif(this.state.fullScreen){\n\t\t\tthis.setState({fullScreen: false});\n\t\t}\n\t}\n\tsetFullScreen(){\n\t\tlet oldState = this.state.fullScreen;\n\t\tvar elem = this.showcase.current;//document.getElementById(\"myvideo\");\n\t\tfunction openFullscreen() {\n\t\t\tif (elem.mozRequestFullScreen) { /* Firefox */\n\t\t\t\telem.mozRequestFullScreen();\n\t\t\t} else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */\n\t\t\t\telem.webkitRequestFullscreen();\n\t\t\t} else if (elem.msRequestFullscreen) { /* IE/Edge */\n\t\t\t\telem.msRequestFullscreen();\n\t\t\t} else if (elem.requestFullscreen) {\n\t\t\t\telem.requestFullscreen();\n\t\t\t}\n\t\t}\n\t\tfunction closeFullscreen() {\n\t\t\tif (document.mozCancelFullScreen) { /* Firefox */\n\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t} else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */\n\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t} else if (document.msExitFullscreen) { /* IE/Edge */\n\t\t\t\tdocument.msExitFullscreen();\n\t\t\t} else if (document.exitFullscreen) {\n\t\t\t\tdocument.exitFullscreen();\n\t\t\t}\n\t\t}\n\n\t\tif(oldState){\n\t\t\tcloseFullscreen();\n\t\t}else{\n\t\t\tthis.dontChangeStateOnFullScreenChangeEvent = true;\n\t\t\topenFullscreen();\n\t\t}\n\t\tthis.setState({fullScreen: !oldState});\n\t}\n\trender(){\n\t\tconst heading = 'React.js Components';\n\t\tconst description = `\n\t\t\tFor several React.js projects I needed some custom React/HTML-components. Some of these\n\t\t\tare presented below. Click on the fullscreen-button for a better user experience.\n\t\t`;\n\t\tlet code = `\nimport React, { Component } from 'react';\nimport SlideBar from '../SlideBar';\nimport './SlideBarRSC.css';\n\n\t\t`;\n\n\t\treturn (\n\t\t\t<div className=\"MainRSC\">\n\t\t\t\t<div className=\"ProgramHeading\">\n\t\t\t\t\t{heading}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"DescriptionRSC\"\n\t\t\t\t\t  className=\"ProgramDescription\">\n\t\t\t\t\t{description}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"FullScreenRSC\">\n\t\t\t\t\t<CurtainButton text=\"switch to fullscreen\"\n\t\t\t\t\t\t\t\tonClick={this.setFullScreen}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ReactShowCase\"\n\t\t\t\t\t  ref={this.showcase}>\n\t\t\t\t\t<div className=\"FullScreenRSC\"\n\t\t\t\t\t\t\tonClick={this.setFullScreen}>\n\t\t\t\t\t\t&#9974;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"DiaSelectorRSC\">\n\t\t\t\t\t\t<DiaSelector mainContent={this.genMainComponent()}\n\t\t\t\t\t\t\t\t\t\t selectedId={this.state.selectedPreviewId}\n\t\t\t\t\t\t\t\t\t\t previewImagePaths={this.state.previewImagePaths}\n\t\t\t\t\t\t\t\t\t\t previewSelected={this.previewSelected}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/*\n\t\t\t\t<div id=\"CodeDivRSC\">\n\t\t\t\t\t<div id=\"CodeHeadingRSC\">\n\t\t\t\t\t\tCode\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"CodeFilesRSC\">\n\t\t\t\t\t\t<button className=\"CodeFileRSC\">\n\t\t\t\t\t\t\tJavaScript\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className=\"CodeFileRSC\">\n\t\t\t\t\t\t\tCSS\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"CodeRSC\">\n\t\t\t\t\t\t<pre><code class=\"language-js\">{code}</code></pre>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(ReactShowCase);\n","\nconst EasingFunctions = {\n  // no easing, no acceleration\n  linear: function (t) { return t },\n  // accelerating from zero velocity\n  easeInQuad: function (t) { return t*t },\n  // decelerating to zero velocity\n  easeOutQuad: function (t) { return t*(2-t) },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t },\n  // accelerating from zero velocity\n  easeInCubic: function (t) { return t*t*t },\n  // decelerating to zero velocity\n  easeOutCubic: function (t) { return (--t)*t*t+1 },\n  // acceleration until halfway, then deceleration\n  easeInOutCubic: function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 },\n  // accelerating from zero velocity\n  easeInQuart: function (t) { return t*t*t*t },\n  // decelerating to zero velocity\n  easeOutQuart: function (t) { return 1-(--t)*t*t*t },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t },\n  // accelerating from zero velocity\n  easeInQuint: function (t) { return t*t*t*t*t },\n  // decelerating to zero velocity\n  easeOutQuint: function (t) { return 1+(--t)*t*t*t*t },\n  // acceleration until halfway, then deceleration\n  easeInOutQuint: function (t) { return t<.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t }\n};\n\nexport default EasingFunctions;\n","import React, { Component, useState, useEffect, useRef } from 'react';\nimport EasingFunctions from './EasingFunctions';\nimport './FragmentImage.scss';\n\n\nconst FRAGMENT_ANIMATION = {\n  HORIZONTAL_EASE_IN: 0,\n  HORIZONTAL_EASE_OUT: 1,\n  VERTICAL_EASE_IN: 2,\n  VERTICAL_EASE_OUT: 3,\n};\n\nfunction FragmentImage({imgPath, fragmentCount, padding=1, paddingColor='#442222', fragmentDuration=500, fragmentDelay=200,\n                        onAnimationFinished=()=>{}, fragmentAnimation=FRAGMENT_ANIMATION.VERTICAL_EASE_IN,\n                        startAnimations}){\n\n  let stopAnimations = useRef(false);\n\n  const initOffsets = [];\n  for(let i=0; i < fragmentCount; ++i){\n    initOffsets.push(0);\n  }\n\n  function genArr(cnt, val){\n    const xs = [];\n    for(let i=0; i < cnt; ++i){\n      xs.push(val);\n    }\n    return xs;\n  }\n\n  let [imgWidth, imgHeight] = [0,0];\n  let [cnvsWidth, cnvsHeight] = [1000,1000];\n\n  const canvasRef = useRef(null);\n  const imgRef    = useRef(null);\n  let frgmntXOffsts  = genArr(fragmentCount, 0);\n  let frgmntWidths   = genArr(fragmentCount, 1);\n  let frgmntYOffsts  = genArr(fragmentCount, 0);\n  let frgmntHeights  = genArr(fragmentCount, 0);\n\n  const ANIM_FRAGMENT_DELAY = fragmentDelay;\n  const ANIM_FRAGMENT_DUR = fragmentDuration;\n  const DURATION = fragmentDelay * (fragmentCount-1) + fragmentDuration;\n  let inFadeIn = true;\n  let animFrgmntId = 0;\n  let elapsed = 0;\n  let lt = new Date().getTime();\n\n  resetParameters();\n\n  function resetTimeMeasures(){\n    elapsed = 0;\n    lt = new Date().getTime();\n  }\n  function eval_dt(){\n    let ct = new Date().getTime();\n    let x = ct - lt;\n    lt = ct;\n    return x;\n  }\n\n  function resetParameters(){\n    switch(fragmentAnimation){\n      case FRAGMENT_ANIMATION.VERTICAL_EASE_IN:\n        frgmntYOffsts  = genArr(fragmentCount, 0);\n        frgmntHeights  = genArr(fragmentCount, 0);\n        frgmntXOffsts  = genArr(fragmentCount, 0);\n        frgmntWidths   = genArr(fragmentCount, 1);\n        break;\n      case FRAGMENT_ANIMATION.VERTICAL_EASE_OUT:\n        frgmntYOffsts  = genArr(fragmentCount, 0);\n        frgmntHeights  = genArr(fragmentCount, 0);\n        frgmntXOffsts  = genArr(fragmentCount, 0);\n        frgmntWidths   = genArr(fragmentCount, 1);\n        break;\n      case FRAGMENT_ANIMATION.HORIZONTAL_EASE_IN:\n        frgmntYOffsts  = genArr(fragmentCount, 0);\n        frgmntHeights  = genArr(fragmentCount, 1);\n        frgmntXOffsts  = genArr(fragmentCount, 0);\n        frgmntWidths   = genArr(fragmentCount, 0);\n        break;\n      case FRAGMENT_ANIMATION.HORIZONTAL_EASE_OUT:\n        frgmntYOffsts  = genArr(fragmentCount, 0);\n        frgmntHeights  = genArr(fragmentCount, 1);\n        frgmntXOffsts  = genArr(fragmentCount, 0);\n        frgmntWidths   = genArr(fragmentCount, 1);\n        break;\n    }\n\n    resetTimeMeasures();\n  }\n\n\n  //----------ref-getters----------\n  function getCanvas(){\n    return canvasRef.current;\n  }\n  function getContext(){\n    const cnvs = getCanvas();\n    return cnvs && cnvs.getContext(\"2d\");\n  }\n  function getImage(){\n    return imgRef.current;\n  }\n  //----------ref-getters----------\n\n  //----------paint-functions----------\n  function drawFragment({sx, sy, sdx, sdy, tx, ty, tdx, tdy}){\n    const ctx = getContext();\n    const img = getImage();\n\n    if(stopAnimations.current || !ctx || !img){\n      return;\n    }\n\n    ctx.drawImage(img, sx, sy, sdx, sdy,\n                       tx, ty, tdx, tdy);\n  }\n  function paintPadding(i, ctx){\n    if(stopAnimations.current || !ctx){\n      return;\n    }\n    let fragmentWidth = eval_fragmentWidth();\n    let tx = (fragmentWidth + padding) * i;\n    ctx.fillRect(tx, 0, padding, cnvsHeight);\n  }\n  function paintPaddings(){\n    const ctx = getContext();\n    if(stopAnimations.current || !ctx){\n      return;\n    }\n    ctx.strokeStyle = paddingColor;\n    ctx.fillStyle   = paddingColor;\n    for(let i=1; i < fragmentCount; ++i){\n      paintPadding(i, ctx);\n    }\n  }\n  function eval_fragmentWidth(){\n    return (cnvsWidth - padding * (fragmentCount-1))  / fragmentCount;\n  }\n  function eval_tx(i, fragmentWidth){\n    return (fragmentWidth + padding) * i + frgmntXOffsts[i] * fragmentWidth;\n  }\n  function evalAndDrawFragment(i){\n    if(stopAnimations.current){\n      return;\n    }\n    let sdx = imgWidth / fragmentCount;\n    let fragmentWidth = eval_fragmentWidth();\n    let tdx = fragmentWidth * frgmntWidths[i];\n    let sdy = imgHeight;\n    // let tdy = cnvsHeight;\n    let tdy = frgmntHeights[i] * cnvsHeight;\n    let sx = sdx * i;\n    let tx = eval_tx(i, fragmentWidth);\n    let sy = 0;\n    let ty = frgmntYOffsts[i] * cnvsHeight;\n    drawFragment({sx, sy, sdx, sdy,\n                  tx, ty, tdx, tdy});\n  }\n  function paintImage(){\n    clearCanvas();\n    for(let i=0; i < fragmentCount; ++i){\n      evalAndDrawFragment(i);\n    }\n    paintPaddings();\n\n  }\n  function clearCanvas(){\n    const ctx = getContext();\n    if(stopAnimations.current || !ctx){\n      return;\n    }\n    ctx.clearRect(0,0, cnvsWidth, cnvsHeight);\n  }\n  //----------paint-functions----------\n\n  function animationDone(){\n    return elapsed >= DURATION;\n  }\n  function verticalEaseIn(){\n    easeIn_hlpr(frgmntHeights);\n  }\n  function verticalEaseOut(){\n    easeOut_hlpr(frgmntYOffsts);\n    frgmntHeights = frgmntYOffsts.map(x=>x);\n    frgmntYOffsts = frgmntYOffsts.map(x=>1-x);\n  }\n\n  function horizontalEaseIn(){\n    easeIn_hlpr(frgmntWidths);\n  }\n  function horizontalEaseOut(){\n    easeOut_hlpr(frgmntXOffsts);\n    frgmntWidths  = frgmntXOffsts.map(x=>x);\n    frgmntXOffsts = frgmntXOffsts.map(x=>1-x);\n  }\n\n  function easeIn_hlpr(tarArr){\n    if(stopAnimations.current){\n      return;\n    }\n    for(let i=0; i < tarArr.length; ++i){\n      if(elapsed >= DURATION){\n        tarArr[i] = 1;\n      }else{\n        let startTime = ANIM_FRAGMENT_DELAY * i;\n        let totalFragmentDur = ANIM_FRAGMENT_DUR === 0 ? DURATION - startTime : ANIM_FRAGMENT_DUR;\n        if(elapsed < startTime){\n          tarArr[i] = 0;\n        }else if(elapsed >= startTime + totalFragmentDur){\n          tarArr[i] = 1;\n        }else{\n          let absFrgmntElpsd = elapsed - startTime;\n          let relFrgmntElpsd = absFrgmntElpsd / totalFragmentDur;\n          tarArr[i] = EasingFunctions.easeOutQuart(relFrgmntElpsd);// Math.sin( Math.PI / 2 * relFrgmntElpsd);\n        }\n      }\n    }\n  }\n  function easeOut_hlpr(tarArr){\n    if(stopAnimations.current){\n      return;\n    }\n    for(let i=0; i < tarArr.length; ++i){\n      if(elapsed >= DURATION){\n        tarArr[i] = 0;\n      }else{\n        let startTime = ANIM_FRAGMENT_DELAY * i;\n        let totalFragmentDur = ANIM_FRAGMENT_DUR === 0 ? DURATION - startTime : ANIM_FRAGMENT_DUR;\n        if(elapsed < startTime){\n          tarArr[i] = 1;\n        }else if(elapsed >= startTime + totalFragmentDur){\n          tarArr[i] = 0;\n        }else{\n          let absFrgmntElpsd = elapsed - startTime;\n          let relFrgmntElpsd = absFrgmntElpsd / totalFragmentDur;\n          tarArr[i] = 1 - EasingFunctions.easeOutCubic(relFrgmntElpsd);// Math.sin( Math.PI / 2 * relFrgmntElpsd);\n        }\n      }\n    }\n  }\n\n  function incrementAnimation(){\n    if(stopAnimations.current){\n      return;\n    }\n    let dt = eval_dt();\n    elapsed += dt;\n\n    switch(fragmentAnimation){\n      case FRAGMENT_ANIMATION.VERTICAL_EASE_IN:\n        verticalEaseIn();\n        break;\n      case FRAGMENT_ANIMATION.VERTICAL_EASE_OUT:\n        verticalEaseOut();\n        break;\n      case FRAGMENT_ANIMATION.HORIZONTAL_EASE_IN:\n        horizontalEaseIn();\n        break;\n      case FRAGMENT_ANIMATION.HORIZONTAL_EASE_OUT:\n        horizontalEaseOut();\n        break;\n    }\n  }\n\n  function _onAnimationFinished(){\n    if(stopAnimations.current){\n      return;\n    }\n    onAnimationFinished();\n  }\n\n  function nextAnimationFrame(){\n    if(stopAnimations.current){\n      return;\n    }\n    incrementAnimation();\n    paintImage();\n    if( !animationDone() ){\n      window.requestAnimationFrame(nextAnimationFrame);\n    }else{\n      _onAnimationFinished();\n    }\n  }\n  function startAnimation(){\n    if(stopAnimations.current){\n      return;\n    }\n    nextAnimationFrame();\n  }\n\n\n  function setImagePathAndRunAnimation(){\n    if(stopAnimations.current){\n      return;\n    }\n    const img = getImage();\n    img.onload = ()=>{\n      imgWidth = img.width;\n      imgHeight = img.height;\n      startAnimation();\n    };\n    img.src = imgPath;\n  }\n\n  useEffect(()=>{\n    if(stopAnimations.current){\n      return;\n    }\n    if(!startAnimations){\n      return;\n    }\n    setImagePathAndRunAnimation();\n  }, [fragmentAnimation, startAnimations]);\n\n  useEffect(()=>{\n    return ()=>{\n      stopAnimations.current = true;\n    }\n  }, []);\n\n  return (\n    <div className=\"MainFI\">\n      <img ref={imgRef}\n           className=\"FakeImageFI\"\n           src={imgPath}/>\n      <canvas ref={canvasRef}\n              className=\"CanvasFI\"\n              width={cnvsWidth}\n              height={cnvsHeight}/>\n    </div>\n  );\n}\n\nfunction FragmentAnmiator({imgPaths,\n                           onImageStartsEasingIn=()=>{}, onImageEasedIn=()=>{},\n                           onImageStartsEasingOut=()=>{}, onImageEasedOut=()=>{},\n                           imageTimeoutDuration=2000,\n                           fragmentDuration=800,\n                           interAnimDelay=10,\n                           fragmentDelay=150,\n                           indiatorFadeOutDuration=300,\n                           fragmentCount=7,\n                           startAnimations\n                          }){\n  const [pathCntr, setPathCntr] = useState(0);\n  const [imgPath, setImgPath] = useState( getNextPath() );\n  const [fadeInToggle, setFadeInToggle] = useState(true);\n  const [fragmentAnimation, setFragmentAnimation] = useState( FRAGMENT_ANIMATION.VERTICAL_EASE_IN );\n  const [initialized, setInitialized] = useState(false);\n  const indicatorRef = useRef();\n\n  let stopAnimations = useRef(false);\n\n  function evalTotalAnimationDuration(){\n    return (fragmentDelay + interAnimDelay) * (fragmentCount - 1) + fragmentDuration;\n  }\n  function evalTotalImageDisplayTime(){\n    return evalTotalAnimationDuration() + imageTimeoutDuration;\n  }\n\n  function incrementPathCntr(){\n    setPathCntr( pathCntr + 1 );\n  }\n  function getNextPath(){\n    return imgPaths[ (pathCntr % imgPaths.length) ];\n  }\n\n  function setNextPath(){\n    setImgPath( getNextPath() );\n  }\n\n  function toggleFadeIn(){\n    setFadeInToggle( !fadeInToggle );\n  }\n  function fadeIndiatorOut(){\n    let elpsd = 0;\n    const totalDuration = indiatorFadeOutDuration;\n    let st = new Date().getTime();\n    const indctr = indicatorRef.current;\n    if(!indctr || stopAnimations.current){\n      return;\n    }\n    indctr.style.opacity = '1';\n\n    function fadeOut(){\n      let ct = new Date().getTime();\n      elpsd = ct - st;\n      const prgrs = elpsd / totalDuration;\n      indctr.style.opacity = '' + (1-prgrs);\n    }\n\n    function runFadeOutAnim(){\n      fadeOut();\n      if(elpsd < totalDuration){\n        window.requestAnimationFrame(runFadeOutAnim);\n      }else{\n        indctr.style.width = '0%';\n        indctr.style.opacity = '1';\n      }\n    }\n    runFadeOutAnim();\n  }\n  function startInidatorAnimation(){\n    const indctr = indicatorRef.current;\n    if(!indctr || stopAnimations.current){\n      return;\n    }\n\n    let elpsd = 0;\n    const totalDuration = evalTotalImageDisplayTime();\n    let st = new Date().getTime();\n    indctr.style.opacity = '1';\n    function nextIndicatorAnim(){\n      let ct = new Date().getTime();\n      elpsd = ct - st;\n      const prgrs = elpsd / totalDuration;\n      indctr.style.width = '' + (prgrs * 100) + '%';\n    }\n\n    function runIndicatorProgressAnim(){\n      nextIndicatorAnim();\n      if(elpsd < totalDuration){\n        window.requestAnimationFrame(runIndicatorProgressAnim);\n      }else{\n        fadeIndiatorOut();\n      }\n    }\n    runIndicatorProgressAnim();\n  }\n  function nextImage(){\n    const indctr = indicatorRef.current;\n    if(!indctr || stopAnimations.current){\n      return;\n    }\n    indctr.style.width = '0%';\n    startInidatorAnimation();\n    incrementPathCntr();\n  }\n  function setNextFragmentAnimation(){\n    switch(fragmentAnimation){\n      case FRAGMENT_ANIMATION.VERTICAL_EASE_IN:\n        onImageStartsEasingIn();\n        setFragmentAnimation( FRAGMENT_ANIMATION.VERTICAL_EASE_OUT );\n        break;\n      case FRAGMENT_ANIMATION.VERTICAL_EASE_OUT:\n        nextImage();\n        setFragmentAnimation( FRAGMENT_ANIMATION.HORIZONTAL_EASE_IN );\n        break;\n      case FRAGMENT_ANIMATION.HORIZONTAL_EASE_IN:\n        onImageStartsEasingIn();\n        setFragmentAnimation( FRAGMENT_ANIMATION.HORIZONTAL_EASE_OUT );\n        break;\n      case FRAGMENT_ANIMATION.HORIZONTAL_EASE_OUT:\n        nextImage();\n        setFragmentAnimation( FRAGMENT_ANIMATION.VERTICAL_EASE_IN );\n        break;\n    }\n  }\n\n  useEffect(()=>{\n    return ()=>{\n      stopAnimations.current = true;\n    }\n  }, []);\n  useEffect(()=>{\n    if(stopAnimations.current || !startAnimations){\n      return;\n    }\n    setNextPath();\n  }, [pathCntr]);\n  useEffect(()=>{\n    if(stopAnimations.current){\n      return;\n    }\n    if(!startAnimations){\n      return;\n    }\n    if(initialized){\n      setNextFragmentAnimation();\n    }else{\n      startInidatorAnimation();\n      setInitialized(true);\n    }\n  }, [fadeInToggle, startAnimations]);\n\n  return (\n    <div className=\"FragmentAnmiator\">\n      <div className=\"FragmentImageIndicator\"\n           ref={indicatorRef}>\n      </div>\n      <FragmentImage imgPath={imgPath}\n                     fragmentCount={fragmentCount}\n                     fragmentDuration={fragmentDuration}\n                     fragmentDelay={fragmentDelay}\n                     fragmentAnimation={fragmentAnimation}\n                     onAnimationFinished={()=>{\n                       if(fadeInToggle){\n                         onImageEasedIn();\n                         setTimeout(()=>{\n                           onImageStartsEasingOut();\n                           toggleFadeIn();\n                         }, imageTimeoutDuration);\n                       }else{\n                         onImageEasedOut();\n                         setTimeout(toggleFadeIn, interAnimDelay);\n                       }\n                     }}\n                     startAnimations={startAnimations}\n      />\n    </div>\n  );\n}\n\nexport {FragmentAnmiator, FragmentImage, FRAGMENT_ANIMATION};\n","import React, { useState, useEffect, useRef } from 'react';\nimport {FragmentAnmiator} from './FragmentImage';\nimport EasingFunctions from './EasingFunctions';\nimport * as WAITINGBAR from '../WaitingBar/WaitingBar';\nimport './FragmentImagePreview.scss';\n\nfunction LabelComp({text, fontSize, textAlignCenter}){\n  let styl = {\n    // fontSize: ('' + fontSize + 'px'),\n    textAlign: (textAlignCenter ? 'center' : 'left'),\n  }\n  const clsName = fontSize >= 40 ? 'HeadingLCFIP' : 'DescriptionLCFIP';\n  function splitTextToMaxLineWidth(wordsPerLine=5){\n    let splt = text.replace(/\\s/g, ' ').split(' ').map(x=>x.trim()).filter(x=>x);\n    let tar = '';\n    for(let i=0; i < splt.length; i+=wordsPerLine){\n      tar += splt.slice(i, i+wordsPerLine).join(' ');\n      tar += '\\n';\n    }\n    tar = tar.trim();\n    return tar;\n  }\n  // text =css  splitTextToMaxLineWidth();\n  return (\n    <div style={styl}\n         className={clsName}>\n      <p>\n        {text}\n      </p>\n    </div>\n  );\n}\nfunction genLabelComp(label, fontSize, textAlignCenter=true){\n  return (<LabelComp text={label} fontSize={fontSize} textAlignCenter={textAlignCenter}/>);\n}\n\nfunction genFadingComponent(component, x=50, y=50, xpx=0, ypx=0, vertFadeIn=false, centralizeX=true, centralizeY=true){\n  return {\n    component,\n    x, y,\n    xpx, ypx,\n    fadeInOffsX: (vertFadeIn ? 0 : -10),\n    fadeInOffsY: (vertFadeIn ? -10 : 0),\n    centralizeX, centralizeY,\n  };\n}\n\nfunction AnimatedLabel({label, fadeInDelay=0, fadeOutDelay, fadeIn, fadeOut,\n                        startAnimations}){\n  const labelRef = useRef();\n  let stopAnimations = useRef(false);\n\n  function validNumb(x){\n    return !(x === undefined || x === null);\n  }\n\n  const FADE_IN_OFFS_X = validNumb(label.fadeInOffsX) ? label.fadeInOffsX :   0;\n  const FADE_IN_OFFS_Y = validNumb(label.fadeInOffsY) ? label.fadeInOffsY : -10;\n  const FADE_OUT_OFFS_X = FADE_IN_OFFS_X * -2;\n  const FADE_OUT_OFFS_Y = FADE_IN_OFFS_Y * -2;\n\n  if(fadeOutDelay === undefined || fadeOutDelay === null){\n    fadeOutDelay = fadeInDelay;\n  }\n\n  function animatePosition(label, sxprct, syprct, exprct, eyprct, xpx, ypx, sop, eop){\n    const lbl = labelRef.current;\n    if(!lbl || stopAnimations.current){\n      return;\n    }\n\n    const [centralizeX, centralizeY] = [label.centralizeX, label.centralizeY];\n\n    let totalDuration = 1000;\n    let elpsd = 0;\n    let st = new Date().getTime();\n    function animPos(){\n      let ct = new Date().getTime();\n      elpsd = ct - st;\n      let prgrs = elpsd / totalDuration;\n      let easedPrgrs = EasingFunctions.easeOutCubic( prgrs );\n      let tx = sxprct + (exprct - sxprct) * easedPrgrs;\n      let ty = syprct + (eyprct - syprct) * easedPrgrs;\n      let top = sop + (eop - sop) * EasingFunctions.easeOutQuart( prgrs );\n      const lftstl = `calc(${tx}% + ${xpx}px)`;\n      const topstl = `calc(${ty}% + ${ypx}px)`;\n      const trnsfrm = `translate(${centralizeX ? '-50%' : '0'}, ${centralizeY ? '-50%' : '0'})`;\n      lbl.style.left = lftstl;\n      lbl.style.top  = topstl;\n      lbl.style.transform = trnsfrm;\n      lbl.style.opacity = '' + top;\n\n    }\n    function runAnimPos(){\n      const lbl = labelRef.current;\n      if(!lbl || stopAnimations.current){\n        return;\n      }\n      animPos();\n      if(elpsd < totalDuration){\n        requestAnimationFrame(runAnimPos);\n      }else{\n        lbl.style.left = `calc(${exprct}% + ${xpx}px)`;\n        lbl.style.top  = `calc(${eyprct}% + ${ypx}px)`;\n        lbl.style.opacity = '' + eop;\n      }\n    }\n    runAnimPos();\n  }\n\n  function fadeInAnim(){\n    const lbl = labelRef.current;\n    if(!lbl || stopAnimations.current){\n      return;\n    }\n    setTimeout(()=>{\n      animatePosition(label,\n                      label.x + FADE_IN_OFFS_X, label.y + FADE_IN_OFFS_Y,\n                      label.x, label.y,\n                      label.xpx, label.ypx,\n                      0, 1);\n    }, fadeInDelay);\n  }\n  function fadeOutAnim(){\n    setTimeout(()=>{\n      animatePosition(label,\n                      label.x, label.y,\n                      label.x + FADE_OUT_OFFS_X, label.y + FADE_OUT_OFFS_Y,\n                      label.xpx, label.ypx,\n                      1, 0);\n    }, fadeOutDelay);\n  }\n\n  useEffect(()=>{\n    return ()=>{\n      stopAnimations.current = true;\n    }\n  }, []);\n  useEffect(()=>{\n    if(stopAnimations.current){\n      return;\n    }\n    if(!startAnimations){\n      return;\n    }\n    if(fadeIn){\n      fadeInAnim();\n    }else if(fadeOut){\n      fadeOutAnim();\n    }\n  }, [fadeIn, fadeOut, startAnimations]);\n\n  return (\n    <div className=\"AnimatedLabelFIP\"\n         ref={labelRef}>\n      {label.component}\n    </div>\n  );\n}\n\nfunction PositionedPreviewLabels({imgLabels, previewId,\n                                  fadeIn, fadeOut,\n                                  startAnimations}){\n  const FADE_IN_DELAY  = 500;\n  const FADE_OUT_DELAY = 250;\n  let cumulFadeInDelay = 0;\n  let cumulFadeOutDelay = imgLabels ? FADE_OUT_DELAY * (imgLabels.length-1) : 0;\n\n  const labelDivs = imgLabels && imgLabels.length > previewId && imgLabels[previewId]\n        ? imgLabels[previewId].map((label, id)=>{\n            cumulFadeInDelay  += FADE_IN_DELAY;\n            cumulFadeOutDelay -= FADE_OUT_DELAY;\n            return (\n              <AnimatedLabel key={id}\n                             label={label}\n                             fadeInDelay={cumulFadeInDelay}\n                             fadeOutDelay={cumulFadeOutDelay}\n                             fadeIn={fadeIn}\n                             fadeOut={fadeOut}\n                             startAnimations={startAnimations}\n              />\n            );\n          })\n        : '';\n  return (\n    <div className=\"PositionedPreviewLabelsFIP\">\n        {labelDivs}\n    </div>\n  );\n}\nfunction FragmentImagePreview({imgPaths, imgLabels, onPreviewClicked}){\n  function genArr(n, val){\n    const arr = [];\n    for(let i=0; i < n; ++i){\n      arr.push( val );\n    }\n    return arr;\n  }\n  const [previewId, setPreviewId] = useState(0);\n  const [labelFadeInOut, setLabelFadeInOut] = useState([false, false]);\n  const [initialized, setInitialized] = useState(false);\n  const [firstPrevIdIncrmntIntercepted, setFirstPrevIdIncrmntIntercepted] = useState(false);\n  const loadedImages = useRef(genArr(imgPaths.length, false));\n  const [newImageLoaded, setNewImageLoaded] = useState(-1);\n  const [waitingBarStopped, setWaitingBarStopped] = useState(false);\n\n  const mainRef = useRef();\n  const waitingBarRef= useRef();\n\n\n  function evalMainDivSize(){\n    let mdc = mainRef.current;\n    return [mdc.offsetWidth, mdc.offsetHeight];\n  }\n\n  function setWaitingBarDims(){\n    const [mdw, mdh] = evalMainDivSize();\n    let mwh = Math.min(300, Math.min(mdw, mdh) * 0.5);\n    const wb = waitingBarRef.current;\n    const pixelmwh = `${mwh}px`;\n    wb.style.width  = pixelmwh;\n    wb.style.height = pixelmwh;\n    wb.style.opacity = 1;\n  }\n\n  function onFirstFewImagesLoaded(){\n    setWaitingBarStopped(true);\n    setInitialized(true);\n  }\n\n  function loadImages(){\n    imgPaths.forEach((ip, id)=>{\n      const img = new Image();\n      img.onload = ()=>{\n        loadedImages.current[id] = true;\n        setNewImageLoaded( id );\n      };\n      img.src = ip;\n    });\n  }\n\n  useEffect(()=>{\n    setWaitingBarDims();\n    loadImages();\n  }, []);\n\n  useEffect(()=>{\n    if(loadedImages.current[0] && loadedImages.current[1]){\n      onFirstFewImagesLoaded();\n    }\n  }, [newImageLoaded]);\n  useEffect(()=>{\n    if(waitingBarStopped){\n      const wb = waitingBarRef.current;\n      wb.style.opacity = 0;\n    }\n  }, [waitingBarStopped]);\n  useEffect(()=>{\n  }, [previewId]);\n\n  function incrementPreviewId(){\n    if(initialized){\n      if(firstPrevIdIncrmntIntercepted){\n        const nxtPrevId = (previewId + 1) % imgLabels.length;\n        setPreviewId( nxtPrevId );\n      }else{\n        setFirstPrevIdIncrmntIntercepted(true);\n      }\n    }\n  }\n\n  function _onPreviewClicked(){\n    if(onPreviewClicked){\n      onPreviewClicked(previewId);\n    }\n  }\n\n  const imageTimeoutDuration = 5000;\n\n  const waitingBarElmnt = <WAITINGBAR.WaitingBar\n              innerRadius={0.45}\n              outerRadius={0.5}\n              fading={true}\n              fragmentCount={5}\n              progressSpeed={0.035}\n              scaleSpeed={0.0075}\n              fillColor={new WAITINGBAR.Color(80,80,80)}\n              selectedFillColor={new WAITINGBAR.Color(0,180,0)}\n              outerCurved={true}\n              innerCurved={true}\n              stop={waitingBarStopped}\n    />;\n\n  return (\n    <div className=\"MainFIP\"\n         ref={mainRef}\n         onClick={_onPreviewClicked}>\n\n      <div className=\"PreviewFIP\">\n        <FragmentAnmiator imgPaths={imgPaths}\n                          imageTimeoutDuration={imageTimeoutDuration}\n                          onImageEasedIn={()=>{\n                            incrementPreviewId();\n                            setLabelFadeInOut( [true, false] );\n                            setTimeout(()=>{\n                              setLabelFadeInOut( [false, true] );\n                            }, imageTimeoutDuration - 250);\n                          }}\n                          startAnimations={initialized}\n        />\n      </div>\n      <div className=\"FragmentAnimatorFIP\">\n        <PositionedPreviewLabels imgLabels={imgLabels}\n                                 previewId={previewId}\n                                 fadeIn ={labelFadeInOut[0]}\n                                 fadeOut={labelFadeInOut[1]}\n                                 startAnimations={initialized}\n        />\n      </div>\n      <div ref={waitingBarRef}\n           className=\"WaitingBarFIP\">\n        {waitingBarElmnt}\n      </div>\n    </div>\n  );\n}\n\nexport {FragmentImagePreview, genFadingComponent, LabelComp, genLabelComp};\n","import React, { useState, useEffect, useRef } from 'react';\nimport {FragmentImagePreview, genFadingComponent, genLabelComp, LabelComp} from '../FragmentImage/FragmentImagePreview';\nimport loadPreviews from '../main/MainPreviewTextLoader';\nimport './LandingPage.scss';\n\n\nfunction LandingPage({onPreviewClicked}){\n\n  const [previewComponents, setPreviewComponents] = useState([]);\n  const [previews, setPreviews] = useState([]);\n\n  function evalOffsets(id){\n    switch(id){\n      case 1:\n        return [[0, 35, 50, 0], [0, 35, 50, 100], [false, true], [50, 25], false]; // react\n      case 2:\n        return [[50, 50], [50, 50, 0, 100], [true, true], [50, 25], true]; // arduino\n      case 3:\n        return [[50, 50], [50, 50, 0, 100], [true, true], [50, 25], true]; // Ballin\n      case 4:\n        return [[20, 40], [20, 40, 0, 100], [false, true], [50, 25], false]; // slideshow\n      case 5:\n        return [[50, 40], [50, 40, 0, 100], [true, true], [50, 25], true]; // Kubu\n      case 6:\n        return [[0, 60, 100], [0, 60, 100, 100], [false, true], [50, 25], false]; // notes\n      case 7:\n        return [[50, 50], [50, 50, 0, 100], [true, true], [50, 25], true]; // reference manager\n    }\n  }\n  function genPreviewComponentFromPrevProgram(prevProgrm, id){\n    let offsets = evalOffsets(id);\n    let [x0prct, y0prct, x0px=0, y0px=0] = offsets[0];\n    let [x1prct, y1prct, x1px=0, y1px=0] = offsets[1];\n    const [centralizeX, centralizeY]     = offsets[2];\n    const [fontSizeHdng, fontSizeDescr]  = offsets[3];\n    const textAlignCenter = offsets[4];\n    const headingLbl = genFadingComponent(genLabelComp(prevProgrm.heading, fontSizeHdng, textAlignCenter),      x0prct, y0prct, x0px, y0px, (id+1)%2, centralizeX, centralizeY);\n    const descrLbl   = genFadingComponent(genLabelComp(prevProgrm.description, fontSizeDescr, textAlignCenter), x1prct, y1prct, x1px, y1px, (id+1)%2, centralizeX, centralizeY);\n    return [headingLbl, descrLbl];\n  }\n  function genInfoPreviewComponents(){\n    const hdngTxt = 'Welcome!';\n    const dscrTxt = `\n\t\t\tThe following shows some of the programs/projects that I've created\n\t\t\tover the past years. I published most of these projects on\n\t\t\tdedicated platforms. This website is created with the React.js-library\n\t\t\tand mainly serves me to test concepts of modern\n\t\t\tsingle page application development.\n\t\t`;\n    const headingLbl = genFadingComponent(genLabelComp(hdngTxt, 50), 50, 20, 0, 0, true, true, true);\n    const descrLbl = genFadingComponent(genLabelComp(dscrTxt, 20), 50, 20, 0, 50, true, true, false);\n    return [headingLbl, descrLbl];\n  }\n\n  function loadPreviewTexts(){\n    const prev_programs = loadPreviews();\n    setPreviews( prev_programs );\n    const previewData = prev_programs.map((prgrm, id)=>{\n      return genPreviewComponentFromPrevProgram(prgrm, id+1);\n    });\n    previewData.unshift( genInfoPreviewComponents() );\n    setPreviewComponents( previewData );\n  }\n\n  function _onPreviewClicked(id){\n    if(id === 0){\n      window.hist.push('/main');\n    }else{\n      const relURL = previews[id-1].url;\n      if (!!window.hist)\n      {\n        window.hist.push('/' + relURL);\n      }\n    }\n  }\n\n\n  useEffect(()=>{\n    loadPreviewTexts();\n  }, []);\n\n  const previewCount = 8;\n\n  function genImgPaths(){\n    const imgPaths = [];\n    for(let i=0; i < previewCount; ++i){\n      imgPaths.push( process.env.PUBLIC_URL + '/LandingPage/pics/img' + i + '.jpg' );\n    }\n    return imgPaths;\n  }\n\n  const imgPaths = genImgPaths();\n\n  return (\n    <div className=\"MainLP\">\n      <FragmentImagePreview imgPaths={imgPaths}\n                            imgLabels={previewComponents}\n                            onPreviewClicked={_onPreviewClicked}\n      />\n    </div>\n  );\n}\n\nexport default LandingPage;\n","import React, {Component} from 'react';\nimport {Switch, Route, withRouter} from \"react-router-dom\";\nimport './App.scss';\nimport tabs_info from './info.txt';\nimport TabBar from './TabBar';\nimport {readTextFile, arraysEqual} from './StaticFunctions';\nimport MainPage from './main/Main';\nimport Ballin from './Ballin/Ballin';\nimport Kubu from './Kubu/Kubu';\nimport ReferenceManager from './ReferenceManager/ReferenceManager';\nimport Notes from './Notes/Notes';\nimport SlideShow from './SlideShow/SlideShow';\nimport ArduinoFullstack from './ArduinoFullstack/ArduinoFullstack';\nimport LineAnimation from './LineAnimation/LineAnimation';\nimport ReactShowCase from './ReactShowCase/ReactShowCase';\nimport LandingPage from './LandingPage/LandingPage';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      tabs: []\n    }\n\n    this.tabClicked = this.tabClicked.bind(this);\n    this.initTabs = this.initTabs.bind(this);\n    this.updateTabSelection = this.updateTabSelection.bind(this);\n    this.onPreviewClicked = this.onPreviewClicked.bind(this);\n  }\n  initTabs() {\n    window.hist = this.props.history;\n\n    let txt = readTextFile(tabs_info);\n\n    let tabInfos = txt.split('\\n').filter((tn) => !!tn);\n    let tabs = tabInfos.map(ti => {\n      let [name, path] = ti.split(' | ');\n      return {name, path, selected: false};\n    });\n    // if (tabs.length > 0) {\n    //   tabs[0].selected = true;\n    // }\n    this.setState({tabs: tabs});\n    this.updateTabSelection();\n  }\n  componentDidUpdate(prevProps) {\n    //\t\tif (this.props.location !== prevProps.location) {\n    this.updateTabSelection();\n    //\t\t}\n  }\n  updateTabSelection() {\n    let tabs = this.state.tabs;\n    let curRelPath = this.getCurrentRelPath();\n\n    let selectionChanged = false;\n\n    if(!curRelPath){\n      // landing page - curRelPath is empty!\n      // if(tabs.length > 0 && !tabs[0].selected){\n      //   tabs[0].selected = true;\n      //   selectionChanged = true;\n      // }\n    }else{\n      tabs.forEach(t => {\n        let slctd = curRelPath.startsWith(t.path);\n        if (slctd !== t.selected) {\n          selectionChanged = true;\n        }\n        t.selected = slctd;\n      });\n    }\n\n    if (selectionChanged) {\n      this.setState(tabs);\n    }\n  }\n  getCurrentRelPath() {\n    return this.props.location.pathname.slice(1);\n  }\n  componentDidMount() {\n    this.initTabs();\n\n    window.scrollTo(0, 0);\n  }\n\n  componentWillUnmount() {\n  }\n  tabClicked(id) {\n    let tabs = this.state.tabs;\n\n    tabs.forEach((t, i) => t.selected = (id === i));\n\n    // if(!this.state || \n    //    !this.state.tabs ||\n    //    !this.state.tabs.length || \n    //     this.state.tabs.length >= id ||\n    //    !this.state.tabs[id])return;\n\n    let path = this.state.tabs[id].path;\n    this.props.history.push('/' + path);\n\n    this.setState(tabs);\n  }\n  onPreviewClicked(id){\n    this.tabClicked(id);\n  }\n  render() {\n    return (<div className=\"App\">\n\n      <div className=\"LinaAnimationDivApp\">\n      {\n        window.mobilecheck()\n          ? \"\"\n          : ''//<LineAnimation/>\n      }\n      </div>\n      <div className=\"ContentDivApp\">\n        <div className=\"App-header\">\n          <TabBar tabs={this.state.tabs} tabCallback={this.tabClicked}/>\n        </div>\n\n        <div className=\"MainDivAPP\">\n          <Switch>\n            <Route exact={true} path='/Main' component={MainPage}/>\n            <Route exact={true} path='/ReactShowCase' component={ReactShowCase}/>\n            <Route exact={true} path='/ArduinoFullstack' component={ArduinoFullstack}/>\n            <Route exact={true} path='/Ballin' component={Ballin}/>\n            <Route exact={true} path='/Kubu' component={Kubu}/>\n            <Route exact={true} path='/ReferenceManager' component={ReferenceManager}/>\n            <Route exact={true} path='/Notes' component={Notes}/>\n            <Route exact={true} path='/SlideShow' component={SlideShow}/>\n            <Route exact={false} path='/' render={()=><LandingPage onPreviewClicked={this.onPreviewClicked}/>}/>\n          </Switch>\n        </div>\n\n        <div className=\"ContactInfoBox\">\n          <div className=\"ContactHeading\">CONTACT</div>\n          _____\n          <br/><br/>\n          <div className=\"ContactText\">MrSoir</div>\n          <div className=\"ContactText\">support@MrSoir.com</div>\n          <div className=\"ContactText\">Tel. +49 157 703 458 32</div>\n        </div>\n      </div>\n\n\n    </div>);\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<Router>\n\t\t<App />\n\t</Router>\n\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}